/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),finalizer=Symbol("Comlink.finalizer"),throwMarker=Symbol("Comlink.thrown"),isObject=val=>typeof val=="object"&&val!==null||typeof val=="function",proxyTransferHandler={canHandle:val=>isObject(val)&&val[proxyMarker],serialize(obj){const{port1,port2}=new MessageChannel;return expose(obj,port1),[port2,[port2]]},deserialize(port){return port.start(),wrap(port)}},throwTransferHandler={canHandle:value=>isObject(value)&&throwMarker in value,serialize({value}){let serialized;return value instanceof Error?serialized={isError:!0,value:{message:value.message,name:value.name,stack:value.stack}}:serialized={isError:!1,value},[serialized,[]]},deserialize(serialized){throw serialized.isError?Object.assign(new Error(serialized.value.message),serialized.value):serialized.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function isAllowedOrigin(allowedOrigins,origin){for(const allowedOrigin of allowedOrigins)if(origin===allowedOrigin||allowedOrigin==="*"||allowedOrigin instanceof RegExp&&allowedOrigin.test(origin))return!0;return!1}function expose(obj,ep=globalThis,allowedOrigins=["*"]){ep.addEventListener("message",function callback(ev){if(!ev||!ev.data)return;if(!isAllowedOrigin(allowedOrigins,ev.origin)){console.warn(`Invalid origin '${ev.origin}' for comlink proxy`);return}const{id,type,path}=Object.assign({path:[]},ev.data),argumentList=(ev.data.argumentList||[]).map(fromWireValue);let returnValue;try{const parent=path.slice(0,-1).reduce((obj2,prop)=>obj2[prop],obj),rawValue=path.reduce((obj2,prop)=>obj2[prop],obj);switch(type){case"GET":returnValue=rawValue;break;case"SET":parent[path.slice(-1)[0]]=fromWireValue(ev.data.value),returnValue=!0;break;case"APPLY":returnValue=rawValue.apply(parent,argumentList);break;case"CONSTRUCT":{const value=new rawValue(...argumentList);returnValue=proxy(value)}break;case"ENDPOINT":{const{port1,port2}=new MessageChannel;expose(obj,port2),returnValue=transfer(port1,[port1])}break;case"RELEASE":returnValue=void 0;break;default:return}}catch(value){returnValue={value,[throwMarker]:0}}Promise.resolve(returnValue).catch(value=>({value,[throwMarker]:0})).then(returnValue2=>{const[wireValue,transferables]=toWireValue(returnValue2);ep.postMessage(Object.assign(Object.assign({},wireValue),{id}),transferables),type==="RELEASE"&&(ep.removeEventListener("message",callback),closeEndPoint(ep),finalizer in obj&&typeof obj[finalizer]=="function"&&obj[finalizer]())}).catch(error=>{const[wireValue,transferables]=toWireValue({value:new TypeError("Unserializable return value"),[throwMarker]:0});ep.postMessage(Object.assign(Object.assign({},wireValue),{id}),transferables)})}),ep.start&&ep.start()}function isMessagePort(endpoint){return endpoint.constructor.name==="MessagePort"}function closeEndPoint(endpoint){isMessagePort(endpoint)&&endpoint.close()}function wrap(ep,target){const pendingListeners=new Map;return ep.addEventListener("message",function(ev){const{data}=ev;if(!data||!data.id)return;const resolver=pendingListeners.get(data.id);if(resolver)try{resolver(data)}finally{pendingListeners.delete(data.id)}}),createProxy(ep,pendingListeners,[],target)}function throwIfProxyReleased(isReleased){if(isReleased)throw new Error("Proxy has been released and is not useable")}function releaseEndpoint(ep){return requestResponseMessage(ep,new Map,{type:"RELEASE"}).then(()=>{closeEndPoint(ep)})}const proxyCounter=new WeakMap,proxyFinalizers="FinalizationRegistry"in globalThis&&new FinalizationRegistry(ep=>{const newCount=(proxyCounter.get(ep)||0)-1;proxyCounter.set(ep,newCount),newCount===0&&releaseEndpoint(ep)});function registerProxy(proxy2,ep){const newCount=(proxyCounter.get(ep)||0)+1;proxyCounter.set(ep,newCount),proxyFinalizers&&proxyFinalizers.register(proxy2,ep,proxy2)}function unregisterProxy(proxy2){proxyFinalizers&&proxyFinalizers.unregister(proxy2)}function createProxy(ep,pendingListeners,path=[],target=function(){}){let isProxyReleased=!1;const proxy2=new Proxy(target,{get(_target,prop){if(throwIfProxyReleased(isProxyReleased),prop===releaseProxy)return()=>{unregisterProxy(proxy2),releaseEndpoint(ep),pendingListeners.clear(),isProxyReleased=!0};if(prop==="then"){if(path.length===0)return{then:()=>proxy2};const r=requestResponseMessage(ep,pendingListeners,{type:"GET",path:path.map(p=>p.toString())}).then(fromWireValue);return r.then.bind(r)}return createProxy(ep,pendingListeners,[...path,prop])},set(_target,prop,rawValue){throwIfProxyReleased(isProxyReleased);const[value,transferables]=toWireValue(rawValue);return requestResponseMessage(ep,pendingListeners,{type:"SET",path:[...path,prop].map(p=>p.toString()),value},transferables).then(fromWireValue)},apply(_target,_thisArg,rawArgumentList){throwIfProxyReleased(isProxyReleased);const last=path[path.length-1];if(last===createEndpoint)return requestResponseMessage(ep,pendingListeners,{type:"ENDPOINT"}).then(fromWireValue);if(last==="bind")return createProxy(ep,pendingListeners,path.slice(0,-1));const[argumentList,transferables]=processArguments(rawArgumentList);return requestResponseMessage(ep,pendingListeners,{type:"APPLY",path:path.map(p=>p.toString()),argumentList},transferables).then(fromWireValue)},construct(_target,rawArgumentList){throwIfProxyReleased(isProxyReleased);const[argumentList,transferables]=processArguments(rawArgumentList);return requestResponseMessage(ep,pendingListeners,{type:"CONSTRUCT",path:path.map(p=>p.toString()),argumentList},transferables).then(fromWireValue)}});return registerProxy(proxy2,ep),proxy2}function myFlat(arr){return Array.prototype.concat.apply([],arr)}function processArguments(argumentList){const processed=argumentList.map(toWireValue);return[processed.map(v=>v[0]),myFlat(processed.map(v=>v[1]))]}const transferCache=new WeakMap;function transfer(obj,transfers){return transferCache.set(obj,transfers),obj}function proxy(obj){return Object.assign(obj,{[proxyMarker]:!0})}function toWireValue(value){for(const[name,handler]of transferHandlers)if(handler.canHandle(value)){const[serializedValue,transferables]=handler.serialize(value);return[{type:"HANDLER",name,value:serializedValue},transferables]}return[{type:"RAW",value},transferCache.get(value)||[]]}function fromWireValue(value){switch(value.type){case"HANDLER":return transferHandlers.get(value.name).deserialize(value.value);case"RAW":return value.value}}function requestResponseMessage(ep,pendingListeners,msg,transfers){return new Promise(resolve=>{const id=generateUUID();pendingListeners.set(id,resolve),ep.start&&ep.start(),ep.postMessage(Object.assign({id},msg),transfers)})}function generateUUID(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var sparkMd5={exports:{}};(function(module,exports){(function(factory){module.exports=factory()})(function(undefined$1){var hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a+=(b&c|~b&d)+k[0]-680876936|0,a=(a<<7|a>>>25)+b|0,d+=(a&b|~a&c)+k[1]-389564586|0,d=(d<<12|d>>>20)+a|0,c+=(d&a|~d&b)+k[2]+606105819|0,c=(c<<17|c>>>15)+d|0,b+=(c&d|~c&a)+k[3]-1044525330|0,b=(b<<22|b>>>10)+c|0,a+=(b&c|~b&d)+k[4]-176418897|0,a=(a<<7|a>>>25)+b|0,d+=(a&b|~a&c)+k[5]+1200080426|0,d=(d<<12|d>>>20)+a|0,c+=(d&a|~d&b)+k[6]-1473231341|0,c=(c<<17|c>>>15)+d|0,b+=(c&d|~c&a)+k[7]-45705983|0,b=(b<<22|b>>>10)+c|0,a+=(b&c|~b&d)+k[8]+1770035416|0,a=(a<<7|a>>>25)+b|0,d+=(a&b|~a&c)+k[9]-1958414417|0,d=(d<<12|d>>>20)+a|0,c+=(d&a|~d&b)+k[10]-42063|0,c=(c<<17|c>>>15)+d|0,b+=(c&d|~c&a)+k[11]-1990404162|0,b=(b<<22|b>>>10)+c|0,a+=(b&c|~b&d)+k[12]+1804603682|0,a=(a<<7|a>>>25)+b|0,d+=(a&b|~a&c)+k[13]-40341101|0,d=(d<<12|d>>>20)+a|0,c+=(d&a|~d&b)+k[14]-1502002290|0,c=(c<<17|c>>>15)+d|0,b+=(c&d|~c&a)+k[15]+1236535329|0,b=(b<<22|b>>>10)+c|0,a+=(b&d|c&~d)+k[1]-165796510|0,a=(a<<5|a>>>27)+b|0,d+=(a&c|b&~c)+k[6]-1069501632|0,d=(d<<9|d>>>23)+a|0,c+=(d&b|a&~b)+k[11]+643717713|0,c=(c<<14|c>>>18)+d|0,b+=(c&a|d&~a)+k[0]-373897302|0,b=(b<<20|b>>>12)+c|0,a+=(b&d|c&~d)+k[5]-701558691|0,a=(a<<5|a>>>27)+b|0,d+=(a&c|b&~c)+k[10]+38016083|0,d=(d<<9|d>>>23)+a|0,c+=(d&b|a&~b)+k[15]-660478335|0,c=(c<<14|c>>>18)+d|0,b+=(c&a|d&~a)+k[4]-405537848|0,b=(b<<20|b>>>12)+c|0,a+=(b&d|c&~d)+k[9]+568446438|0,a=(a<<5|a>>>27)+b|0,d+=(a&c|b&~c)+k[14]-1019803690|0,d=(d<<9|d>>>23)+a|0,c+=(d&b|a&~b)+k[3]-187363961|0,c=(c<<14|c>>>18)+d|0,b+=(c&a|d&~a)+k[8]+1163531501|0,b=(b<<20|b>>>12)+c|0,a+=(b&d|c&~d)+k[13]-1444681467|0,a=(a<<5|a>>>27)+b|0,d+=(a&c|b&~c)+k[2]-51403784|0,d=(d<<9|d>>>23)+a|0,c+=(d&b|a&~b)+k[7]+1735328473|0,c=(c<<14|c>>>18)+d|0,b+=(c&a|d&~a)+k[12]-1926607734|0,b=(b<<20|b>>>12)+c|0,a+=(b^c^d)+k[5]-378558|0,a=(a<<4|a>>>28)+b|0,d+=(a^b^c)+k[8]-2022574463|0,d=(d<<11|d>>>21)+a|0,c+=(d^a^b)+k[11]+1839030562|0,c=(c<<16|c>>>16)+d|0,b+=(c^d^a)+k[14]-35309556|0,b=(b<<23|b>>>9)+c|0,a+=(b^c^d)+k[1]-1530992060|0,a=(a<<4|a>>>28)+b|0,d+=(a^b^c)+k[4]+1272893353|0,d=(d<<11|d>>>21)+a|0,c+=(d^a^b)+k[7]-155497632|0,c=(c<<16|c>>>16)+d|0,b+=(c^d^a)+k[10]-1094730640|0,b=(b<<23|b>>>9)+c|0,a+=(b^c^d)+k[13]+681279174|0,a=(a<<4|a>>>28)+b|0,d+=(a^b^c)+k[0]-358537222|0,d=(d<<11|d>>>21)+a|0,c+=(d^a^b)+k[3]-722521979|0,c=(c<<16|c>>>16)+d|0,b+=(c^d^a)+k[6]+76029189|0,b=(b<<23|b>>>9)+c|0,a+=(b^c^d)+k[9]-640364487|0,a=(a<<4|a>>>28)+b|0,d+=(a^b^c)+k[12]-421815835|0,d=(d<<11|d>>>21)+a|0,c+=(d^a^b)+k[15]+530742520|0,c=(c<<16|c>>>16)+d|0,b+=(c^d^a)+k[2]-995338651|0,b=(b<<23|b>>>9)+c|0,a+=(c^(b|~d))+k[0]-198630844|0,a=(a<<6|a>>>26)+b|0,d+=(b^(a|~c))+k[7]+1126891415|0,d=(d<<10|d>>>22)+a|0,c+=(a^(d|~b))+k[14]-1416354905|0,c=(c<<15|c>>>17)+d|0,b+=(d^(c|~a))+k[5]-57434055|0,b=(b<<21|b>>>11)+c|0,a+=(c^(b|~d))+k[12]+1700485571|0,a=(a<<6|a>>>26)+b|0,d+=(b^(a|~c))+k[3]-1894986606|0,d=(d<<10|d>>>22)+a|0,c+=(a^(d|~b))+k[10]-1051523|0,c=(c<<15|c>>>17)+d|0,b+=(d^(c|~a))+k[1]-2054922799|0,b=(b<<21|b>>>11)+c|0,a+=(c^(b|~d))+k[8]+1873313359|0,a=(a<<6|a>>>26)+b|0,d+=(b^(a|~c))+k[15]-30611744|0,d=(d<<10|d>>>22)+a|0,c+=(a^(d|~b))+k[6]-1560198380|0,c=(c<<15|c>>>17)+d|0,b+=(d^(c|~a))+k[13]+1309151649|0,b=(b<<21|b>>>11)+c|0,a+=(c^(b|~d))+k[4]-145523070|0,a=(a<<6|a>>>26)+b|0,d+=(b^(a|~c))+k[11]-1120210379|0,d=(d<<10|d>>>22)+a|0,c+=(a^(d|~b))+k[2]+718787259|0,c=(c<<15|c>>>17)+d|0,b+=(d^(c|~a))+k[9]-343485551|0,b=(b<<21|b>>>11)+c|0,x[0]=a+x[0]|0,x[1]=b+x[1]|0,x[2]=c+x[2]|0,x[3]=d+x[3]|0}function md5blk(s){var md5blks=[],i;for(i=0;i<64;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks}function md5blk_array(a){var md5blks=[],i;for(i=0;i<64;i+=4)md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24);return md5blks}function md51(s){var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64)md5cycle(state,md5blk(s.substring(i-64,i)));for(s=s.substring(i-64),length=s.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<length;i+=1)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;i<16;i+=1)tail[i]=0;return tmp=n*8,tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}function md51_array(a){var n=a.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64)md5cycle(state,md5blk_array(a.subarray(i-64,i)));for(a=i-64<n?a.subarray(i-64):new Uint8Array(0),length=a.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<length;i+=1)tail[i>>2]|=a[i]<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;i<16;i+=1)tail[i]=0;return tmp=n*8,tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}function rhex(n){var s="",j;for(j=0;j<4;j+=1)s+=hex_chr[n>>j*8+4&15]+hex_chr[n>>j*8&15];return s}function hex(x){var i;for(i=0;i<x.length;i+=1)x[i]=rhex(x[i]);return x.join("")}hex(md51("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function clamp(val,length){return val=val|0||0,val<0?Math.max(val+length,0):Math.min(val,length)}ArrayBuffer.prototype.slice=function(from,to){var length=this.byteLength,begin=clamp(from,length),end=length,num,target,targetArray,sourceArray;return to!==undefined$1&&(end=clamp(to,length)),begin>end?new ArrayBuffer(0):(num=end-begin,target=new ArrayBuffer(num),targetArray=new Uint8Array(target),sourceArray=new Uint8Array(this,begin,num),targetArray.set(sourceArray),target)}}();function toUtf8(str){return/[\u0080-\uFFFF]/.test(str)&&(str=unescape(encodeURIComponent(str))),str}function utf8Str2ArrayBuffer(str,returnUInt8Array){var length=str.length,buff=new ArrayBuffer(length),arr=new Uint8Array(buff),i;for(i=0;i<length;i+=1)arr[i]=str.charCodeAt(i);return returnUInt8Array?arr:buff}function arrayBuffer2Utf8Str(buff){return String.fromCharCode.apply(null,new Uint8Array(buff))}function concatenateArrayBuffers(first,second,returnUInt8Array){var result=new Uint8Array(first.byteLength+second.byteLength);return result.set(new Uint8Array(first)),result.set(new Uint8Array(second),first.byteLength),returnUInt8Array?result:result.buffer}function hexToBinaryString(hex2){var bytes=[],length=hex2.length,x;for(x=0;x<length-1;x+=2)bytes.push(parseInt(hex2.substr(x,2),16));return String.fromCharCode.apply(String,bytes)}function SparkMD52(){this.reset()}return SparkMD52.prototype.append=function(str){return this.appendBinary(toUtf8(str)),this},SparkMD52.prototype.appendBinary=function(contents){this._buff+=contents,this._length+=contents.length;var length=this._buff.length,i;for(i=64;i<=length;i+=64)md5cycle(this._hash,md5blk(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},SparkMD52.prototype.end=function(raw){var buff=this._buff,length=buff.length,i,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ret;for(i=0;i<length;i+=1)tail[i>>2]|=buff.charCodeAt(i)<<(i%4<<3);return this._finish(tail,length),ret=hex(this._hash),raw&&(ret=hexToBinaryString(ret)),this.reset(),ret},SparkMD52.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD52.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},SparkMD52.prototype.setState=function(state){return this._buff=state.buff,this._length=state.length,this._hash=state.hash,this},SparkMD52.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},SparkMD52.prototype._finish=function(tail,length){var i=length,tmp,lo,hi;if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(this._hash,tail),i=0;i<16;i+=1)tail[i]=0;tmp=this._length*8,tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(this._hash,tail)},SparkMD52.hash=function(str,raw){return SparkMD52.hashBinary(toUtf8(str),raw)},SparkMD52.hashBinary=function(content,raw){var hash=md51(content),ret=hex(hash);return raw?hexToBinaryString(ret):ret},SparkMD52.ArrayBuffer=function(){this.reset()},SparkMD52.ArrayBuffer.prototype.append=function(arr){var buff=concatenateArrayBuffers(this._buff.buffer,arr,!0),length=buff.length,i;for(this._length+=arr.byteLength,i=64;i<=length;i+=64)md5cycle(this._hash,md5blk_array(buff.subarray(i-64,i)));return this._buff=i-64<length?new Uint8Array(buff.buffer.slice(i-64)):new Uint8Array(0),this},SparkMD52.ArrayBuffer.prototype.end=function(raw){var buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,ret;for(i=0;i<length;i+=1)tail[i>>2]|=buff[i]<<(i%4<<3);return this._finish(tail,length),ret=hex(this._hash),raw&&(ret=hexToBinaryString(ret)),this.reset(),ret},SparkMD52.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD52.ArrayBuffer.prototype.getState=function(){var state=SparkMD52.prototype.getState.call(this);return state.buff=arrayBuffer2Utf8Str(state.buff),state},SparkMD52.ArrayBuffer.prototype.setState=function(state){return state.buff=utf8Str2ArrayBuffer(state.buff,!0),SparkMD52.prototype.setState.call(this,state)},SparkMD52.ArrayBuffer.prototype.destroy=SparkMD52.prototype.destroy,SparkMD52.ArrayBuffer.prototype._finish=SparkMD52.prototype._finish,SparkMD52.ArrayBuffer.hash=function(arr,raw){var hash=md51_array(new Uint8Array(arr)),ret=hex(hash);return raw?hexToBinaryString(ret):ret},SparkMD52})})(sparkMd5);var sparkMd5Exports=sparkMd5.exports,SparkMD5=getDefaultExportFromCjs(sparkMd5Exports);class UploadWorker{async calculateMD5(file,onProgress){return new Promise((resolve,reject)=>{const chunks=Math.ceil(file.size/2097152),spark=new SparkMD5.ArrayBuffer;let currentChunk=0;const fileReader=new FileReader;fileReader.onload=e=>{if(e.target?.result){if(spark.append(e.target.result),currentChunk++,onProgress){const progress=Math.round(currentChunk/chunks*100);onProgress(progress)}if(currentChunk<chunks)loadNext();else{const hash=spark.end();resolve(hash)}}},fileReader.onerror=()=>{reject(new Error("MD5 calculation failed"))};const loadNext=()=>{const start=currentChunk*2097152,end=Math.min(start+2097152,file.size);fileReader.readAsArrayBuffer(file.slice(start,end))};loadNext()})}async createChunks(file,chunkSize){const chunks=[],totalChunks=Math.ceil(file.size/chunkSize);for(let i=0;i<totalChunks;i++){const start=i*chunkSize,end=Math.min(start+chunkSize,file.size),blob=file.slice(start,end);chunks.push({index:i,start,end,blob})}for(const chunk of chunks)chunk.hash=await this.calculateChunkMD5(chunk.blob);return chunks}async calculateChunkMD5(chunk){return new Promise((resolve,reject)=>{const fileReader=new FileReader;fileReader.onload=e=>{if(e.target?.result){const spark=new SparkMD5.ArrayBuffer;spark.append(e.target.result),resolve(spark.end())}},fileReader.onerror=()=>{reject(new Error("Chunk MD5 calculation failed"))},fileReader.readAsArrayBuffer(chunk)})}async verifyFileIntegrity(file,expectedHash){try{return await this.calculateMD5(file)===expectedHash}catch{return!1}}}const worker=new UploadWorker;expose(worker);
