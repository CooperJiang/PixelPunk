var __defProp=Object.defineProperty;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;var __publicField=(obj,key,value)=>(__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),value),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)};var __privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);var __privateWrapper=(obj,member,setter,getter)=>({set _(value){__privateSet(obj,member,value,setter)},get _(){return __privateGet(obj,member,getter)}}),__privateMethod=(obj,member,method)=>(__accessCheck(obj,member,"access private method"),method);import{d as defineComponent,e as inject,f as createVNode,a as reactive,r as ref,w as watch,b as onMounted,j as onBeforeUnmount,k as cloneVNode,s as shallowRef,p as provide,c as computed,F as Fragment,l as useId,m as toRef,n as nextTick,h as h$3,T as Teleport,q as isVNode,v as createApp}from"./vue-vendor-31320f47.js";const scriptRel="modulepreload",assetsURL=function(dep){return"/"+dep},seen={},__vitePreload=function(baseModule,deps,importerUrl){if(!deps||deps.length===0)return baseModule();const links=document.getElementsByTagName("link");return Promise.all(deps.map(dep=>{if(dep=assetsURL(dep),dep in seen)return;seen[dep]=!0;const isCss=dep.endsWith(".css"),cssSelector=isCss?'[rel="stylesheet"]':"";if(!!importerUrl)for(let i=links.length-1;i>=0;i--){const link3=links[i];if(link3.href===dep&&(!isCss||link3.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${dep}"]${cssSelector}`))return;const link2=document.createElement("link");if(link2.rel=isCss?"stylesheet":scriptRel,isCss||(link2.as="script",link2.crossOrigin=""),link2.href=dep,document.head.appendChild(link2),isCss)return new Promise((res,rej)=>{link2.addEventListener("load",res),link2.addEventListener("error",()=>rej(new Error(`Unable to preload CSS for ${dep}`)))})})).then(()=>baseModule()).catch(err=>{const e2=new Event("vite:preloadError",{cancelable:!0});if(e2.payload=err,window.dispatchEvent(e2),!e2.defaultPrevented)throw err})},T$1=e2=>{const n2=typeof e2;return n2!=="function"&&n2!=="object"||e2===null},E=e2=>{const n2=e2.flags===""?void 0:e2.flags;return new RegExp(e2.source,n2)},u$3=(e2,n2=new WeakMap)=>{if(e2===null||T$1(e2))return e2;if(n2.has(e2))return n2.get(e2);if(e2 instanceof RegExp)return E(e2);if(e2 instanceof Date)return new Date(e2.getTime());if(e2 instanceof Function)return e2;if(e2 instanceof Map){const r2=new Map;return n2.set(e2,r2),e2.forEach((o2,s2)=>{r2.set(s2,u$3(o2,n2))}),r2}if(e2 instanceof Set){const r2=new Set;n2.set(e2,r2);for(const o2 of e2)r2.add(u$3(o2,n2));return r2}if(Array.isArray(e2)){const r2=[];return n2.set(e2,r2),e2.forEach(o2=>{r2.push(u$3(o2,n2))}),r2}const t2={};n2.set(e2,t2);for(const r2 in e2)Object.prototype.hasOwnProperty.call(e2,r2)&&(t2[r2]=u$3(e2[r2],n2));return t2},k$1=(e2,n2=200)=>{let t2=0;return(...r2)=>new Promise(o2=>{t2&&(clearTimeout(t2),o2("cancel")),t2=window.setTimeout(()=>{e2.apply(void 0,r2),t2=0,o2("done")},n2)})},C$2=(e2,n2={_blank:!0,nofollow:!0})=>{const t2=document.createElement("a");t2.href=e2,n2._blank&&(t2.target="_blank"),n2.nofollow&&(t2.rel="noopener noreferrer"),t2.click()},x=()=>{let e2=-1;return(t2,r2,o2,s2=100)=>{const c2=()=>{o2&&(typeof s2=="number"?setTimeout(o2,s2):o2())};e2!==-1&&(cancelAnimationFrame(e2),c2());let i=t2.scrollTop;const l2=()=>{e2=-1;const a2=r2-i;i=i+a2/5,Math.abs(a2)<1?(t2.scrollTo(0,r2),c2()):(t2.scrollTo(0,i),e2=requestAnimationFrame(l2))};e2=requestAnimationFrame(l2)}},$=(e2,n2=200)=>{let t2=0,r2=null;const o2=s2=>{t2===0&&(t2=s2),s2-t2>=n2?(e2.apply(void 0,r2),r2=null,t2=0):window.requestAnimationFrame(o2)};return(...s2)=>{r2===null&&window.requestAnimationFrame(o2),r2=s2}},I$2=e2=>{const n2=t2=>{const{scrollHeight:r2,scrollWidth:o2,offsetHeight:s2,offsetWidth:c2,scrollLeft:i,scrollTop:l2}=e2,a2=t2.x,h2=t2.y,p2=g2=>{const f2=l2+h2-g2.y,d2=i+a2-g2.x,S2=r2-s2,A2=o2-c2,m2={};d2>=0&&d2<=A2&&(m2.left=d2),f2>=0&&f2<=S2&&(m2.top=f2),e2.scroll(m2)};document.addEventListener("mousemove",p2);const w2=()=>{document.removeEventListener("mousemove",p2),document.removeEventListener("mouseup",w2)};document.addEventListener("mouseup",w2)};return e2.addEventListener("mousedown",n2),()=>{e2.removeEventListener("mousedown",n2)}},U=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,y=e2=>e2!==null&&typeof e2=="object"&&!Array.isArray(e2),M$1=(e2,n2,t2={})=>{const{excludeKeys:r2}=t2;for(const o2 in n2)r2&&r2(o2)?e2[o2]=n2[o2]:y(n2[o2])&&y(e2[o2])?e2[o2]=M$1(e2[o2],n2[o2],t2):e2[o2]=n2[o2];return e2},p$2="md-editor",u$2="MdEditor",s="https://unpkg.com",n$2=`${s}/@highlightjs/cdn-assets@11.10.0/highlight.min.js`,i$4={main:`${s}/prettier@3.3.3/standalone.js`,markdown:`${s}/prettier@3.3.3/plugins/markdown.js`},a={css:`${s}/cropperjs@1.6.2/dist/cropper.min.css`,js:`${s}/cropperjs@1.6.2/dist/cropper.min.js`},o=`${s}/screenfull@5.2.0/dist/screenfull.js`,l$1=`${s}/mermaid@11.9.0/dist/mermaid.min.js`,c$1={js:`${s}/katex@0.16.22/dist/katex.min.js`,css:`${s}/katex@0.16.22/dist/katex.min.css`},g$5={a11y:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/a11y-light.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/a11y-dark.min.css`},atom:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-light.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-dark.min.css`},github:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/github.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/github-dark.min.css`},gradient:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/gradient-light.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/gradient-dark.min.css`},kimbie:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-light.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-dark.min.css`},paraiso:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-light.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-light.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${s}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-light.min.css`,dark:`${s}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-dark.min.css`}},d$1=`${s}/echarts@6.0.0/dist/echarts.min.js`,k=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","previewOnly","htmlPreview","catalog","github"],b$1=["markdownTotal","=","scrollSwitch"],v={"zh-CN":{toolbarTips:{bold:"Âä†Á≤ó",underline:"‰∏ãÂàíÁ∫ø",italic:"Êñú‰Ωì",strikeThrough:"Âà†Èô§Á∫ø",title:"Ê†áÈ¢ò",sub:"‰∏ãÊ†á",sup:"‰∏äÊ†á",quote:"ÂºïÁî®",unorderedList:"Êó†Â∫èÂàóË°®",orderedList:"ÊúâÂ∫èÂàóË°®",task:"‰ªªÂä°ÂàóË°®",codeRow:"Ë°åÂÜÖ‰ª£Á†Å",code:"ÂùóÁ∫ß‰ª£Á†Å",link:"ÈìæÊé•",image:"ÂõæÁâá",table:"Ë°®Ê†º",mermaid:"mermaidÂõæ",katex:"katexÂÖ¨Âºè",revoke:"ÂêéÈÄÄ",next:"ÂâçËøõ",save:"‰øùÂ≠ò",prettier:"ÁæéÂåñ",pageFullscreen:"ÊµèËßàÂô®ÂÖ®Â±è",fullscreen:"Â±èÂπïÂÖ®Â±è",preview:"È¢ÑËßà",previewOnly:"‰ªÖÈ¢ÑËßà",htmlPreview:"html‰ª£Á†ÅÈ¢ÑËßà",catalog:"ÁõÆÂΩï",github:"Ê∫êÁ†ÅÂú∞ÂùÄ"},titleItem:{h1:"‰∏ÄÁ∫ßÊ†áÈ¢ò",h2:"‰∫åÁ∫ßÊ†áÈ¢ò",h3:"‰∏âÁ∫ßÊ†áÈ¢ò",h4:"ÂõõÁ∫ßÊ†áÈ¢ò",h5:"‰∫îÁ∫ßÊ†áÈ¢ò",h6:"ÂÖ≠Á∫ßÊ†áÈ¢ò"},imgTitleItem:{link:"Ê∑ªÂä†ÈìæÊé•",upload:"‰∏ä‰º†ÂõæÁâá",clip2upload:"Ë£ÅÂâ™‰∏ä‰º†"},linkModalTips:{linkTitle:"Ê∑ªÂä†ÈìæÊé•",imageTitle:"Ê∑ªÂä†ÂõæÁâá",descLabel:"ÈìæÊé•ÊèèËø∞Ôºö",descLabelPlaceHolder:"ËØ∑ËæìÂÖ•ÊèèËø∞...",urlLabel:"ÈìæÊé•Âú∞ÂùÄÔºö",urlLabelPlaceHolder:"ËØ∑ËæìÂÖ•ÈìæÊé•...",buttonOK:"Á°ÆÂÆö"},clipModalTips:{title:"Ë£ÅÂâ™ÂõæÁâá‰∏ä‰º†",buttonUpload:"‰∏ä‰º†"},copyCode:{text:"Â§çÂà∂‰ª£Á†Å",successTips:"Â∑≤Â§çÂà∂ÔºÅ",failTips:"Â§çÂà∂Â§±Ë¥•ÔºÅ"},mermaid:{flow:"ÊµÅÁ®ãÂõæ",sequence:"Êó∂Â∫èÂõæ",gantt:"ÁîòÁâπÂõæ",class:"Á±ªÂõæ",state:"Áä∂ÊÄÅÂõæ",pie:"È•ºÂõæ",relationship:"ÂÖ≥Á≥ªÂõæ",journey:"ÊóÖÁ®ãÂõæ"},katex:{inline:"Ë°åÂÜÖÂÖ¨Âºè",block:"ÂùóÁ∫ßÂÖ¨Âºè"},footer:{markdownTotal:"Â≠óÊï∞",scrollAuto:"ÂêåÊ≠•ÊªöÂä®"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Image Link",upload:"Upload Images",clip2upload:"Crop And Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},h$2={editorExtensions:{highlight:{js:n$2,css:g$5},prettier:{standaloneJs:i$4.main,parserMarkdownJs:i$4.markdown},cropper:{...a},screenfull:{js:o},mermaid:{js:l$1,enableZoom:!0},katex:{...c$1},echarts:{js:d$1}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:e2=>e2,markdownItConfig:()=>{},markdownItPlugins:e2=>e2,mermaidConfig:e2=>e2,katexConfig:e2=>e2,echartsConfig:e2=>e2},w$1=.1,g$4=({instance:o2,ctx:l2,props:r2={}},t2="default")=>{const s2=o2?.$slots[t2]||l2?.slots[t2];return(s2?s2(o2):"")||r2[t2]},j$3={overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"},disabled:{type:Boolean,default:void 0}},I$1=defineComponent({name:`${p$2}-dropdown`,props:j$3,setup(e2,a2){const d2=`${p$2}-dropdown-hidden`,t2=reactive({overlayClass:[d2],overlayStyle:{},triggerHover:!1,overlayHover:!1}),r2=ref(),l2=ref(),s2=()=>{if(e2.disabled)return!1;t2.triggerHover=!0;const n2=r2.value,o2=l2.value;if(!n2||!o2)return;const g2=n2.getBoundingClientRect(),c2=n2.offsetTop,L2=n2.offsetLeft,E2=g2.height,T2=g2.width,S2=n2.getRootNode(),m2=S2.querySelector(e2.relative)?.scrollLeft||0,C2=S2.querySelector(e2.relative)?.clientWidth||0;let f2=L2-o2.offsetWidth/2+T2/2-m2;f2+o2.offsetWidth>m2+C2&&(f2=m2+C2-o2.offsetWidth),f2<0&&(f2=0),t2.overlayStyle={...t2.overlayStyle,top:c2+E2+"px",left:f2+"px"},e2.onChange(!0)},b2=()=>{if(e2.disabled)return!1;t2.overlayHover=!0};watch(()=>e2.visible,n2=>{n2?t2.overlayClass=t2.overlayClass.filter(o2=>o2!==d2):t2.overlayClass.push(d2)});let p2=-1;const v2=n2=>{r2.value===n2.target?t2.triggerHover=!1:t2.overlayHover=!1,clearTimeout(p2),p2=window.setTimeout(()=>{!t2.overlayHover&&!t2.triggerHover&&e2.onChange(!1)},10)};return onMounted(()=>{r2.value.addEventListener("mouseenter",s2),r2.value.addEventListener("mouseleave",v2),l2.value.addEventListener("mouseenter",b2),l2.value.addEventListener("mouseleave",v2)}),onBeforeUnmount(()=>{r2.value.removeEventListener("mouseenter",s2),r2.value.removeEventListener("mouseleave",v2),l2.value.removeEventListener("mouseenter",b2),l2.value.removeEventListener("mouseleave",v2)}),()=>{const n2=g$4({ctx:a2}),o2=g$4({props:e2,ctx:a2},"overlay"),g2=cloneVNode(n2 instanceof Array?n2[0]:n2,{ref:r2,key:"cloned-dropdown-trigger"}),c2=createVNode("div",{class:[`${p$2}-dropdown`,t2.overlayClass],style:t2.overlayStyle,ref:l2},[createVNode("div",{class:`${p$2}-dropdown-overlay`},[o2 instanceof Array?o2[0]:o2])]);return[g2,c2]}}}),R$2={title:{type:String,default:""},visible:{type:Boolean,default:void 0},trigger:{type:[String,Object],default:void 0},onChange:{type:Function,default:void 0},overlay:{type:[String,Object],default:void 0},insert:{type:Function,default:void 0},language:{type:String,default:void 0},theme:{type:String,default:void 0},previewTheme:{type:String,default:void 0},codeTheme:{type:String,default:void 0},disabled:{type:Boolean,default:void 0},showToolbarName:{type:Boolean,default:void 0}},h$1=defineComponent({name:"DropdownToolbar",props:R$2,emits:["onChange"],setup(e2,a2){const d2=inject("editorId");return()=>{const t2=g$4({props:e2,ctx:a2},"trigger"),r2=g$4({props:e2,ctx:a2},"overlay"),l2=g$4({props:e2,ctx:a2});return createVNode(I$1,{relative:`#${d2}-toolbar-wrapper`,visible:e2.visible,onChange:s2=>{e2.onChange?.(s2),a2.emit("onChange",s2)},overlay:r2,disabled:e2.disabled},{default:()=>[createVNode("button",{class:[`${p$2}-toolbar-item`,e2.disabled&&`${p$2}-disabled`],title:e2.title||"",disabled:e2.disabled,type:"button"},[l2||t2])]})}}});h$1.install=e2=>(e2.component(h$1.name,h$1),e2);const i$3="onSave",C$1="changeCatalogVisible",h="changeFullscreen",_="pageFullscreenChanged",r$1="fullscreenChanged",A$1="previewChanged",R$1="previewOnlyChanged",p$1="htmlPreviewChanged",g$3="catalogVisibleChanged",L="buildFinished",N$1="errorCatcher",G="replace",I="uploadImage",T="ctrlZ",d="ctrlShiftZ",S$1="catalogChanged",H="pushCatalog",D$1="rerender",V$1="eventListener",O="taskStateChanged",u$1="sendEditorView",f$1="getEditorView";class c{constructor(){__publicField(this,"pools",{})}remove(s2,o2,a2){const t2=this.pools[s2]&&this.pools[s2][o2];t2&&(this.pools[s2][o2]=t2.filter(e2=>e2!==a2))}clear(s2){this.pools[s2]={}}on(s2,o2){return this.pools[s2]||(this.pools[s2]={}),this.pools[s2][o2.name]||(this.pools[s2][o2.name]=[]),this.pools[s2][o2.name].push(o2.callback),this.pools[s2][o2.name].includes(o2.callback)}emit(s2,o2,...a2){this.pools[s2]||(this.pools[s2]={});const t2=this.pools[s2][o2];t2&&t2.forEach(e2=>{try{e2(...a2)}catch(E2){console.error(`${o2} monitor event exceptionÔºÅ`,E2)}})}}const F$1=new c,u=(t2,e2="image.png")=>{const r2=t2.split(","),n2=r2[0].match(/:(.*?);/);if(n2){const c2=n2[1],o2=atob(r2[1]);let s2=o2.length;const a2=new Uint8Array(s2);for(;s2--;)a2[s2]=o2.charCodeAt(s2);return new File([a2],e2,{type:c2})}return null},l=(t2,e2)=>{if(!t2)return t2;const r2=e2.split(`
`),n2=['<span rn-wrapper aria-hidden="true">'];return r2.forEach(()=>{n2.push("<span></span>")}),n2.push("</span>"),`<span class="${p$2}-code-block">${t2}</span>${n2.join("")}`},g$2=(t2,e2)=>{if(!t2||!e2)return 0;const r2=t2?.getBoundingClientRect();if(e2===document.documentElement)return r2.top-e2.clientTop;const n2=e2?.getBoundingClientRect();return r2.top-n2.top},m$1=(()=>{let t2=0;return()=>++t2})(),se$1=`.${p$2}-preview > [data-line]`,F=(e2,t2)=>+getComputedStyle(e2).getPropertyValue(t2).replace("px",""),ve$2=(e2,t2)=>{const E2=k$1(()=>{e2.removeEventListener("scroll",s2),e2.addEventListener("scroll",s2),t2.removeEventListener("scroll",s2),t2.addEventListener("scroll",s2)},50),s2=n2=>{const k2=e2.clientHeight,L2=t2.clientHeight,v2=e2.scrollHeight,r2=t2.scrollHeight,g2=(v2-k2)/(r2-L2);n2.target===e2?(t2.removeEventListener("scroll",s2),t2.scrollTo({top:e2.scrollTop/g2}),E2()):(e2.removeEventListener("scroll",s2),e2.scrollTo({top:t2.scrollTop*g2}),E2())};return[()=>{E2().finally(()=>{e2.dispatchEvent(new Event("scroll"))})},()=>{e2.removeEventListener("scroll",s2),t2.removeEventListener("scroll",s2)}]},ge$1=(e2,t2,E2)=>{const{view:s2}=E2,n2=x(),k2=a2=>s2.lineBlockAt(s2.state.doc.line(a2+1).from).top,L2=a2=>s2.lineBlockAt(s2.state.doc.line(a2+1).from).bottom;let v2=[],r2=[],g2=[];const y2=()=>{v2=[],r2=Array.from(t2.querySelectorAll(se$1)),g2=r2.map(f2=>Number(f2.dataset.line));const a2=[...g2],{lines:h2}=s2.state.doc;let l2=a2.shift()||0,o2=a2.shift()||h2;for(let f2=0;f2<h2;f2++)f2===o2&&(l2=f2,o2=a2.shift()||h2),v2.push({start:l2,end:o2-1})},x$1=(a2,h2)=>{let l2=1;for(let o2=r2.length-1;o2-1>=0;o2--){const f2=r2[o2],c2=r2[o2-1];if(f2.offsetTop+f2.offsetHeight>h2&&c2.offsetTop<h2){l2=Number(c2.dataset.line);break}}for(let o2=v2.length-1;o2>=0;o2--){const f2=L2(v2[o2].end),c2=k2(v2[o2].start);if(f2>a2&&c2<=a2){l2=l2<v2[o2].start?l2:v2[o2].start;break}}return l2};let S2=0,O2=0;const $2=()=>{if(O2!==0)return!1;S2++;const{scrollDOM:a2,contentHeight:h2}=s2;let l2=F(t2,"padding-top");const o2=s2.lineBlockAtHeight(a2.scrollTop),{number:f2}=s2.state.doc.lineAt(o2.from),c2=v2[f2-1];if(!c2)return!1;let m2=1;const u2=t2.querySelector(`[data-line="${c2.start}"]`)||t2.firstElementChild?.firstElementChild,i=t2.querySelector(`[data-line="${c2.end+1}"]`)||t2.lastElementChild?.lastElementChild,T2=a2.scrollHeight-a2.clientHeight,C2=t2.scrollHeight-t2.clientHeight;let d2=k2(c2.start),I2=L2(c2.end),b2=u2.offsetTop,A2=i.offsetTop-b2;d2===0&&(b2=0,u2===i?(l2=0,I2=h2-a2.offsetHeight,A2=C2):A2=i.offsetTop),m2=(a2.scrollTop-d2)/(I2-d2);const N2=i==t2.lastElementChild?.lastElementChild?i.offsetTop+i.clientHeight:i.offsetTop;if(I2>=T2||N2>C2){const H2=x$1(T2,C2);d2=k2(H2),m2=(a2.scrollTop-d2)/(T2-d2);const P2=t2.querySelector(`[data-line="${H2}"]`);d2>0&&P2&&(b2=P2.offsetTop),A2=C2-b2+F(t2,"padding-top")}const p2=b2-l2+A2*m2;n2(t2,p2,()=>{S2--})},D2=()=>{if(S2!==0)return;O2++;const{scrollDOM:a2}=s2,h2=t2.scrollTop,l2=t2.scrollHeight,o2=a2.scrollHeight-a2.clientHeight,f2=t2.scrollHeight-t2.clientHeight;let c2=t2.firstElementChild?.firstElementChild,m2=t2.firstElementChild?.lastElementChild;if(g2.length>0){let N2=Math.ceil(g2[g2.length-1]*(h2/l2)),p2=g2.findLastIndex(H2=>H2<=N2);p2=p2===-1?0:p2,N2=g2[p2];for(let H2=p2;H2>=0&&H2<g2.length;)if(r2[H2].offsetTop>h2){if(H2-1>=0){H2--;continue}N2=-1,p2=H2;break}else{if(H2+1<g2.length&&r2[H2+1].offsetTop<h2){H2++;continue}N2=g2[H2],p2=H2;break}switch(p2){case-1:{c2=t2.firstElementChild?.firstElementChild,m2=r2[p2];break}case g2.length-1:{c2=r2[p2],m2=t2.firstElementChild?.lastElementChild;break}default:c2=r2[p2],m2=r2[p2+1===r2.length?p2:p2+1]}}let u2=c2===t2.firstElementChild?.firstElementChild?0:c2.offsetTop-F(c2,"margin-top"),i=m2.offsetTop,T2=0;const{start:C2,end:d2}=v2[Number(c2.dataset.line||0)];let I2=k2(C2);const b2=k2(d2+1===s2.state.doc.lines?d2:d2+1);let A2=0;if(b2>o2||m2.offsetTop+m2.offsetHeight>f2){const N2=x$1(o2,f2),p2=t2.querySelector(`[data-line="${N2}"]`);u2=p2?p2.offsetTop-F(p2,"margin-top"):u2,I2=k2(N2),T2=(h2-u2)/(f2-u2),A2=o2-I2}else c2===t2.firstElementChild?.firstElementChild?(c2===m2&&(i=m2.offsetTop+m2.offsetHeight+ +getComputedStyle(m2).marginBottom.replace("px","")),A2=b2,T2=Math.max(h2/i,0)):(T2=Math.max((h2-u2)/(i-u2),0),A2=b2-I2);n2(e2,I2+A2*T2,()=>{O2--})},R2=a2=>{const{scrollDOM:h2,contentHeight:l2}=s2,o2=h2.clientHeight;if(l2<=o2||t2.firstElementChild.clientHeight<=t2.clientHeight||s2.state.doc.lines<=v2[v2.length-1]?.end)return!1;a2.target===e2?$2():D2()};return[()=>{y2(),e2.addEventListener("scroll",R2),t2.addEventListener("scroll",R2),e2.dispatchEvent(new Event("scroll"))},()=>{e2.removeEventListener("scroll",R2),t2.removeEventListener("scroll",R2)}]},re$2={tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},onActive:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},Q$1=defineComponent({props:re$2,setup(e2){const t2=inject("scrollElementRef"),E2=inject("roorNodeRef"),s2=ref();return watch(()=>e2.tocItem.active,n2=>{n2&&e2.onActive(e2.tocItem,s2.value)}),onMounted(()=>{e2.tocItem.active&&e2.onActive(e2.tocItem,s2.value)}),()=>{const{tocItem:n2,mdHeadingId:k2,onClick:L2,scrollElementOffsetTop:v2}=e2;return createVNode("div",{ref:s2,class:[`${p$2}-catalog-link`,n2.active&&`${p$2}-catalog-active`],onClick:r2=>{if(r2.stopPropagation(),L2(r2,n2),r2.defaultPrevented)return;const g2=k2({text:n2.text,level:n2.level,index:n2.index,currentToken:n2.currentToken,nextToken:n2.nextToken}),y2=E2.value.getElementById(g2),x2=t2.value;if(y2&&x2){let S2=y2.offsetParent,O2=y2.offsetTop;if(x2.contains(S2))for(;S2&&x2!=S2;)O2+=S2?.offsetTop,S2=S2?.offsetParent;const $2=y2.previousElementSibling;let D2=0;$2||(D2=F(y2,"margin-top")),x2?.scrollTo({top:O2-v2-D2,behavior:"smooth"})}}},[createVNode("span",{title:n2.text},[n2.text]),n2.children&&n2.children.length>0&&createVNode("div",{class:`${p$2}-catalog-wrapper`},[n2.children.map(r2=>createVNode(Q$1,{mdHeadingId:k2,key:`${n2.text}-link-${r2.level}-${r2.text}`,tocItem:r2,onActive:e2.onActive,onClick:L2,scrollElementOffsetTop:v2},null))])])}}}),ce$2={editorId:{type:String,default:void 0},class:{type:String,default:""},mdHeadingId:{type:Function,default:({text:e2})=>e2},scrollElement:{type:[String,Object],default:void 0},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function,default:void 0},onActive:{type:Function,default:void 0},isScrollElementInShadow:{type:Boolean,default:!1},syncWith:{type:String,default:"preview"},catalogMaxDepth:{type:Number,default:void 0}},W=defineComponent({name:"MdCatalog",props:ce$2,emits:["onClick","onActive"],setup(e2,t2){const E2=e2.editorId,s2=`#${E2}-preview-wrapper`,n2=reactive({list:[],show:!1,scrollElement:e2.scrollElement||s2}),k2=shallowRef(),L2=ref(),v2=ref(),r2=ref(),g2=ref(),y2=shallowRef(),x2=ref({});provide("scrollElementRef",v2),provide("roorNodeRef",g2);const S2=computed(()=>{const l2=[];return n2.list.forEach((o2,f2)=>{if(e2.catalogMaxDepth&&o2.level>e2.catalogMaxDepth)return;const{text:c2,level:m2,line:u2}=o2,i={level:m2,text:c2,line:u2,index:f2+1,active:k2.value===o2};if(l2.length===0)l2.push(i);else{let T2=l2[l2.length-1];if(i.level>T2.level)for(let C2=T2.level+1;C2<=6;C2++){const{children:d2}=T2;if(!d2){T2.children=[i];break}if(T2=d2[d2.length-1],i.level<=T2.level){d2.push(i);break}}else l2.push(i)}}),l2}),O2=()=>{if(n2.scrollElement instanceof HTMLElement)return n2.scrollElement;let l2=document;return(n2.scrollElement===s2||e2.isScrollElementInShadow)&&(l2=L2.value?.getRootNode()),l2.querySelector(n2.scrollElement)},$2=l2=>{if(l2.length===0)return k2.value=void 0,n2.list=[],!1;const{activeHead:o2,activeIndex:f2}=l2.reduce((u2,i,T2)=>{let C2=0;if(e2.syncWith==="preview"){const d2=g2.value?.getElementById(e2.mdHeadingId({text:i.text,level:i.level,index:T2+1,currentToken:i.currentToken,nextToken:i.nextToken}));d2 instanceof HTMLElement&&(C2=g$2(d2,v2.value))}else{const d2=y2.value;if(d2){const I2=d2.lineBlockAt(d2.state.doc.line(i.line+1).from).top,b2=d2.scrollDOM.scrollTop;C2=I2-b2}}return C2<e2.offsetTop&&C2>u2.minTop?{activeHead:i,activeIndex:T2,minTop:C2}:u2},{activeHead:l2[0],activeIndex:0,minTop:Number.MIN_SAFE_INTEGER});let c2=o2;const{catalogMaxDepth:m2}=e2;if(m2&&c2.level>m2){for(let u2=f2;u2>=0;u2--){const i=l2[u2];if(i.level<=m2){c2=i;break}}if(c2.level>m2){const u2=l2.find(i=>i.level<=m2);u2&&(c2=u2)}}k2.value=c2,n2.list=l2},D2=(l2,o2)=>{x2.value.top=o2.offsetTop+F(o2,"padding-top")+"px",e2.onActive?.(l2,o2),t2.emit("onActive",l2,o2)},R2=()=>{$2(n2.list)},a2=l2=>{if(r2.value?.removeEventListener("scroll",R2),e2.syncWith==="editor")r2.value=y2.value?.scrollDOM;else{const o2=O2();v2.value=o2,r2.value=o2===document.documentElement?document:o2}$2(l2),r2.value?.addEventListener("scroll",R2)},h2=l2=>{y2.value=l2};return watch([()=>e2.syncWith,y2,()=>e2.catalogMaxDepth],()=>{a2(n2.list)}),onMounted(()=>{g2.value=L2.value.getRootNode(),F$1.on(E2,{name:S$1,callback:a2}),F$1.on(E2,{name:f$1,callback:h2}),F$1.emit(E2,H),F$1.emit(E2,u$1)}),onBeforeUnmount(()=>{F$1.remove(E2,S$1,a2),F$1.remove(E2,f$1,h2),r2.value?.removeEventListener("scroll",R2)}),()=>createVNode("div",{class:[`${p$2}-catalog`,e2.theme==="dark"&&`${p$2}-catalog-dark`,e2.class||""],ref:L2},[S2.value.length>0&&createVNode(Fragment,null,[createVNode("div",{class:`${p$2}-catalog-indicator`,style:x2.value},null),createVNode("div",{class:`${p$2}-catalog-container`},[S2.value.map(l2=>createVNode(Q$1,{mdHeadingId:e2.mdHeadingId,tocItem:l2,key:`link-${l2.level}-${l2.text}`,onActive:D2,onClick:(o2,f2)=>{e2.onClick?.(o2,f2),t2.emit("onClick",o2,f2)},scrollElementOffsetTop:e2.scrollElementOffsetTop},null))])])])}});W.install=e2=>(e2.component(W.name,W),e2);async function copy2Clipboard(text2){if(typeof text2=="string"){if(window.isSecureContext&&navigator.clipboard)return await navigator.clipboard.writeText(text2);{const textarea=document.createElement("textarea");let successed=!1;if(textarea.value=text2,textarea.style.position="fixed",textarea.style.opacity=0,textarea.style.zIndex="-10000",textarea.style.top="-10000",document.body.appendChild(textarea),textarea.select(),successed=document.execCommand("copy"),document.body.removeChild(textarea),successed)return;throw new Error('Failed to copy content via "execCommand"!')}}}const j$2={copy:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy ${p$2}-icon"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>`,"collapse-tips":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-chevron-left ${p$2}-icon"><circle cx="12" cy="12" r="10"/><path d="m14 16-4-4 4-4"/></svg>`,pin:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin ${p$2}-icon"><path d="M12 17v5"/><path d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"/></svg>`,"pin-off":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-off ${p$2}-icon"><path d="M12 17v5"/><path d="M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"/><path d="m2 2 20 20"/><path d="M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"/></svg>`,check:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check ${p$2}-icon"><path d="M20 6 9 17l-5-5"/></svg>`},p=(d2,s2)=>typeof s2[d2]=="string"?s2[d2]:j$2[d2],z$2=(d2,s2)=>{const e2=c2=>{const t2=d2.parentElement||document.body,n2=t2.offsetWidth,r2=t2.offsetHeight,{clientWidth:l2,clientHeight:u2}=document.documentElement,a2=c2.offsetX,w2=c2.offsetY,g2=y2=>{let h2=y2.x+document.body.scrollLeft-document.body.clientLeft-a2,m2=y2.y+document.body.scrollTop-document.body.clientTop-w2;h2=h2<1?1:h2<l2-n2-1?h2:l2-n2-1,m2=m2<1?1:m2<u2-r2-1?m2:u2-r2-1,s2?s2(h2,m2):(t2.style.left=`${h2}px`,t2.style.top=`${m2}px`)};document.addEventListener("mousemove",g2);const v2=()=>{document.removeEventListener("mousemove",g2),document.removeEventListener("mouseup",v2)};document.addEventListener("mouseup",v2)};return d2.addEventListener("mousedown",e2),()=>{d2.removeEventListener("mousedown",e2)}},A=(d2,s2,e2="")=>{const c2=document.getElementById(s2.id);if(c2)e2!==""&&(Reflect.get(window,e2)?s2.onload?.call(c2,new Event("load")):s2.onload&&c2.addEventListener("load",s2.onload));else{const t2={...s2};t2.onload=null;const n2=D(d2,t2);s2.onload&&n2.addEventListener("load",s2.onload),document.head.appendChild(n2)}},b=(d2,s2)=>{document.getElementById(s2.id)?.remove(),A(d2,s2)},D=(d2,s2)=>{const e2=document.createElement(d2);return Object.keys(s2).forEach(c2=>{s2[c2]!==void 0&&(e2[c2]=s2[c2])}),e2},V=(d2,s2)=>{const e2=new Map;return d2?.forEach(c2=>{let t2=c2.querySelector(`.${p$2}-mermaid-action`);t2?t2.querySelector(`.${p$2}-mermaid-copy`)||t2.insertAdjacentHTML("beforeend",`<span class="${p$2}-mermaid-copy">${p("copy",s2.customIcon)}</span>`):(c2.insertAdjacentHTML("beforeend",`<div class="${p$2}-mermaid-action"><span class="${p$2}-mermaid-copy">${p("copy",s2.customIcon)}</span></div>`),t2=c2.querySelector(`.${p$2}-mermaid-action`));const n2=t2.querySelector(`.${p$2}-mermaid-copy`);let r2=-1;const l2=()=>{clearTimeout(r2),copy2Clipboard(c2.dataset.content||"").then(()=>{n2.innerHTML=p("check",s2.customIcon)}).catch(()=>{n2.innerHTML=p("copy",s2.customIcon)}).finally(()=>{r2=window.setTimeout(()=>{n2.innerHTML=p("copy",s2.customIcon)},1500)})};n2.addEventListener("click",l2),e2.set(c2,{removeClick:()=>{n2.removeEventListener("click",l2)}})}),()=>{e2.forEach(({removeClick:c2})=>{c2?.()}),e2.clear()}},R=(()=>{const d2=e2=>{if(!e2)return()=>{};const c2=e2.firstChild;let t2=1,n2=0,r2=0,l2=!1,u2,a2,w2,g2=1;const v2=()=>{c2.style.transform=`translate(${n2}px, ${r2}px) scale(${t2})`},y2=o2=>{o2.touches.length===1?(l2=!0,u2=o2.touches[0].clientX-n2,a2=o2.touches[0].clientY-r2):o2.touches.length===2&&(w2=Math.hypot(o2.touches[0].clientX-o2.touches[1].clientX,o2.touches[0].clientY-o2.touches[1].clientY),g2=t2)},h2=o2=>{if(o2.preventDefault(),l2&&o2.touches.length===1)n2=o2.touches[0].clientX-u2,r2=o2.touches[0].clientY-a2,v2();else if(o2.touches.length===2){const E2=Math.hypot(o2.touches[0].clientX-o2.touches[1].clientX,o2.touches[0].clientY-o2.touches[1].clientY)/w2,f2=t2;t2=g2*(1+(E2-1));const M2=(o2.touches[0].clientX+o2.touches[1].clientX)/2,k2=(o2.touches[0].clientY+o2.touches[1].clientY)/2,H2=c2.getBoundingClientRect(),X2=(M2-H2.left)/f2,S2=(k2-H2.top)/f2;n2-=X2*(t2-f2),r2-=S2*(t2-f2),v2()}},m2=()=>{l2=!1},$2=o2=>{o2.preventDefault();const L2=.02,E2=t2;o2.deltaY<0?t2+=L2:t2=Math.max(.1,t2-L2);const f2=c2.getBoundingClientRect(),M2=o2.clientX-f2.left,k2=o2.clientY-f2.top;n2-=M2/E2*(t2-E2),r2-=k2/E2*(t2-E2),v2()},x2=o2=>{l2=!0,u2=o2.clientX-n2,a2=o2.clientY-r2},C2=o2=>{l2&&(n2=o2.clientX-u2,r2=o2.clientY-a2,v2())},T2=()=>{l2=!1},Y2=()=>{l2=!1};return e2.addEventListener("touchstart",y2,{passive:!1}),e2.addEventListener("touchmove",h2,{passive:!1}),e2.addEventListener("touchend",m2),e2.addEventListener("wheel",$2,{passive:!1}),e2.addEventListener("mousedown",x2),e2.addEventListener("mousemove",C2),e2.addEventListener("mouseup",T2),e2.addEventListener("mouseleave",Y2),()=>{e2.removeEventListener("touchstart",y2),e2.removeEventListener("touchmove",h2),e2.removeEventListener("touchend",m2),e2.removeEventListener("wheel",$2),e2.removeEventListener("mousedown",x2),e2.removeEventListener("mousemove",C2),e2.removeEventListener("mouseup",T2),e2.removeEventListener("mouseleave",Y2)}};return(e2,c2)=>{const t2=new Map;return e2?.forEach(n2=>{let r2=n2.querySelector(`.${p$2}-mermaid-action`);r2?r2.querySelector(`.${p$2}-mermaid-zoom`)||r2.insertAdjacentHTML("beforeend",`<span class="${p$2}-mermaid-zoom">${p("pin-off",c2.customIcon)}</span>`):(n2.insertAdjacentHTML("beforeend",`<div class="${p$2}-mermaid-action"><span class="${p$2}-mermaid-zoom">${p("pin-off",c2.customIcon)}</span></div>`),r2=n2.querySelector(`.${p$2}-mermaid-action`));const l2=r2.querySelector(`.${p$2}-mermaid-zoom`),u2=()=>{const a2=t2.get(n2);if(a2?.removeEvent)a2.removeEvent(),n2.removeAttribute("data-grab"),t2.set(n2,{removeClick:a2.removeClick}),l2.innerHTML=p("pin-off",c2.customIcon);else{const w2=d2(n2);n2.setAttribute("data-grab",""),t2.set(n2,{removeEvent:w2,removeClick:a2?.removeClick}),l2.innerHTML=p("pin",c2.customIcon)}};l2.addEventListener("click",u2),t2.set(n2,{removeClick:()=>l2.removeEventListener("click",u2)})}),()=>{t2.forEach(({removeEvent:n2,removeClick:r2})=>{n2?.(),r2?.()}),t2.clear()}}})(),decodeCache={};function getDecodeCache(exclude){let cache2=decodeCache[exclude];if(cache2)return cache2;cache2=decodeCache[exclude]=[];for(let i=0;i<128;i++){const ch=String.fromCharCode(i);cache2.push(ch)}for(let i=0;i<exclude.length;i++){const ch=exclude.charCodeAt(i);cache2[ch]="%"+("0"+ch.toString(16).toUpperCase()).slice(-2)}return cache2}function decode$1(string2,exclude){typeof exclude!="string"&&(exclude=decode$1.defaultChars);const cache2=getDecodeCache(exclude);return string2.replace(/(%[a-f0-9]{2})+/gi,function(seq){let result="";for(let i=0,l2=seq.length;i<l2;i+=3){const b1=parseInt(seq.slice(i+1,i+3),16);if(b1<128){result+=cache2[b1];continue}if((b1&224)===192&&i+3<l2){const b2=parseInt(seq.slice(i+4,i+6),16);if((b2&192)===128){const chr=b1<<6&1984|b2&63;chr<128?result+="ÔøΩÔøΩ":result+=String.fromCharCode(chr),i+=3;continue}}if((b1&240)===224&&i+6<l2){const b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16);if((b2&192)===128&&(b3&192)===128){const chr=b1<<12&61440|b2<<6&4032|b3&63;chr<2048||chr>=55296&&chr<=57343?result+="ÔøΩÔøΩÔøΩ":result+=String.fromCharCode(chr),i+=6;continue}}if((b1&248)===240&&i+9<l2){const b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16),b4=parseInt(seq.slice(i+10,i+12),16);if((b2&192)===128&&(b3&192)===128&&(b4&192)===128){let chr=b1<<18&1835008|b2<<12&258048|b3<<6&4032|b4&63;chr<65536||chr>1114111?result+="ÔøΩÔøΩÔøΩÔøΩ":(chr-=65536,result+=String.fromCharCode(55296+(chr>>10),56320+(chr&1023))),i+=9;continue}}result+="ÔøΩ"}return result})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(exclude){let cache2=encodeCache[exclude];if(cache2)return cache2;cache2=encodeCache[exclude]=[];for(let i=0;i<128;i++){const ch=String.fromCharCode(i);/^[0-9a-z]$/i.test(ch)?cache2.push(ch):cache2.push("%"+("0"+i.toString(16).toUpperCase()).slice(-2))}for(let i=0;i<exclude.length;i++)cache2[exclude.charCodeAt(i)]=exclude[i];return cache2}function encode$1(string2,exclude,keepEscaped){typeof exclude!="string"&&(keepEscaped=exclude,exclude=encode$1.defaultChars),typeof keepEscaped>"u"&&(keepEscaped=!0);const cache2=getEncodeCache(exclude);let result="";for(let i=0,l2=string2.length;i<l2;i++){const code=string2.charCodeAt(i);if(keepEscaped&&code===37&&i+2<l2&&/^[0-9a-f]{2}$/i.test(string2.slice(i+1,i+3))){result+=string2.slice(i,i+3),i+=2;continue}if(code<128){result+=cache2[code];continue}if(code>=55296&&code<=57343){if(code>=55296&&code<=56319&&i+1<l2){const nextCode=string2.charCodeAt(i+1);if(nextCode>=56320&&nextCode<=57343){result+=encodeURIComponent(string2[i]+string2[i+1]),i++;continue}}result+="%EF%BF%BD";continue}result+=encodeURIComponent(string2[i])}return result}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format(url){let result="";return result+=url.protocol||"",result+=url.slashes?"//":"",result+=url.auth?url.auth+"@":"",url.hostname&&url.hostname.indexOf(":")!==-1?result+="["+url.hostname+"]":result+=url.hostname||"",result+=url.port?":"+url.port:"",result+=url.pathname||"",result+=url.search||"",result+=url.hash||"",result}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(url,slashesDenoteHost){if(url&&url instanceof Url)return url;const u2=new Url;return u2.parse(url,slashesDenoteHost),u2}Url.prototype.parse=function(url,slashesDenoteHost){let lowerProto,hec,slashes,rest=url;if(rest=rest.trim(),!slashesDenoteHost&&url.split("#").length===1){const simplePath=simplePathPattern.exec(rest);if(simplePath)return this.pathname=simplePath[1],simplePath[2]&&(this.search=simplePath[2]),this}let proto=protocolPattern.exec(rest);if(proto&&(proto=proto[0],lowerProto=proto.toLowerCase(),this.protocol=proto,rest=rest.substr(proto.length)),(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/))&&(slashes=rest.substr(0,2)==="//",slashes&&!(proto&&hostlessProtocol[proto])&&(rest=rest.substr(2),this.slashes=!0)),!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){let hostEnd=-1;for(let i=0;i<hostEndingChars.length;i++)hec=rest.indexOf(hostEndingChars[i]),hec!==-1&&(hostEnd===-1||hec<hostEnd)&&(hostEnd=hec);let auth,atSign;hostEnd===-1?atSign=rest.lastIndexOf("@"):atSign=rest.lastIndexOf("@",hostEnd),atSign!==-1&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=auth),hostEnd=-1;for(let i=0;i<nonHostChars.length;i++)hec=rest.indexOf(nonHostChars[i]),hec!==-1&&(hostEnd===-1||hec<hostEnd)&&(hostEnd=hec);hostEnd===-1&&(hostEnd=rest.length),rest[hostEnd-1]===":"&&hostEnd--;const host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd),this.parseHost(host),this.hostname=this.hostname||"";const ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){const hostparts=this.hostname.split(/\./);for(let i=0,l2=hostparts.length;i<l2;i++){const part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){let newpart="";for(let j2=0,k2=part.length;j2<k2;j2++)part.charCodeAt(j2)>127?newpart+="x":newpart+=part[j2];if(!newpart.match(hostnamePartPattern)){const validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest=notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const hash2=rest.indexOf("#");hash2!==-1&&(this.hash=rest.substr(hash2),rest=rest.slice(0,hash2));const qm=rest.indexOf("?");return qm!==-1&&(this.search=rest.substr(qm),rest=rest.slice(0,qm)),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(host){let port=portPattern.exec(host);port&&(port=port[0],port!==":"&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P$1=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z$2=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P:P$1,S:regex,Z:Z$2},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('·µÅ<√ïƒ± ä“ù’ª◊êŸµ€ûﬁ¢ﬂñ‡†è‡©ä‡™ë‡∂°‡π≠‡ºâ‡º¶·Éä·à®·ã°·êï·íù·ìÉ·ìü·î•\0\0\0\0\0\0·ï´·õç·¶ç·∞í·∑ù·Ωæ‚Å†‚Ü∞‚äç‚èÄ‚èª‚ëÇ‚†§‚§í‚¥à‚πà‚øé„Äñ„ä∫„òπ„û¨„£æ„®®„©±„´†„¨Æ‡†ÄEMabcfglmnoprstu\\bfms¬Ñ¬ã¬ê¬ï¬ò¬¶¬≥¬π√à√èligËÄª√Ü‰ÉÜPËÄª&‰Ä¶cuteËÄª√Å‰ÉÅreve;‰ÑÇƒÄiyx}rcËÄª√Ç‰ÉÇ;‰êêr;ÏÄÄùîÑraveËÄª√Ä‰ÉÄpha;‰éëacr;‰ÑÄd;Ê©ìƒÄgp¬ù¬°on;‰ÑÑf;ÏÄÄùî∏plyFunction;ÊÅ°ingËÄª√Ö‰ÉÖƒÄcs¬æ√Ér;ÏÄÄùíúign;ÊâîildeËÄª√É‰ÉÉmlËÄª√Ñ‰ÉÑ–Äaceforsu√•√ª√æƒóƒúƒ¢ƒßƒ™ƒÄcr√™√≤kslash;Êàñ≈∂√∂√∏;Ê´ßed;ÊåÜy;‰êë∆ÄcrtƒÖƒãƒîause;Êàµnoullis;ÊÑ¨a;‰éír;ÏÄÄùîÖpf;ÏÄÄùîπeve;‰ãòc√≤ƒìmpeq;Êâé‹ÄHOacdefhilorsu≈ç≈ë≈ñ∆Ä∆û∆¢∆µ∆∑∆∫«ú»ï…≥…∏…æcy;‰êßPYËÄª¬©‰Ç©∆Äcpy≈ù≈¢≈∫ute;‰ÑÜƒÄ;i≈ß≈®ÊãítalDifferentialD;ÊÖÖleys;ÊÑ≠»Äaeio∆â∆é∆î∆òron;‰ÑådilËÄª√á‰Éárc;‰Ñànint;Êà∞ot;‰ÑäƒÄdn∆ß∆≠illa;‰Ç∏terDot;‰Ç∑√≤≈øi;‰éßrcle»ÄDMPT«á«ã«ë«ñot;Êäôinus;Êäñlus;Êäïimes;ÊäóoƒÄcs«¢«∏kwiseContourIntegral;Êà≤eCurlyƒÄDQ»É»èoubleQuote;ÊÄùuote;ÊÄô»Älnpu»û»®…á…ïonƒÄ;e»•»¶Êà∑;Ê©¥∆Ägit»Ø»∂»∫ruent;Êâ°nt;ÊàØourIntegral;ÊàÆƒÄfr…å…é;ÊÑÇoduct;ÊàênterClockwiseContourIntegral;Êà≥oss;Ê®Øcr;ÏÄÄùíûpƒÄ;C Ñ ÖÊãìap;Êâç÷ÄDJSZacefios † ¨ ∞ ¥ ∏ÀãÀóÀ°À¶Ã≥“çƒÄ;o≈π •trahd;Ê§ëcy;‰êÇcy;‰êÖcy;‰êè∆Ägrs øÀÑÀáger;ÊÄ°r;ÊÜ°hv;Ê´§ƒÄayÀêÀïron;‰Ñé;‰êîlƒÄ;tÀùÀûÊàáa;‰éîr;ÏÄÄùîáƒÄafÀ´ÃßƒÄcmÀ∞Ã¢ritical»ÄADGTÃÄÃÜÃñÃúcute;‰Ç¥o≈¥ÃãÃç;‰ãôbleAcute;‰ãùrave;‰Å†ilde;‰ãúond;ÊãÑferentialD;ÊÖÜ—∞ÃΩ\0\0\0ÕÇÕî\0–Öf;ÏÄÄùîª∆Ä;DEÕàÕâÕç‰Ç®ot;ÊÉúqual;ÊâêbleÃÄCDLRUVÕ£Õ≤ŒÇœèœ¢œ∏ontourIntegra√¨»πo…¥Õπ\0\0Õª¬ªÕânArrow;ÊáìƒÄeoŒáŒ§ft∆ÄARTŒêŒñŒ°rrow;ÊáêightArrow;Êáîe√•ÀängƒÄLRŒ´œÑeftƒÄARŒ≥Œπrrow;Êü∏ightArrow;Êü∫ightArrow;ÊüπightƒÄATœòœûrrow;Êáíee;Êä®p…Åœ©\0\0œØrrow;ÊáëownArrow;ÊáïerticalBar;Êà•nÃÄABLRTa–í–™–∞—û—øÕºrrow∆Ä;BU–ù–û–¢ÊÜìar;Ê§ìpArrow;Êáµreve;‰åëeftÀí–∫\0—Ü\0—êightVector;Ê•êeeVector;Ê•ûectorƒÄ;B—ô—öÊÜΩar;Ê•ñight«î—ß\0—±eeVector;Ê•üectorƒÄ;B—∫—ªÊáÅar;Ê•óeeƒÄ;A“Ü“áÊä§rrow;ÊÜßƒÄct“í“ór;ÏÄÄùíürok;‰Ñê‡†ÄNTacdfglmopqstux“Ω”Ä”Ñ”ã”û”¢”ß”Æ”µ‘°‘Ø‘∂’í’ù’†’•G;‰ÖäHËÄª√ê‰ÉêcuteËÄª√â‰Éâ∆Äaiy”í”ó”úron;‰ÑörcËÄª√ä‰Éä;‰ê≠ot;‰Ññr;ÏÄÄùîàraveËÄª√à‰Éàement;ÊààƒÄap”∫”æcr;‰Ñíty…ì‘Ü\0\0‘ímallSquare;ÊóªerySmallSquare;Êñ´ƒÄgp‘¶‘™on;‰Ñòf;ÏÄÄùîºsilon;‰éïuƒÄai‘º’âlƒÄ;T’Ç’ÉÊ©µilde;ÊâÇlibrium;ÊáåƒÄci’ó’ör;ÊÑ∞m;Ê©≥a;‰éómlËÄª√ã‰ÉãƒÄip’™’Østs;ÊàÉonentialE;ÊÖá Äcfios÷Ö÷à÷ç÷≤◊åy;‰ê§r;ÏÄÄùîâlled…ì÷ó\0\0÷£mallSquare;ÊóºerySmallSquare;Êñ™Õ∞÷∫\0÷ø\0\0◊Ñf;ÏÄÄùîΩAll;ÊàÄriertrf;ÊÑ±c√≤◊ãÿÄJTabcdfgorst◊®◊¨◊Ø◊∫ÿÄÿíÿñÿõÿùÿ£Ÿ¨Ÿ≤cy;‰êÉËÄª>‰ÄæmmaƒÄ;d◊∑◊∏‰éì;‰èúreve;‰Ñû∆Äeiyÿáÿåÿêdil;‰Ñ¢rc;‰Ñú;‰êìot;‰Ñ†r;ÏÄÄùîä;Êãôpf;ÏÄÄùîæeaterÃÄEFGLSTÿµŸÑŸéŸñŸõŸ¶qualƒÄ;LÿæÿøÊâ•ess;ÊãõullEqual;Êâßreater;Ê™¢ess;Êâ∑lantEqual;Ê©æilde;Êâ≥cr;ÏÄÄùí¢;Êâ´–ÄAacfiosu⁄Ö⁄ã⁄ñ⁄õ⁄û⁄™⁄æ€äRDcy;‰ê™ƒÄct⁄ê⁄îek;‰ãá;‰Åûirc;‰Ñ§r;ÊÑålbertSpace;ÊÑã«∞⁄Ø\0⁄≤f;ÊÑçizontalLine;ÊîÄƒÄct€É€Ö√≤⁄©rok;‰Ñ¶mp≈Ñ€ê€òownHum√∞ƒØqual;Êâè‹ÄEJOacdfgmnostu€∫€æ‹É‹á‹é‹ö‹û‹°‹®›Ñ›∏ﬁãﬁèﬁïcy;‰êïlig;‰Ñ≤cy;‰êÅcuteËÄª√ç‰ÉçƒÄiy‹ì‹òrcËÄª√é‰Éé;‰êòot;‰Ñ∞r;ÊÑëraveËÄª√å‰Éå∆Ä;ap‹†‹Ø‹øƒÄcg‹¥‹∑r;‰Ñ™inaryI;ÊÖàlie√≥œù«¥›â\0›¢ƒÄ;e›ç›éÊà¨ƒÄgr›ì›òral;Êà´section;ÊãÇisibleƒÄCT›¨›≤omma;ÊÅ£imes;ÊÅ¢∆Ägpt›øﬁÉﬁàon;‰ÑÆf;ÏÄÄùïÄa;‰éôcr;ÊÑêilde;‰Ñ®«´ﬁö\0ﬁûcy;‰êÜlËÄª√è‰Éè Äcfosuﬁ¨ﬁ∑ﬁºﬂÇﬂêƒÄiyﬁ±ﬁµrc;‰Ñ¥;‰êôr;ÏÄÄùîçpf;ÏÄÄùïÅ«£ﬂá\0ﬂår;ÏÄÄùí•rcy;‰êàkcy;‰êÑŒÄHJacfosﬂ§ﬂ®ﬂ¨ﬂ±ﬂΩ‡†Ç‡†àcy;‰ê•cy;‰êåppa;‰éöƒÄeyﬂ∂ﬂªdil;‰Ñ∂;‰êör;ÏÄÄùîépf;ÏÄÄùïÇcr;ÏÄÄùí¶÷ÄJTaceflmost‡†•‡†©‡†¨‡°ê‡°£‡¶≥‡¶∏‡ßá‡ßç‡®∑‡©ácy;‰êâËÄª<‰Äº Äcmnpr‡†∑‡†º‡°Å‡°Ñ‡°çute;‰Ñπbda;‰éõg;Êü™lacetrf;ÊÑír;ÊÜû∆Äaey‡°ó‡°ú‡°°ron;‰ÑΩdil;‰Ñª;‰êõƒÄfs‡°®‡•∞t‘ÄACDFRTUVar‡°æ‡¢©‡¢±‡£†‡£¶‡£º‡§Ø‡•õŒê‡•™ƒÄnr‡¢É‡¢ègleBracket;Êü®row∆Ä;BR‡¢ô‡¢ö‡¢ûÊÜêar;Êá§ightArrow;ÊáÜeiling;Êåào«µ‡¢∑\0‡£ÉbleBracket;Êü¶n«î‡£à\0‡£íeeVector;Ê•°ectorƒÄ;B‡£õ‡£úÊáÉar;Ê•ôloor;ÊåäightƒÄAV‡£Ø‡£µrrow;ÊÜîector;Ê•éƒÄer‡§Å‡§óe∆Ä;AV‡§â‡§ä‡§êÊä£rrow;ÊÜ§ector;Ê•öiangle∆Ä;BE‡§§‡§•‡§©Êä≤ar;Êßèqual;Êä¥p∆ÄDTV‡§∑‡•Ç‡•åownVector;Ê•ëeeVector;Ê•†ectorƒÄ;B‡•ñ‡•óÊÜøar;Ê•òectorƒÄ;B‡••‡•¶ÊÜºar;Ê•íight√°ŒúsÃÄEFGLST‡•æ‡¶ã‡¶ï‡¶ù‡¶¢‡¶≠qualGreater;ÊãöullEqual;Êâ¶reater;Êâ∂ess;Ê™°lantEqual;Ê©Ωilde;Êâ≤r;ÏÄÄùîèƒÄ;e‡¶Ω‡¶æÊãòftarrow;Êáöidot;‰Ñø∆Änpw‡ßî‡®ñ‡®õg»ÄLRlr‡ßû‡ß∑‡®Ç‡®êeftƒÄAR‡ß¶‡ß¨rrow;ÊüµightArrow;Êü∑ightArrow;Êü∂eftƒÄarŒ≥‡®äight√°Œøight√°œäf;ÏÄÄùïÉerƒÄLR‡®¢‡®¨eftArrow;ÊÜôightArrow;ÊÜò∆Ächt‡®æ‡©Ä‡©Ç√≤‡°å;ÊÜ∞rok;‰ÖÅ;Êâ™–Äacefiosu‡©ö‡©ù‡©†‡©∑‡©º‡™Ö‡™ã‡™ép;Ê§Öy;‰êúƒÄdl‡©•‡©ØiumSpace;ÊÅülintrf;ÊÑ≥r;ÏÄÄùîênusPlus;Êàìpf;ÏÄÄùïÑc√≤‡©∂;‰éú“ÄJacefostu‡™£‡™ß‡™≠‡´Ä‡¨î‡¨ô‡∂ë‡∂ó‡∂ûcy;‰êäcute;‰ÖÉ∆Äaey‡™¥‡™π‡™æron;‰Öádil;‰ÖÖ;‰êù∆Ägsw‡´á‡´∞‡¨éative∆ÄMTV‡´ì‡´ü‡´®ediumSpace;ÊÄãhiƒÄcn‡´¶‡´ò√´‡´ôeryThi√Æ‡´ôtedƒÄGL‡´∏‡¨ÜreaterGreate√≤Ÿ≥essLes√≥‡©àLine;‰Äär;ÏÄÄùîë»ÄBnpt‡¨¢‡¨®‡¨∑‡¨∫reak;ÊÅ†BreakingSpace;‰Ç†f;ÊÑï⁄Ä;CDEGHLNPRSTV‡≠ï‡≠ñ‡≠™‡≠º‡Æ°‡Ø´‡∞Ñ‡±û‡≤Ñ‡≤¶‡≥ò‡µ°‡∂ÖÊ´¨ƒÄou‡≠õ‡≠§ngruent;Êâ¢pCap;Êâ≠oubleVerticalBar;Êà¶∆Älqx‡ÆÉ‡Æä‡Æõement;ÊàâualƒÄ;T‡Æí‡ÆìÊâ†ilde;ÏÄÄ‚âÇÃ∏ists;ÊàÑreaterŒÄ;EFGLST‡Æ∂‡Æ∑‡ÆΩ‡Øâ‡Øì‡Øò‡Ø•ÊâØqual;Êâ±ullEqual;ÏÄÄ‚âßÃ∏reater;ÏÄÄ‚â´Ã∏ess;ÊâπlantEqual;ÏÄÄ‚©æÃ∏ilde;Êâµump≈Ñ‡Ø≤‡ØΩownHump;ÏÄÄ‚âéÃ∏qual;ÏÄÄ‚âèÃ∏eƒÄfs‡∞ä‡∞ßtTriangle∆Ä;BE‡∞ö‡∞õ‡∞°Êã™ar;ÏÄÄ‚ßèÃ∏qual;Êã¨sÃÄ;EGLST‡∞µ‡∞∂‡∞º‡±Ñ‡±ã‡±òÊâÆqual;Êâ∞reater;Êâ∏ess;ÏÄÄ‚â™Ã∏lantEqual;ÏÄÄ‚©ΩÃ∏ilde;Êâ¥estedƒÄGL‡±®‡±πreaterGreater;ÏÄÄ‚™¢Ã∏essLess;ÏÄÄ‚™°Ã∏recedes∆Ä;ES‡≤í‡≤ì‡≤õÊäÄqual;ÏÄÄ‚™ØÃ∏lantEqual;Êã†ƒÄei‡≤´‡≤πverseElement;ÊàåghtTriangle∆Ä;BE‡≥ã‡≥å‡≥íÊã´ar;ÏÄÄ‚ßêÃ∏qual;Êã≠ƒÄqu‡≥ù‡¥åuareSuƒÄbp‡≥®‡≥πsetƒÄ;E‡≥∞‡≥≥ÏÄÄ‚äèÃ∏qual;Êã¢ersetƒÄ;E‡¥É‡¥ÜÏÄÄ‚äêÃ∏qual;Êã£∆Äbcp‡¥ì‡¥§‡µésetƒÄ;E‡¥õ‡¥ûÏÄÄ‚äÇ‚Éíqual;Êäàceeds»Ä;EST‡¥≤‡¥≥‡¥ª‡µÜÊäÅqual;ÏÄÄ‚™∞Ã∏lantEqual;Êã°ilde;ÏÄÄ‚âøÃ∏ersetƒÄ;E‡µò‡µõÏÄÄ‚äÉ‚Éíqual;Êäâilde»Ä;EFT‡µÆ‡µØ‡µµ‡µøÊâÅqual;ÊâÑullEqual;Êâáilde;ÊââerticalBar;Êà§cr;ÏÄÄùí©ildeËÄª√ë‰Éë;‰éù‹ÄEacdfgmoprstuv‡∂Ω‡∑Ç‡∑â‡∑ï‡∑õ‡∑†‡∑ß‡∑º‡∏Ç‡∏†‡∏¢‡∏≤‡∏ø‡πÑlig;‰ÖícuteËÄª√ì‰ÉìƒÄiy‡∑é‡∑ìrcËÄª√î‰Éî;‰êûblac;‰Öêr;ÏÄÄùîíraveËÄª√í‰Éí∆Äaei‡∑Æ‡∑≤‡∑∂cr;‰Öåga;‰é©cron;‰éüpf;ÏÄÄùïÜenCurlyƒÄDQ‡∏é‡∏öoubleQuote;ÊÄúuote;ÊÄò;Ê©îƒÄcl‡∏ß‡∏¨r;ÏÄÄùí™ashËÄª√ò‰Éòi≈¨‡∏∑‡∏ºdeËÄª√ï‰Éïes;Ê®∑mlËÄª√ñ‰ÉñerƒÄBP‡πã‡π†ƒÄar‡πê‡πìr;ÊÄæacƒÄek‡πö‡πú;Êèûet;Êé¥arenthesis;Êèú“Äacfhilors‡πø‡∫á‡∫ä‡∫è‡∫í‡∫î‡∫ù‡∫∞‡ªºrtialD;ÊàÇy;‰êür;ÏÄÄùîìi;‰é¶;‰é†usMinus;‰Ç±ƒÄip‡∫¢‡∫≠ncareplan√•⁄ùf;ÊÑô»Ä;eio‡∫π‡∫∫‡ª†‡ª§Ê™ªcedes»Ä;EST‡ªà‡ªâ‡ªè‡ªöÊâ∫qual;Ê™ØlantEqual;Êâºilde;Êâæme;ÊÄ≥ƒÄdp‡ª©‡ªÆuct;ÊàèortionƒÄ;a»•‡ªπl;ÊàùƒÄci‡ºÅ‡ºÜr;ÏÄÄùí´;‰é®»ÄUfos‡ºë‡ºñ‡ºõ‡ºüOTËÄª"‰Ä¢r;ÏÄÄùîîpf;ÊÑöcr;ÏÄÄùí¨ÿÄBEacefhiorsu‡ºæ‡ΩÉ‡Ωá‡Ω†‡Ω≥‡æß‡æ™‡æ≠·Çñ·Ç©·Ç¥·Çæarr;Ê§êGËÄª¬Æ‰ÇÆ∆Äcnr‡Ωé‡Ωì‡Ωñute;‰Öîg;Êü´rƒÄ;t‡Ωú‡ΩùÊÜ†l;Ê§ñ∆Äaey‡Ωß‡Ω¨‡Ω±ron;‰Öòdil;‰Öñ;‰ê†ƒÄ;v‡Ω∏‡ΩπÊÑúerseƒÄEU‡æÇ‡æôƒÄlq‡æá‡æéement;Êàãuilibrium;ÊáãpEquilibrium;Ê•Ør¬ª‡Ωπo;‰é°ght–ÄACDFTUVa‡øÅ‡ø´‡ø≥·Ä¢·Ä®·Åõ·ÇáœòƒÄnr‡øÜ‡øígleBracket;Êü©row∆Ä;BL‡øú‡øù‡ø°ÊÜíar;Êá•eftArrow;ÊáÑeiling;Êåâo«µ‡øπ\0·ÄÖbleBracket;Êüßn«î·Ää\0·ÄîeeVector;Ê•ùectorƒÄ;B·Äù·ÄûÊáÇar;Ê•ïloor;ÊåãƒÄer·Ä≠·ÅÉe∆Ä;AV·Äµ·Ä∂·ÄºÊä¢rrow;ÊÜ¶ector;Ê•õiangle∆Ä;BE·Åê·Åë·ÅïÊä≥ar;Êßêqual;Êäµp∆ÄDTV·Å£·ÅÆ·Å∏ownVector;Ê•èeeVector;Ê•úectorƒÄ;B·ÇÇ·ÇÉÊÜæar;Ê•îectorƒÄ;B·Çë·ÇíÊáÄar;Ê•ìƒÄpu·Çõ·Çûf;ÊÑùndImplies;Ê•∞ightarrow;ÊáõƒÄch·Çπ·Çºr;ÊÑõ;ÊÜ±leDelayed;Êß¥⁄ÄHOacfhimoqstu·É§·É±·É∑·ÉΩ·Ñô·Ñû·Öë·Öñ·Ö°·Öß·Üµ·Üª·ÜøƒÄCc·É©·ÉÆHcy;‰ê©y;‰ê®FTcy;‰ê¨cute;‰Öö Ä;aeiy·Ñà·Ñâ·Ñé·Ñì·ÑóÊ™ºron;‰Ö†dil;‰Öûrc;‰Öú;‰ê°r;ÏÄÄùîñort»ÄDLRU·Ñ™·Ñ¥·Ñæ·ÖâownArrow¬ª–ûeftArrow¬ª‡¢öightArrow¬ª‡øùpArrow;ÊÜëgma;‰é£allCircle;Êàòpf;ÏÄÄùïä…≤·Ö≠\0\0·Ö∞t;Êàöare»Ä;ISU·Öª·Öº·Üâ·ÜØÊñ°ntersection;ÊäìuƒÄbp·Üè·ÜûsetƒÄ;E·Üó·ÜòÊäèqual;ÊäëersetƒÄ;E·Ü®·Ü©Êäêqual;Êäínion;Êäîcr;ÏÄÄùíÆar;ÊãÜ»Äbcmp·áà·áõ·àâ·àãƒÄ;s·áç·áéÊãêetƒÄ;E·áç·áïqual;ÊäÜƒÄch·á†·àÖeeds»Ä;EST·á≠·áÆ·á¥·áøÊâªqual;Ê™∞lantEqual;ÊâΩilde;ÊâøTh√°‡æå;Êàë∆Ä;es·àí·àì·à£ÊãërsetƒÄ;E·àú·àùÊäÉqual;Êäáet¬ª·àì÷ÄHRSacfhiors·àæ·âÑ·ââ·âï·âû·â±·â∂·äü·ãÇ·ãà·ãëORNËÄª√û‰ÉûADE;ÊÑ¢ƒÄHc·âé·âícy;‰êãy;‰ê¶ƒÄbu·âö·âú;‰Äâ;‰é§∆Äaey·â•·â™·âØron;‰Ö§dil;‰Ö¢;‰ê¢r;ÏÄÄùîóƒÄei·âª·äâ«≤·äÄ\0·äáefore;Êà¥a;‰éòƒÄcn·äé·äòkSpace;ÏÄÄ‚Åü‚ÄäSpace;ÊÄâlde»Ä;EFT·ä´·ä¨·ä≤·äºÊàºqual;ÊâÉullEqual;ÊâÖilde;Êâàpf;ÏÄÄùïãipleDot;ÊÉõƒÄct·ãñ·ãõr;ÏÄÄùíØrok;‰Ö¶‡´°·ã∑·åé·åö·å¶\0·å¨·å±\0\0\0\0\0·å∏·åΩ·ç∑·éÖ\0·èø·êÑ·êä·êêƒÄcr·ãª·åÅuteËÄª√ö‰ÉörƒÄ;o·åá·åàÊÜücir;Ê•âr«£·åì\0·åñy;‰êéve;‰Ö¨ƒÄiy·åû·å£rcËÄª√õ‰Éõ;‰ê£blac;‰Ö∞r;ÏÄÄùîòraveËÄª√ô‰Éôacr;‰Ö™ƒÄdi·çÅ·ç©erƒÄBP·çà·çùƒÄar·çç·çêr;‰ÅüacƒÄek·çó·çô;Êèüet;Êéµarenthesis;ÊèùonƒÄ;P·ç∞·ç±ÊãÉlus;ÊäéƒÄgp·çª·çøon;‰Ö≤f;ÏÄÄùïå–ÄADETadps·éï·éÆ·é∏·èÑœ®·èí·èó·è≥rrow∆Ä;BD·Öê·é†·é§ar;Ê§íownArrow;ÊáÖownArrow;ÊÜïquilibrium;Ê•ÆeeƒÄ;A·èã·èåÊä•rrow;ÊÜ•own√°œ≥erƒÄLR·èû·è®eftArrow;ÊÜñightArrow;ÊÜóiƒÄ;l·èπ·è∫‰èíon;‰é•ing;‰ÖÆcr;ÏÄÄùí∞ilde;‰Ö®mlËÄª√ú‰Éú“ÄDbcdefosv·êß·ê¨·ê∞·ê≥·êæ·íÖ·íä·íê·íñash;Êä´ar;Ê´´y;‰êíashƒÄ;l·êª·êºÊä©;Ê´¶ƒÄer·ëÉ·ëÖ;ÊãÅ∆Äbty·ëå·ëê·ë∫ar;ÊÄñƒÄ;i·ëè·ëïcal»ÄBLST·ë°·ë•·ë™·ë¥ar;Êà£ine;‰Åºeparator;Êùòilde;ÊâÄThinSpace;ÊÄär;ÏÄÄùîôpf;ÏÄÄùïçcr;ÏÄÄùí±dash;Êä™ Äcefos·íß·í¨·í±·í∂·íºirc;‰Ö¥dge;ÊãÄr;ÏÄÄùîöpf;ÏÄÄùïécr;ÏÄÄùí≤»Äfios·ìã·ìê·ìí·ìòr;ÏÄÄùîõ;‰éûpf;ÏÄÄùïècr;ÏÄÄùí≥“ÄAIUacfosu·ì±·ìµ·ìπ·ìΩ·îÑ·îè·îî·îö·î†cy;‰êØcy;‰êácy;‰êÆcuteËÄª√ù‰ÉùƒÄiy·îâ·îçrc;‰Ö∂;‰ê´r;ÏÄÄùîúpf;ÏÄÄùïêcr;ÏÄÄùí¥ml;‰Ö∏–ÄHacdefos·îµ·îπ·îø·ïã·ïè·ïù·ï†·ï§cy;‰êñcute;‰ÖπƒÄay·ïÑ·ïâron;‰ÖΩ;‰êóot;‰Öª«≤·ïî\0·ïõoWidt√®‡´ôa;‰éñr;ÊÑ®pf;ÊÑ§cr;ÏÄÄùíµ‡Ø°·ñÉ·ñä·ñê\0·ñ∞·ñ∂·ñø\0\0\0\0·óÜ·óõ·ó´·ôü·ô≠\0·öï·öõ·ö≤·öπ\0·öæcuteËÄª√°‰É°reve;‰ÑÉÃÄ;Ediuy·ñú·ñù·ñ°·ñ£·ñ®·ñ≠Êàæ;ÏÄÄ‚àæÃ≥;ÊàørcËÄª√¢‰É¢teËÇª¬¥ÃÜ;‰ê∞ligËÄª√¶‰É¶ƒÄ;r¬≤·ñ∫;ÏÄÄùîûraveËÄª√†‰É†ƒÄep·óä·óñƒÄfp·óè·óîsym;ÊÑµ√®·óìha;‰é±ƒÄap·óücƒÄcl·ó§·óßr;‰ÑÅg;Ê®ø…§·ó∞\0\0·òä Ä;adsv·ó∫·óª·óø·òÅ·òáÊàßnd;Ê©ï;Ê©úlope;Ê©ò;Ê©öŒÄ;elmrsz·òò·òô·òõ·òû·òø·ôè·ôôÊà†;Ê¶§e¬ª·òôsdƒÄ;a·ò•·ò¶Êà°—°·ò∞·ò≤·ò¥·ò∂·ò∏·ò∫·òº·òæ;Ê¶®;Ê¶©;Ê¶™;Ê¶´;Ê¶¨;Ê¶≠;Ê¶Æ;Ê¶ØtƒÄ;v·ôÖ·ôÜÊàübƒÄ;d·ôå·ôçÊäæ;Ê¶ùƒÄpt·ôî·ôóh;Êà¢¬ª¬πarr;ÊçºƒÄgp·ô£·ôßon;‰ÑÖf;ÏÄÄùïíŒÄ;Eaeiop·ãÅ·ôª·ôΩ·öÇ·öÑ·öá·öä;Ê©∞cir;Ê©Ø;Êâäd;Êâãs;‰ÄßroxƒÄ;e·ãÅ·öí√±·öÉingËÄª√•‰É•∆Äcty·ö°·ö¶·ö®r;ÏÄÄùí∂;‰Ä™mpƒÄ;e·ãÅ·öØ√± àildeËÄª√£‰É£mlËÄª√§‰É§ƒÄci·õÇ·õàonin√¥…≤nt;Ê®ë‡†ÄNabcdefiklnoprsu·õ≠·õ±·ú∞·úº·ùÉ·ùà·ù∏·ùΩ·ü†·ü¶·†π·°ê·úç·§Ω·•à·•∞ot;Ê´≠ƒÄcr·õ∂·úûk»Äceps·úÄ·úÖ·úç·úìong;Êâåpsilon;‰è∂rime;ÊÄµimƒÄ;e·úö·úõÊàΩq;Êãç≈∂·ú¢·ú¶ee;ÊäΩedƒÄ;g·ú¨·ú≠ÊåÖe¬ª·ú≠rkƒÄ;t·çú·ú∑brk;Êé∂ƒÄoy·úÅ·ùÅ;‰ê±quo;ÊÄû Äcmprt·ùì·ùõ·ù°·ù§·ù®ausƒÄ;eƒäƒâptyv;Ê¶∞s√©·úåno√µƒì∆Äahw·ùØ·ù±·ù≥;‰é≤;ÊÑ∂een;Êâ¨r;ÏÄÄùîügŒÄcostuvw·ûç·ûù·û≥·üÅ·üï·üõ·üû∆Äaiu·ûî·ûñ·ûö√∞›†rc;ÊóØp¬ª·ç±∆Ädpt·û§·û®·û≠ot;Ê®Älus;Ê®Åimes;Ê®Ç…±·ûπ\0\0·ûæcup;Ê®Üar;ÊòÖriangleƒÄdu·üç·üíown;ÊñΩp;Êñ≥plus;Ê®Ñe√•·ëÑ√•·í≠arow;Ê§ç∆Äako·ü≠·†¶·†µƒÄcn·ü≤·†£k∆Älst·ü∫÷´·†Çozenge;Êß´riangle»Ä;dlr·†í·†ì·†ò·†ùÊñ¥own;Êñæeft;ÊóÇight;Êñ∏k;Êê£∆±·†´\0·†≥∆≤·†Ø\0·†±;Êñí;Êñë4;Êñìck;ÊñàƒÄeo·†æ·°çƒÄ;q·°É·°ÜÏÄÄ=‚É•uiv;ÏÄÄ‚â°‚É•t;Êåê»Äptwx·°ô·°û·°ß·°¨f;ÏÄÄùïìƒÄ;t·èã·°£om¬ª·èåtie;ÊãàÿÄDHUVbdhmptuv·¢Ö·¢ñ·¢™·¢ª·£ó·£õ·£¨·£ø·§Ö·§ä·§ê·§°»ÄLRlr·¢é·¢ê·¢í·¢î;Êïó;Êïî;Êïñ;Êïì Ä;DUdu·¢°·¢¢·¢§·¢¶·¢®Êïê;Êï¶;Êï©;Êï§;Êïß»ÄLRlr·¢≥·¢µ·¢∑·¢π;Êïù;Êïö;Êïú;ÊïôŒÄ;HLRhlr·£ä·£ã·£ç·£è·£ë·£ì·£ïÊïë;Êï¨;Êï£;Êï†;Êï´;Êï¢;Êïüox;Êßâ»ÄLRlr·£§·£¶·£®·£™;Êïï;Êïí;Êîê;Êîå Ä;DUdu⁄Ω·£∑·£π·£ª·£Ω;Êï•;Êï®;Êî¨;Êî¥inus;Êäülus;Êäûimes;Êä†»ÄLRlr·§ô·§õ·§ù·§ü;Êïõ;Êïò;Êîò;ÊîîŒÄ;HLRhlr·§∞·§±·§≥·§µ·§∑·§π·§ªÊîÇ;Êï™;Êï°;Êïû;Êîº;Êî§;ÊîúƒÄevƒ£·•ÇbarËÄª¬¶‰Ç¶»Äceio·•ë·•ñ·•ö·•†r;ÏÄÄùí∑mi;ÊÅèmƒÄ;e·úö·úúl∆Ä;bh·•®·•©·•´‰Åú;ÊßÖsub;Êüà≈¨·•¥·•ælƒÄ;e·•π·•∫ÊÄ¢t¬ª·•∫p∆Ä;EeƒØ·¶Ö·¶á;Ê™ÆƒÄ;q€ú€õ‡≥°·¶ß\0·ß®·®ë·®ï·®≤\0·®∑·©ê\0\0·™¥\0\0·´Å\0\0·¨°·¨Æ·≠ç·≠í\0·ØΩ\0·∞å∆Äcpr·¶≠·¶≤·ßùute;‰ÑáÃÄ;abcds·¶ø·ßÄ·ßÑ·ßä·ßï·ßôÊà©nd;Ê©Ñrcup;Ê©âƒÄau·ßè·ßíp;Ê©ãp;Ê©áot;Ê©Ä;ÏÄÄ‚à©Ô∏ÄƒÄeo·ß¢·ß•t;ÊÅÅ√Æ⁄ì»Äaeiu·ß∞·ßª·®Å·®Ö«∞·ßµ\0·ß∏s;Ê©çon;‰ÑçdilËÄª√ß‰Éßrc;‰ÑâpsƒÄ;s·®å·®çÊ©åm;Ê©êot;‰Ñã∆Ädmn·®õ·®†·®¶ilËÇª¬∏∆≠ptyv;Ê¶≤tËÑÄ¬¢;e·®≠·®Æ‰Ç¢r√§∆≤r;ÏÄÄùî†∆Äcei·®Ω·©Ä·©çy;‰ëáckƒÄ;m·©á·©àÊúìark¬ª·©à;‰èárŒÄ;Ecefms·©ü·©†·©¢·©´·™§·™™·™ÆÊóã;ÊßÉ∆Ä;el·©©·©™·©≠‰ãÜq;Êâóe…°·©¥\0\0·™àrrowƒÄlr·©º·™Åeft;ÊÜ∫ight;ÊÜª ÄRSacd·™í·™î·™ñ·™ö·™ü¬ª‡Ωá;Êìàst;Êäõirc;Êäöash;Êäùnint;Ê®êid;Ê´Øcir;ÊßÇubsƒÄ;u·™ª·™ºÊô£it¬ª·™ºÀ¨·´á·´î·´∫\0·¨äonƒÄ;e·´ç·´é‰Ä∫ƒÄ;q√á√Ü…≠·´ô\0\0·´¢aƒÄ;t·´û·´ü‰Ä¨;‰ÅÄ∆Ä;fl·´®·´©·´´ÊàÅ√Æ·Ö†eƒÄmx·´±·´∂ent¬ª·´©e√≥…ç«ß·´æ\0·¨áƒÄ;d·äª·¨Çot;Ê©≠n√¥…Ü∆Äfry·¨ê·¨î·¨ó;ÏÄÄùïîo√§…îËÑÄ¬©;s≈ï·¨ùr;ÊÑóƒÄao·¨•·¨©rr;ÊÜµss;ÊúóƒÄcu·¨≤·¨∑r;ÏÄÄùí∏ƒÄbp·¨º·≠ÑƒÄ;e·≠Å·≠ÇÊ´è;Ê´ëƒÄ;e·≠â·≠äÊ´ê;Ê´ídot;ÊãØŒÄdelprvw·≠†·≠¨·≠∑·ÆÇ·Æ¨·Øî·ØπarrƒÄlr·≠®·≠™;Ê§∏;Ê§µ…∞·≠≤\0\0·≠µr;Êãûc;ÊãüarrƒÄ;p·≠ø·ÆÄÊÜ∂;Ê§ΩÃÄ;bcdos·Æè·Æê·Æñ·Æ°·Æ•·Æ®Êà™rcap;Ê©àƒÄau·Æõ·Æûp;Ê©Üp;Ê©äot;Êäçr;Ê©Ö;ÏÄÄ‚à™Ô∏Ä»Äalrv·Æµ·Æø·Øû·Ø£rrƒÄ;m·Æº·ÆΩÊÜ∑;Ê§ºy∆Äevw·Øá·Øî·Øòq…∞·Øé\0\0·Øíre√£·≠≥u√£·≠µee;Êãéedge;ÊãèenËÄª¬§‰Ç§earrowƒÄlr·ØÆ·Ø≥eft¬ª·ÆÄight¬ª·ÆΩe√§·ØùƒÄci·∞Å·∞áonin√¥«∑nt;Êà±lcty;Êå≠‡¶ÄAHabcdefhijlorstuwz·∞∏·∞ª·∞ø·±ù·±©·±µ·≤ä·≤û·≤¨·≤∑·≥ª·≥ø·¥ç·µª·∂ë·∂´·∂ª·∑Ü·∑çr√≤ŒÅar;Ê••»Äglrs·±à·±ç·±í·±îger;ÊÄ†eth;ÊÑ∏√≤·Ñ≥hƒÄ;v·±ö·±õÊÄê¬ª‡§ä≈´·±°·±ßarow;Ê§èa√£ÃïƒÄay·±Æ·±≥ron;‰Ñè;‰ê¥∆Ä;aoÃ≤·±º·≤ÑƒÄgr ø·≤År;Êáätseq;Ê©∑∆Äglm·≤ë·≤î·≤òËÄª¬∞‰Ç∞ta;‰é¥ptyv;Ê¶±ƒÄir·≤£·≤®sht;Ê•ø;ÏÄÄùî°arƒÄlr·≤≥·≤µ¬ª‡£ú¬ª·Äû Äaegsv·≥ÇÕ∏·≥ñ·≥ú·≥†m∆Ä;osÃ¶·≥ä·≥îndƒÄ;sÃ¶·≥ëuit;Êô¶amma;‰èùin;Êã≤∆Ä;io·≥ß·≥®·≥∏‰É∑deËÑÄ√∑;o·≥ß·≥∞ntimes;Êãán√∏·≥∑cy;‰ëíc…Ø·¥Ü\0\0·¥ärn;Êåûop;Êåç Älptuw·¥ò·¥ù·¥¢·µâ·µïlar;‰Ä§f;ÏÄÄùïï Ä;empsÃã·¥≠·¥∑·¥Ω·µÇqƒÄ;dÕí·¥≥ot;Êâëinus;Êà∏lus;Êàîquare;Êä°blebarwedg√•√∫n∆Äadh·ÑÆ·µù·µßownarrow√≥·≤ÉarpoonƒÄlr·µ≤·µ∂ef√¥·≤¥igh√¥·≤∂≈¢·µø·∂Ökaro√∑‡ΩÇ…Ø·∂ä\0\0·∂érn;Êåüop;Êåå∆Äcot·∂ò·∂£·∂¶ƒÄry·∂ù·∂°;ÏÄÄùíπ;‰ëïl;Êß∂rok;‰ÑëƒÄdr·∂∞·∂¥ot;Êã±iƒÄ;f·∂∫·†ñÊñøƒÄah·∑Ä·∑Ér√≤–©a√≤‡æ¶angle;Ê¶¶ƒÄci·∑í·∑ïy;‰ëügrarr;Êüø‡§ÄDacdefglmnopqrstux·∏Å·∏â·∏ô·∏∏’∏·∏º·πâ·π°·πæ·∫•·∫Ø·∫Ω·ª°·º™·º∑·ΩÑ·Ωé·ΩöƒÄDo·∏Ü·¥¥o√¥·≤âƒÄcs·∏é·∏îuteËÄª√©‰É©ter;Ê©Æ»Äaioy·∏¢·∏ß·∏±·∏∂ron;‰ÑõrƒÄ;c·∏≠·∏ÆÊâñËÄª√™‰É™lon;Êâï;‰ëçot;‰ÑóƒÄDr·πÅ·πÖot;Êâí;ÏÄÄùî¢∆Ä;rs·πê·πë·πóÊ™öaveËÄª√®‰É®ƒÄ;d·πú·πùÊ™ñot;Ê™ò»Ä;ils·π™·π´·π≤·π¥Ê™ônters;Êèß;ÊÑìƒÄ;d·ππ·π∫Ê™ïot;Ê™ó∆Äaps·∫Ö·∫â·∫ócr;‰Ñìty∆Ä;sv·∫í·∫ì·∫ïÊàÖet¬ª·∫ìpƒÄ1;·∫ù·∫§ƒ≥·∫°·∫£;ÊÄÑ;ÊÄÖÊÄÉƒÄgs·∫™·∫¨;‰Öãp;ÊÄÇƒÄgp·∫¥·∫∏on;‰Ñôf;ÏÄÄùïñ∆Äals·ªÑ·ªé·ªírƒÄ;s·ªä·ªãÊãïl;Êß£us;Ê©±i∆Ä;lv·ªö·ªõ·ªü‰éµon¬ª·ªõ;‰èµ»Äcsuv·ª™·ª≥·ºã·º£ƒÄio·ªØ·∏±rc¬ª·∏Æ…©·ªπ\0\0·ªª√≠’àantƒÄgl·ºÇ·ºÜtr¬ª·πùess¬ª·π∫∆Äaei·ºí·ºñ·ºöls;‰ÄΩst;ÊâüvƒÄ;D»µ·º†D;Ê©∏parsl;Êß•ƒÄDa·ºØ·º≥ot;Êâìrr;Ê•±∆Äcdi·ºæ·ΩÅ·ª∏r;ÊÑØo√¥ÕíƒÄah·Ωâ·Ωã;‰é∑ËÄª√∞‰É∞ƒÄmr·Ωì·ΩólËÄª√´‰É´o;ÊÇ¨∆Äcip·Ω°·Ω§·Ωßl;‰Ä°s√¥’ÆƒÄeo·Ω¨·Ω¥ctatio√Æ’ônential√•’π‡ß°·æí\0·æû\0·æ°·æß\0\0·øÜ·øå\0·øì\0·ø¶·ø™‚ÄÄ\0‚Äà‚Åöllingdotse√±·πÑy;‰ëÑmale;ÊôÄ∆Äilr·æ≠·æ≥·øÅlig;ËÄÄÔ¨É…©·æπ\0\0·æΩg;ËÄÄÔ¨Äig;ËÄÄÔ¨Ñ;ÏÄÄùî£lig;ËÄÄÔ¨Ålig;ÏÄÄfj∆Äalt·øô·øú·ø°t;Êô≠ig;ËÄÄÔ¨Çns;Êñ±of;‰Üí«∞·øÆ\0·ø≥f;ÏÄÄùïóƒÄak÷ø·ø∑ƒÄ;v·øº·øΩÊãî;Ê´ôartint;Ê®çƒÄao‚Äå‚ÅïƒÄcs‚Äë‚ÅíŒ±‚Äö‚Ä∞‚Ä∏‚ÅÖ‚Åà\0‚ÅêŒ≤‚Ä¢‚Ä•‚Äß‚Ä™‚Ä¨\0‚ÄÆËÄª¬Ω‰ÇΩ;ÊÖìËÄª¬º‰Çº;ÊÖï;ÊÖô;ÊÖõ∆≥‚Ä¥\0‚Ä∂;ÊÖî;ÊÖñ ¥‚Äæ‚ÅÅ\0\0‚ÅÉËÄª¬æ‰Çæ;ÊÖó;ÊÖú5;ÊÖò∆∂‚Åå\0‚Åé;ÊÖö;ÊÖù8;ÊÖûl;ÊÅÑwn;Êå¢cr;ÏÄÄùíª‡¢ÄEabcdefgijlnorstv‚ÇÇ‚Çâ‚Çü‚Ç•‚Ç∞‚Ç¥‚É∞‚Éµ‚É∫‚Éø‚ÑÉ‚Ñí‚Ñ∏Ãó‚Ñæ‚Öí‚ÜûƒÄ;lŸç‚Çá;Ê™å∆Äcmp‚Çê‚Çï‚Çùute;‰áµmaƒÄ;d‚Çú·≥ö‰é≥;Ê™Üreve;‰ÑüƒÄiy‚Ç™‚ÇÆrc;‰Ñù;‰ê≥ot;‰Ñ°»Ä;lqsÿæŸÇ‚ÇΩ‚Éâ∆Ä;qsÿæŸå‚ÉÑlan√¥Ÿ•»Ä;cdlŸ•‚Éí‚Éï‚É•c;Ê™©otƒÄ;o‚Éú‚ÉùÊ™ÄƒÄ;l‚É¢‚É£Ê™Ç;Ê™ÑƒÄ;e‚É™‚É≠ÏÄÄ‚ãõÔ∏Äs;Ê™îr;ÏÄÄùî§ƒÄ;gŸ≥ÿõmel;ÊÑ∑cy;‰ëì»Ä;EajŸö‚Ñå‚Ñé‚Ñê;Ê™í;Ê™•;Ê™§»ÄEaes‚Ñõ‚Ñù‚Ñ©‚Ñ¥;Êâ©pƒÄ;p‚Ñ£‚Ñ§Ê™ärox¬ª‚Ñ§ƒÄ;q‚ÑÆ‚ÑØÊ™àƒÄ;q‚ÑÆ‚Ñõim;Êãßpf;ÏÄÄùïòƒÄci‚ÖÉ‚ÖÜr;ÊÑäm∆Ä;elŸ´‚Öé‚Öê;Ê™é;Ê™êËåÄ>;cdlqr◊Æ‚Ö†‚Ö™‚ÖÆ‚Ö≥‚ÖπƒÄci‚Ö•‚Öß;Ê™ßr;Ê©∫ot;ÊãóPar;Ê¶ïuest;Ê©º Äadels‚ÜÑ‚Ö™‚ÜêŸñ‚Üõ«∞‚Üâ\0‚Üépro√∏‚Çûr;Ê•∏qƒÄlqÿø‚Üñles√≥‚Çài√≠Ÿ´ƒÄen‚Ü£‚Ü≠rtneqq;ÏÄÄ‚â©Ô∏Ä√Ö‚Ü™‘ÄAabcefkosy‚áÑ‚áá‚á±‚áµ‚á∫‚àò‚àù‚àØ‚â®‚âΩr√≤Œ†»Äilmr‚áê‚áî‚áó‚áõrs√∞·íÑf¬ª‚Ä§il√¥⁄©ƒÄdr‚á†‚á§cy;‰ëä∆Ä;cw‡£¥‚á´‚áØir;Ê•à;ÊÜ≠ar;ÊÑèirc;‰Ñ•∆Äalr‚àÅ‚àé‚àìrtsƒÄ;u‚àâ‚àäÊô•it¬ª‚àälip;ÊÄ¶con;Êäπr;ÏÄÄùî•sƒÄew‚à£‚à©arow;Ê§•arow;Ê§¶ Äamopr‚à∫‚àæ‚âÉ‚âû‚â£rr;Êáøtht;ÊàªkƒÄlr‚ââ‚âìeftarrow;ÊÜ©ightarrow;ÊÜ™f;ÏÄÄùïôbar;ÊÄï∆Äclt‚âØ‚â¥‚â∏r;ÏÄÄùíΩas√®‚á¥rok;‰ÑßƒÄbp‚äÇ‚äáull;ÊÅÉhen¬ª·±õ‡´°‚ä£\0‚ä™\0‚ä∏‚ãÖ‚ãé\0‚ãï‚ã≥\0\0‚ã∏‚å¢‚çß‚ç¢‚çø\0‚éÜ‚é™‚é¥cuteËÄª√≠‰É≠∆Ä;iy›±‚ä∞‚äµrcËÄª√Æ‰ÉÆ;‰ê∏ƒÄcx‚äº‚äøy;‰êµclËÄª¬°‰Ç°ƒÄfrŒü‚ãâ;ÏÄÄùî¶raveËÄª√¨‰É¨»Ä;ino‹æ‚ãù‚ã©‚ãÆƒÄin‚ã¢‚ã¶nt;Ê®åt;Êà≠fin;Êßúta;ÊÑ©lig;‰Ñ≥∆Äaop‚ãæ‚åö‚åù∆Äcgt‚åÖ‚åà‚åór;‰Ñ´∆Äelp‹ü‚åè‚åìin√•ﬁéar√¥‹†h;‰Ñ±f;Êä∑ed;‰Üµ Ä;cfot”¥‚å¨‚å±‚åΩ‚çÅare;ÊÑÖinƒÄ;t‚å∏‚åπÊàûie;Êßùdo√¥‚åô Ä;celp›ó‚çå‚çê‚çõ‚ç°al;Êä∫ƒÄgr‚çï‚çôer√≥·ï£√£‚ççarhk;Ê®órod;Ê®º»Äcgpt‚çØ‚ç≤‚ç∂‚çªy;‰ëëon;‰ÑØf;ÏÄÄùïöa;‰éπuestËÄª¬ø‰ÇøƒÄci‚éä‚éèr;ÏÄÄùíæn Ä;Edsv”¥‚éõ‚éù‚é°”≥;Êãπot;ÊãµƒÄ;v‚é¶‚éßÊã¥;Êã≥ƒÄ;i›∑‚éÆlde;‰Ñ©«´‚é∏\0‚éºcy;‰ëñlËÄª√Ø‰ÉØÃÄcfmosu‚èå‚èó‚èú‚è°‚èß‚èµƒÄiy‚èë‚èïrc;‰Ñµ;‰êπr;ÏÄÄùîßath;‰à∑pf;ÏÄÄùïõ«£‚è¨\0‚è±r;ÏÄÄùíørcy;‰ëòkcy;‰ëî–Äacfghjos‚êã‚êñ‚ê¢‚êß‚ê≠‚ê±‚êµ‚êªppaƒÄ;v‚êì‚êî‰é∫;‰è∞ƒÄey‚êõ‚ê†dil;‰Ñ∑;‰ê∫r;ÏÄÄùî®reen;‰Ñ∏cy;‰ëÖcy;‰ëúpf;ÏÄÄùïúcr;ÏÄÄùìÄ‡ÆÄABEHabcdefghjlmnoprstuv‚ë∞‚íÅ‚íÜ‚íç‚íë‚îé‚îΩ‚ïö‚ñÄ‚ôé‚ôû‚ô•‚ôπ‚ôΩ‚öö‚ö≤‚õò‚ùù‚ù®‚ûã‚üÄ‚†Å‚†í∆Äart‚ë∑‚ë∫‚ëºr√≤‡ßÜ√≤Œïail;Ê§õarr;Ê§éƒÄ;g‡¶î‚íã;Ê™ãar;Ê•¢‡•£‚í•\0‚í™\0‚í±\0\0\0\0\0‚íµ‚í∫\0‚ìÜ‚ìà‚ìç\0‚ìπute;‰Ñ∫mptyv;Ê¶¥ra√Æ‡°åbda;‰éªg∆Ä;dl‡¢é‚ìÅ‚ìÉ;Ê¶ë√•‡¢é;Ê™ÖuoËÄª¬´‰Ç´r–Ä;bfhlpst‡¢ô‚ìû‚ì¶‚ì©‚ì´‚ìÆ‚ì±‚ìµƒÄ;f‡¢ù‚ì£s;Ê§üs;Ê§ù√´‚âíp;ÊÜ´l;Ê§πim;Ê•≥l;ÊÜ¢∆Ä;ae‚ìø‚îÄ‚îÑÊ™´il;Ê§ôƒÄ;s‚îâ‚îäÊ™≠;ÏÄÄ‚™≠Ô∏Ä∆Äabr‚îï‚îô‚îùrr;Ê§årk;Êù≤ƒÄak‚î¢‚î¨cƒÄek‚î®‚î™;‰Åª;‰ÅõƒÄes‚î±‚î≥;Ê¶ãlƒÄdu‚îπ‚îª;Ê¶è;Ê¶ç»Äaeuy‚ïÜ‚ïã‚ïñ‚ïòron;‰ÑæƒÄdi‚ïê‚ïîil;‰Ñº√¨‡¢∞√¢‚î©;‰êª»Äcqrs‚ï£‚ï¶‚ï≠‚ïΩa;Ê§∂uoƒÄ;r‡∏ô·ùÜƒÄdu‚ï≤‚ï∑har;Ê•ßshar;Ê•ãh;ÊÜ≤ Ä;fgqs‚ñã‚ñå‡¶â‚ó≥‚óøÊâ§t Äahlrt‚ñò‚ñ§‚ñ∑‚óÇ‚ó®rrowƒÄ;t‡¢ô‚ñ°a√©‚ì∂arpoonƒÄdu‚ñØ‚ñ¥own¬ª—öp¬ª‡•¶eftarrows;Êááight∆Äahs‚óç‚óñ‚óûrrowƒÄ;s‡£¥‡¢ßarpoon√≥‡æòquigarro√∑‚á∞hreetimes;Êãã∆Ä;qs‚ñã‡¶ì‚ó∫lan√¥‡¶¨ Ä;cdgs‡¶¨‚òä‚òç‚òù‚ò®c;Ê™®otƒÄ;o‚òî‚òïÊ©øƒÄ;r‚òö‚òõÊ™Å;Ê™ÉƒÄ;e‚ò¢‚ò•ÏÄÄ‚ãöÔ∏Äs;Ê™ì Äadegs‚ò≥‚òπ‚òΩ‚ôâ‚ôãppro√∏‚ìÜot;ÊãñqƒÄgq‚ôÉ‚ôÖ√¥‡¶âgt√≤‚íå√¥‡¶õi√≠‡¶≤∆Äilr‚ôï‡£°‚ôösht;Ê•º;ÏÄÄùî©ƒÄ;E‡¶ú‚ô£;Ê™ë≈°‚ô©‚ô∂rƒÄdu‚ñ≤‚ôÆƒÄ;l‡••‚ô≥;Ê•™lk;ÊñÑcy;‰ëô Ä;acht‡©à‚öà‚öã‚öë‚öñr√≤‚óÅorne√≤·¥àard;Ê•´ri;Êó∫ƒÄio‚öü‚ö§dot;‰ÖÄustƒÄ;a‚ö¨‚ö≠Êé∞che¬ª‚ö≠»ÄEaes‚öª‚öΩ‚õâ‚õî;Êâ®pƒÄ;p‚õÉ‚õÑÊ™ârox¬ª‚õÑƒÄ;q‚õé‚õèÊ™áƒÄ;q‚õé‚öªim;Êã¶–Äabnoptwz‚õ©‚õ¥‚õ∑‚úö‚úØ‚ùÅ‚ùá‚ùêƒÄnr‚õÆ‚õ±g;Êü¨r;ÊáΩr√´‡£Åg∆Älmr‚õø‚úç‚úîeftƒÄar‡ß¶‚úáight√°‡ß≤apsto;Êüºight√°‡ßΩparrowƒÄlr‚ú•‚ú©ef√¥‚ì≠ight;ÊÜ¨∆Äafl‚ú∂‚úπ‚úΩr;Ê¶Ö;ÏÄÄùïùus;Ê®≠imes;Ê®¥≈°‚ùã‚ùèst;Êàó√°·çé∆Ä;ef‚ùó‚ùò·†ÄÊóänge¬ª‚ùòarƒÄ;l‚ù§‚ù•‰Ä®t;Ê¶ì Äachmt‚ù≥‚ù∂‚ùº‚ûÖ‚ûár√≤‡¢®orne√≤·∂åarƒÄ;d‡æò‚ûÉ;Ê•≠;ÊÄéri;ÊäøÃÄachiqt‚ûò‚ûù‡©Ä‚û¢‚ûÆ‚ûªquo;ÊÄπr;ÏÄÄùìÅm∆Ä;eg‡¶≤‚û™‚û¨;Ê™ç;Ê™èƒÄbu‚î™‚û≥oƒÄ;r‡∏ü‚ûπ;ÊÄörok;‰ÖÇËêÄ<;cdhilqr‡†´‚üí‚òπ‚üú‚ü†‚ü•‚ü™‚ü∞ƒÄci‚üó‚üô;Ê™¶r;Ê©πre√•‚ó≤mes;Êãâarr;Ê•∂uest;Ê©ªƒÄPi‚üµ‚üπar;Ê¶ñ∆Ä;ef‚†Ä‡§≠·†õÊóÉrƒÄdu‚†á‚†çshar;Ê•ähar;Ê•¶ƒÄen‚†ó‚†°rtneqq;ÏÄÄ‚â®Ô∏Ä√Ö‚†û‹ÄDacdefhilnopsu‚°Ä‚°Ö‚¢Ç‚¢é‚¢ì‚¢†‚¢•‚¢®‚£ö‚£¢‚£§‡™É‚£≥‚§ÇDot;Êà∫»Äclpr‚°é‚°í‚°£‚°ΩrËÄª¬Ø‰ÇØƒÄet‚°ó‚°ô;ÊôÇƒÄ;e‚°û‚°üÊú†se¬ª‚°üƒÄ;s·Äª‚°®to»Ä;dlu·Äª‚°≥‚°∑‚°ªow√Æ“åef√¥‡§è√∞·èëker;ÊñÆƒÄoy‚¢á‚¢åmma;Ê®©;‰êºash;ÊÄîasuredangle¬ª·ò¶r;ÏÄÄùî™o;ÊÑß∆Äcdn‚¢Ø‚¢¥‚£âroËÄª¬µ‰Çµ»Ä;acd·ë§‚¢Ω‚£Ä‚£Ñs√¥·ößir;Ê´∞otËÇª¬∑∆µus∆Ä;bd‚£í·§É‚£ìÊàíƒÄ;u·¥º‚£ò;Ê®™≈£‚£û‚£°p;Ê´õ√≤‚àí√∞‡™ÅƒÄdp‚£©‚£Æels;Êäßf;ÏÄÄùïûƒÄct‚£∏‚£Ωr;ÏÄÄùìÇpos¬ª·ñù∆Ä;lm‚§â‚§ä‚§ç‰éºtimap;Êä∏‡∞ÄGLRVabcdefghijlmoprstuvw‚•Ç‚•ì‚•æ‚¶â‚¶ò‚ßö‚ß©‚®ï‚®ö‚©ò‚©ù‚™É‚™ï‚™§‚™®‚¨Ñ‚¨á‚≠Ñ‚≠ø‚ÆÆ‚∞¥‚±ß‚±º‚≥©ƒÄgt‚•á‚•ã;ÏÄÄ‚ãôÃ∏ƒÄ;v‚•ê‡ØèÏÄÄ‚â´‚Éí∆Äelt‚•ö‚•≤‚•∂ftƒÄar‚•°‚•ßrrow;Êáçightarrow;Êáé;ÏÄÄ‚ãòÃ∏ƒÄ;v‚•ª‡±áÏÄÄ‚â™‚Éíightarrow;ÊáèƒÄDd‚¶é‚¶ìash;ÊäØash;ÊäÆ Äbcnpt‚¶£‚¶ß‚¶¨‚¶±‚ßåla¬ªÀûute;‰ÖÑg;ÏÄÄ‚à†‚Éí Ä;Eiop‡∂Ñ‚¶º‚ßÄ‚ßÖ‚ßà;ÏÄÄ‚©∞Ã∏d;ÏÄÄ‚âãÃ∏s;‰Öâro√∏‡∂ÑurƒÄ;a‚ßì‚ßîÊôÆlƒÄ;s‚ßì‡¨∏«≥‚ßü\0‚ß£pËÇª¬†‡¨∑mpƒÄ;e‡Øπ‡∞Ä Äaeouy‚ß¥‚ßæ‚®É‚®ê‚®ì«∞‚ßπ\0‚ßª;Ê©Éon;‰Öàdil;‰ÖÜngƒÄ;d‡µæ‚®äot;ÏÄÄ‚©≠Ã∏p;Ê©Ç;‰êΩash;ÊÄìŒÄ;Aadqsx‡Æí‚®©‚®≠‚®ª‚©Å‚©Ö‚©êrr;ÊáórƒÄhr‚®≥‚®∂k;Ê§§ƒÄ;o·è≤·è∞ot;ÏÄÄ‚âêÃ∏ui√∂‡≠£ƒÄei‚©ä‚©éar;Ê§®√≠‡ÆòistƒÄ;s‡Æ†‡Æür;ÏÄÄùî´»ÄEest‡ØÖ‚©¶‚©π‚©º∆Ä;qs‡Æº‚©≠‡Ø°∆Ä;qs‡Æº‡ØÖ‚©¥lan√¥‡Ø¢i√≠‡Ø™ƒÄ;r‡Æ∂‚™Å¬ª‡Æ∑∆ÄAap‚™ä‚™ç‚™ër√≤‚•±rr;ÊÜÆar;Ê´≤∆Ä;sv‡æç‚™ú‡æåƒÄ;d‚™°‚™¢Êãº;Êã∫cy;‰ëöŒÄAEadest‚™∑‚™∫‚™æ‚´Ç‚´Ö‚´∂‚´πr√≤‚•¶;ÏÄÄ‚â¶Ã∏rr;ÊÜör;ÊÄ•»Ä;fqs‡∞ª‚´é‚´£‚´ØtƒÄar‚´î‚´ôrro√∑‚´Åightarro√∑‚™ê∆Ä;qs‡∞ª‚™∫‚´™lan√¥‡±ïƒÄ;s‡±ï‚´¥¬ª‡∞∂i√≠‡±ùƒÄ;r‡∞µ‚´æiƒÄ;e‡∞ö‡∞•i√§‡∂êƒÄpt‚¨å‚¨ëf;ÏÄÄùïüËÜÄ¬¨;in‚¨ô‚¨ö‚¨∂‰Ç¨n»Ä;Edv‡Æâ‚¨§‚¨®‚¨Æ;ÏÄÄ‚ãπÃ∏ot;ÏÄÄ‚ãµÃ∏«°‡Æâ‚¨≥‚¨µ;Êã∑;Êã∂iƒÄ;v‡≤∏‚¨º«°‡≤∏‚≠Å‚≠É;Êãæ;ÊãΩ∆Äaor‚≠ã‚≠£‚≠©r»Ä;ast‡≠ª‚≠ï‚≠ö‚≠ülle√¨‡≠ªl;ÏÄÄ‚´Ω‚É•;ÏÄÄ‚àÇÃ∏lint;Ê®î∆Ä;ce‡≤í‚≠∞‚≠≥u√•‡≤•ƒÄ;c‡≤ò‚≠∏ƒÄ;e‡≤í‚≠Ω√±‡≤ò»ÄAait‚Æà‚Æã‚Æù‚Æßr√≤‚¶àrr∆Ä;cw‚Æî‚Æï‚ÆôÊÜõ;ÏÄÄ‚§≥Ã∏;ÏÄÄ‚ÜùÃ∏ghtarrow¬ª‚ÆïriƒÄ;e‡≥ã‡≥ñŒÄchimpqu‚ÆΩ‚Øç‚Øô‚¨Ñ‡≠∏‚Ø§‚ØØ»Ä;cer‡¥≤‚ØÜ‡¥∑‚Øâu√•‡µÖ;ÏÄÄùìÉort…≠‚¨Ö\0\0‚Øñar√°‚≠ñmƒÄ;e‡µÆ‚ØüƒÄ;q‡µ¥‡µ≥suƒÄbp‚Ø´‚Ø≠√•‡≥∏√•‡¥ã∆Äbcp‚Ø∂‚∞ë‚∞ô»Ä;Ees‚Øø‚∞Ä‡¥¢‚∞ÑÊäÑ;ÏÄÄ‚´ÖÃ∏etƒÄ;e‡¥õ‚∞ãqƒÄ;q‡¥£‚∞ÄcƒÄ;e‡¥≤‚∞ó√±‡¥∏»Ä;Ees‚∞¢‚∞£‡µü‚∞ßÊäÖ;ÏÄÄ‚´ÜÃ∏etƒÄ;e‡µò‚∞ÆqƒÄ;q‡µ†‚∞£»Ägilr‚∞Ω‚∞ø‚±Ö‚±á√¨‡ØóldeËÄª√±‰É±√ß‡±ÉiangleƒÄlr‚±í‚±úeftƒÄ;e‡∞ö‚±ö√±‡∞¶ightƒÄ;e‡≥ã‚±•√±‡≥óƒÄ;m‚±¨‚±≠‰éΩ∆Ä;es‚±¥‚±µ‚±π‰Ä£ro;ÊÑñp;ÊÄá“ÄDHadgilrs‚≤è‚≤î‚≤ô‚≤û‚≤£‚≤∞‚≤∂‚≥ì‚≥£ash;Êä≠arr;Ê§Ñp;ÏÄÄ‚âç‚Éíash;Êä¨ƒÄet‚≤®‚≤¨;ÏÄÄ‚â•‚Éí;ÏÄÄ>‚Éínfin;Êßû∆ÄAet‚≤Ω‚≥Å‚≥Örr;Ê§Ç;ÏÄÄ‚â§‚ÉíƒÄ;r‚≥ä‚≥çÏÄÄ<‚Éíie;ÏÄÄ‚ä¥‚ÉíƒÄAt‚≥ò‚≥úrr;Ê§Érie;ÏÄÄ‚äµ‚Éíim;ÏÄÄ‚àº‚Éí∆ÄAan‚≥∞‚≥¥‚¥Çrr;ÊáñrƒÄhr‚≥∫‚≥Ωk;Ê§£ƒÄ;o·èß·è•ear;Ê§ß·âì·™ï\0\0\0\0\0\0\0\0\0\0\0\0\0‚¥≠\0‚¥∏‚µà‚µ†‚µ•‚µ≤‚∂Ñ·¨á\0\0‚∂ç‚∂´\0‚∑à‚∑é\0‚∑ú‚∏ô‚∏´‚∏æ‚πÉƒÄcs‚¥±·™óuteËÄª√≥‰É≥ƒÄiy‚¥º‚µÖrƒÄ;c·™û‚µÇËÄª√¥‰É¥;‰êæ Äabios·™†‚µí‚µó«à‚µölac;‰Öëv;Ê®∏old;Ê¶ºlig;‰ÖìƒÄcr‚µ©‚µ≠ir;Ê¶ø;ÏÄÄùî¨ÕØ‚µπ\0\0‚µº\0‚∂Çn;‰ãõaveËÄª√≤‰É≤;ÊßÅƒÄbm‚∂à‡∑¥ar;Ê¶µ»Äacit‚∂ï‚∂ò‚∂•‚∂®r√≤·™ÄƒÄir‚∂ù‚∂†r;Ê¶æoss;Ê¶ªn√•‡πí;ÊßÄ∆Äaei‚∂±‚∂µ‚∂πcr;‰Öçga;‰èâ∆Äcdn‚∑Ä‚∑Ö«çron;‰éø;Ê¶∂pf;ÏÄÄùï†∆Äael‚∑î‚∑ó«ír;Ê¶∑rp;Ê¶πŒÄ;adiosv‚∑™‚∑´‚∑Æ‚∏à‚∏ç‚∏ê‚∏ñÊà®r√≤·™Ü»Ä;efm‚∑∑‚∑∏‚∏Ç‚∏ÖÊ©ùrƒÄ;o‚∑æ‚∑øÊÑ¥f¬ª‚∑øËÄª¬™‰Ç™ËÄª¬∫‰Ç∫gof;Êä∂r;Ê©ñlope;Ê©ó;Ê©õ∆Äclo‚∏ü‚∏°‚∏ß√≤‚∏ÅashËÄª√∏‰É∏l;Êäòi≈¨‚∏Ø‚∏¥deËÄª√µ‰ÉµesƒÄ;a«õ‚∏∫s;Ê®∂mlËÄª√∂‰É∂bar;ÊåΩ‡´°‚πû\0‚πΩ\0‚∫Ä‚∫ù\0‚∫¢‚∫π\0\0‚ªã‡∫ú\0‚ºì\0\0‚º´‚æº\0‚øàr»Ä;ast–É‚πß‚π≤‡∫ÖËÑÄ¬∂;l‚π≠‚πÆ‰Ç∂le√¨–É…©‚π∏\0\0‚πªm;Ê´≥;Ê´Ωy;‰êør Äcimpt‚∫ã‚∫è‚∫ì·°•‚∫ónt;‰Ä•od;‰ÄÆil;ÊÄ∞enk;ÊÄ±r;ÏÄÄùî≠∆Äimo‚∫®‚∫∞‚∫¥ƒÄ;v‚∫≠‚∫Æ‰èÜ;‰èïma√¥‡©∂ne;Êòé∆Ä;tv‚∫ø‚ªÄ‚ªà‰èÄchfork¬ª·øΩ;‰èñƒÄau‚ªè‚ªünƒÄck‚ªï‚ªùkƒÄ;h‚á¥‚ªõ;ÊÑé√∂‚á¥s“Ä;abcdemst‚ª≥‚ª¥·§à‚ªπ‚ªΩ‚ºÑ‚ºÜ‚ºä‚ºé‰Ä´cir;Ê®£ir;Ê®¢ƒÄou·µÄ‚ºÇ;Ê®•;Ê©≤nËÇª¬±‡∫ùim;Ê®¶wo;Ê®ß∆Äipu‚ºô‚º†‚º•ntint;Ê®ïf;ÏÄÄùï°ndËÄª¬£‰Ç£‘Ä;Eaceinosu‡ªà‚ºø‚ΩÅ‚ΩÑ‚Ωá‚æÅ‚æâ‚æí‚Ωæ‚æ∂;Ê™≥p;Ê™∑u√•‡ªôƒÄ;c‡ªé‚ΩåÃÄ;acens‡ªà‚Ωô‚Ωü‚Ω¶‚Ω®‚Ωæppro√∏‚ΩÉurlye√±‡ªô√±‡ªé∆Äaes‚ΩØ‚Ω∂‚Ω∫pprox;Ê™πqq;Ê™µim;Êã®i√≠‡ªümeƒÄ;s‚æà‡∫ÆÊÄ≤∆ÄEas‚Ω∏‚æê‚Ω∫√∞‚Ωµ∆Ädfp‡ª¨‚æô‚æØ∆Äals‚æ†‚æ•‚æ™lar;ÊåÆine;Êåíurf;ÊåìƒÄ;t‡ªª‚æ¥√Ø‡ªªrel;Êä∞ƒÄci‚øÄ‚øÖr;ÏÄÄùìÖ;‰èàncsp;ÊÄàÃÄfiopsu‚øö‚ã¢‚øü‚ø•‚ø´‚ø±r;ÏÄÄùîÆpf;ÏÄÄùï¢rime;ÊÅócr;ÏÄÄùìÜ∆Äaeo‚ø∏„Äâ„ÄìtƒÄei‚øæ„ÄÖrnion√≥⁄∞nt;Ê®ñstƒÄ;e„Äê„Äë‰Äø√±·ºô√¥‡ºî‡™ÄABHabcdefhilmnoprstux„ÅÄ„Åë„Åï„Åô„É†„Ñé„Ñ´„Öá„Ö¢„Ö≤„Üé„àÜ„àï„à§„à©„âò„âÆ„â≤„äê„ä∞„ä∑∆Äart„Åá„Åä„Åår√≤·Ç≥√≤œùail;Ê§úar√≤·±•ar;Ê•§ŒÄcdenqrt„Å®„Åµ„Å∏„Åø„Çè„Çî„ÉåƒÄeu„Å≠„Å±;ÏÄÄ‚àΩÃ±te;‰Öïi√£·ÖÆmptyv;Ê¶≥g»Ä;del‡øë„Çâ„Çã„Çç;Ê¶í;Ê¶•√•‡øëuoËÄª¬ª‰Çªr÷Ä;abcfhlpstw‡øú„Ç¨„ÇØ„Ç∑„Çπ„Çº„Çæ„ÉÄ„ÉÉ„Éá„Éäp;Ê•µƒÄ;f‡ø†„Ç¥s;Ê§†;Ê§≥s;Ê§û√´‚âù√∞‚úÆl;Ê•Öim;Ê•¥l;ÊÜ£;ÊÜùƒÄai„Éë„Éïil;Ê§öoƒÄ;n„Éõ„ÉúÊà∂al√≥‡ºû∆Äabr„Éß„É™„ÉÆr√≤·ü•rk;Êù≥ƒÄak„É≥„ÉΩcƒÄek„Éπ„Éª;‰ÅΩ;‰ÅùƒÄes„ÑÇ„ÑÑ;Ê¶ålƒÄdu„Ñä„Ñå;Ê¶é;Ê¶ê»Äaeuy„Ñó„Ñú„Ñß„Ñ©ron;‰ÖôƒÄdi„Ñ°„Ñ•il;‰Öó√¨‡ø≤√¢„É∫;‰ëÄ»Äclqs„Ñ¥„Ñ∑„ÑΩ„ÖÑa;Ê§∑dhar;Ê•©uoƒÄ;r»é»çh;ÊÜ≥∆Äacg„Öé„Öü‡ΩÑl»Ä;ips‡Ω∏„Öò„Öõ·Çún√•·Çªar√¥‡æ©t;Êñ≠∆Äilr„Ö©·Ä£„ÖÆsht;Ê•Ω;ÏÄÄùîØƒÄao„Ö∑„ÜÜrƒÄdu„ÖΩ„Öø¬ª—ªƒÄ;l·Çë„ÜÑ;Ê•¨ƒÄ;v„Üã„Üå‰èÅ;‰è±∆Ägns„Üï„áπ„áºhtÃÄahlrst„Ü§„Ü∞„áÇ„áò„á§„áÆrrowƒÄ;t‡øú„Ü≠a√©„ÉàarpoonƒÄdu„Üª„Üøow√Æ„Öæp¬ª·ÇíeftƒÄah„áä„áêrrow√≥‡ø™arpoon√≥’ëightarrows;Êáâquigarro√∑„Éãhreetimes;Êãåg;‰ãöingdotse√±·º≤∆Äahm„àç„àê„àìr√≤‡ø™a√≤’ë;ÊÄèoustƒÄ;a„àû„àüÊé±che¬ª„àümid;Ê´Æ»Äabpt„à≤„àΩ„âÄ„âíƒÄnr„à∑„à∫g;Êü≠r;Êáær√´·ÄÉ∆Äafl„âá„âä„âér;Ê¶Ü;ÏÄÄùï£us;Ê®Æimes;Ê®µƒÄap„âù„âßrƒÄ;g„â£„â§‰Ä©t;Ê¶îolint;Ê®íar√≤„á£»Äachq„âª„äÄ·Çº„äÖquo;ÊÄ∫r;ÏÄÄùìáƒÄbu„Éª„ääoƒÄ;r»î»ì∆Ähir„äó„äõ„ä†re√•„á∏mes;Êãäi»Ä;efl„ä™·Åô·†°„ä´Êñπtri;Êßéluhar;Ê•®;ÊÑû‡µ°„ãï„ãõ„ãü„å¨„å∏„ç±\0„ç∫„é§\0\0„è¨„è∞\0„ê®„ëà„ëö„í≠„í±„ìä„ì±\0„òñ\0\0„ò≥cute;‰Öõqu√Ø‚û∫‘Ä;Eaceinpsy·á≠„ã≥„ãµ„ãø„åÇ„åã„åè„åü„å¶„å©;Ê™¥«∞„ã∫\0„ãº;Ê™∏on;‰Ö°u√•·áæƒÄ;d·á≥„åáil;‰Öürc;‰Öù∆ÄEas„åñ„åò„åõ;Ê™∂p;Ê™∫im;Êã©olint;Ê®ìi√≠·àÑ;‰ëÅot∆Ä;be„å¥·µá„åµÊãÖ;Ê©¶ŒÄAacmstx„çÜ„çä„çó„çõ„çû„ç£„ç≠rr;ÊáòrƒÄhr„çê„çí√´‚à®ƒÄ;o‡®∂‡®¥tËÄª¬ß‰Çßi;‰Äªwar;Ê§©mƒÄin„ç©√∞nu√≥√±t;Êú∂rƒÄ;o„ç∂‚ÅïÏÄÄùî∞»Äacoy„éÇ„éÜ„éë„é†rp;ÊôØƒÄhy„éã„éècy;‰ëâ;‰ëàrt…≠„éô\0\0„éúi√§·ë§ara√¨‚πØËÄª¬≠‰Ç≠ƒÄgm„é®„é¥ma∆Ä;fv„é±„é≤„é≤‰èÉ;‰èÇ–Ä;deglnpr·ä´„èÖ„èâ„èé„èñ„èû„è°„è¶ot;Ê©™ƒÄ;q·ä±·ä∞ƒÄ;E„èì„èîÊ™û;Ê™†ƒÄ;E„èõ„èúÊ™ù;Ê™üe;ÊâÜlus;Ê®§arr;Ê•≤ar√≤·ÑΩ»Äaeit„è∏„êà„êè„êóƒÄls„èΩ„êÑlsetm√©„ç™hp;Ê®≥parsl;Êß§ƒÄdl·ë£„êîe;Êå£ƒÄ;e„êú„êùÊ™™ƒÄ;s„ê¢„ê£Ê™¨;ÏÄÄ‚™¨Ô∏Ä∆Äflp„êÆ„ê≥„ëÇtcy;‰ëåƒÄ;b„ê∏„êπ‰ÄØƒÄ;a„êæ„êøÊßÑr;Êåøf;ÏÄÄùï§aƒÄdr„ëç–ÇesƒÄ;u„ëî„ëïÊô†it¬ª„ëï∆Äcsu„ë†„ëπ„íüƒÄau„ë•„ëØpƒÄ;s·Üà„ë´;ÏÄÄ‚äìÔ∏ÄpƒÄ;s·Ü¥„ëµ;ÏÄÄ‚äîÔ∏ÄuƒÄbp„ëø„íè∆Ä;es·Üó·Üú„íÜetƒÄ;e·Üó„íç√±·Üù∆Ä;es·Ü®·Ü≠„íñetƒÄ;e·Ü®„íù√±·ÜÆ∆Ä;af·Öª„í¶÷∞r≈•„í´÷±¬ª·Öºar√≤·Öà»Äcemt„íπ„íæ„ìÇ„ìÖr;ÏÄÄùìàtm√Æ√±i√¨„êïar√¶·ÜæƒÄar„ìé„ìïrƒÄ;f„ìî·ûøÊòÜƒÄan„ìö„ì≠ightƒÄep„ì£„ì™psilo√Æ·ª†h√©‚∫Øs¬ª‚°í Äbcmnp„ìª„ïû·àâ„ñã„ñé“Ä;Edemnprs„îé„îè„îë„îï„îû„î£„î¨„î±„î∂ÊäÇ;Ê´Öot;Ê™ΩƒÄ;d·áö„îöot;Ê´Éult;Ê´ÅƒÄEe„î®„î™;Ê´ã;Êäälus;Ê™øarr;Ê•π∆Äeiu„îΩ„ïí„ïït∆Ä;en„îé„ïÖ„ïãqƒÄ;q·áö„îèeqƒÄ;q„î´„î®m;Ê´áƒÄbp„ïö„ïú;Ê´ï;Ê´ìcÃÄ;acens·á≠„ï¨„ï≤„ïπ„ïª„å¶ppro√∏„ã∫urlye√±·áæ√±·á≥∆Äaes„ñÇ„ñà„åõppro√∏„åöq√±„åóg;Êô™⁄Ä123;Edehlmnps„ñ©„ñ¨„ñØ·àú„ñ≤„ñ¥„óÄ„óâ„óï„óö„óü„ó®„ó≠ËÄª¬π‰ÇπËÄª¬≤‰Ç≤ËÄª¬≥‰Ç≥;Ê´ÜƒÄos„ñπ„ñºt;Ê™æub;Ê´òƒÄ;d·à¢„óÖot;Ê´ÑsƒÄou„óè„óíl;Êüâb;Ê´óarr;Ê•ªult;Ê´ÇƒÄEe„ó§„ó¶;Ê´å;Êäãlus;Ê´Ä∆Äeiu„ó¥„òâ„òåt∆Ä;en·àú„óº„òÇqƒÄ;q·à¢„ñ≤eqƒÄ;q„óß„ó§m;Ê´àƒÄbp„òë„òì;Ê´î;Ê´ñ∆ÄAan„òú„ò†„ò≠rr;ÊáôrƒÄhr„ò¶„ò®√´‚àÆƒÄ;o‡®´‡®©war;Ê§™ligËÄª√ü‰Éü‡Ø°„ôë„ôù„ô†·ãé„ô≥„ôπ\0„ôæ„õÇ\0\0\0\0\0„õõ„úÉ\0„úâ„ù¨\0\0\0„ûá…≤„ôñ\0\0„ôõget;Êåñ;‰èÑr√´‡πü∆Äaey„ô¶„ô´„ô∞ron;‰Ö•dil;‰Ö£;‰ëÇlrec;Êåïr;ÏÄÄùî±»Äeiko„öÜ„öù„öµ„öº«≤„öã\0„öëeƒÄ4f·äÑ·äÅa∆Ä;sv„öò„öô„öõ‰é∏ym;‰èëƒÄcn„ö¢„ö≤kƒÄas„ö®„öÆppro√∏·ãÅim¬ª·ä¨s√∞·äûƒÄas„ö∫„öÆ√∞·ãÅrnËÄª√æ‰Éæ«¨Ãü„õÜ‚ãßesËÜÄ√ó;bd„õè„õê„õò‰ÉóƒÄ;a·§è„õïr;Ê®±;Ê®∞∆Äeps„õ°„õ£„úÄ√°‚©ç»Ä;bcf“Ü„õ¨„õ∞„õ¥ot;Êå∂ir;Ê´±ƒÄ;o„õπ„õºÏÄÄùï•rk;Ê´ö√°„ç¢rime;ÊÄ¥∆Äaip„úè„úí„ù§d√•·âàŒÄadempst„ú°„ùç„ùÄ„ùë„ùó„ùú„ùüngle Ä;dlqr„ú∞„ú±„ú∂„ùÄ„ùÇÊñµown¬ª·∂ªeftƒÄ;e‚†Ä„úæ√±‡§Æ;ÊâúightƒÄ;e„ä™„ùã√±·Åöot;Êó¨inus;Ê®∫lus;Ê®πb;Êßçime;Ê®ªezium;Êè¢∆Ächt„ù≤„ùΩ„ûÅƒÄry„ù∑„ùª;ÏÄÄùìâ;‰ëÜcy;‰ëõrok;‰ÖßƒÄio„ûã„ûéx√¥·ù∑headƒÄlr„ûó„û†eftarro√∑‡°èightarrow¬ª‡Ωù‡§ÄAHabcdfghlmoprstuw„üê„üì„üó„ü§„ü∞„üº„†é„†ú„†£„†¥„°ë„°ù„°´„¢©„£å„£í„£™„£∂r√≤œ≠ar;Ê•£ƒÄcr„üú„ü¢uteËÄª√∫‰É∫√≤·Öêr«£„ü™\0„ü≠y;‰ëûve;‰Ö≠ƒÄiy„üµ„ü∫rcËÄª√ª‰Éª;‰ëÉ∆Äabh„†É„†Ü„†ãr√≤·é≠lac;‰Ö±a√≤·èÉƒÄir„†ì„†òsht;Ê•æ;ÏÄÄùî≤raveËÄª√π‰Éπ≈°„†ß„†±rƒÄlr„†¨„†Æ¬ª‡•ó¬ª·ÇÉlk;ÊñÄƒÄct„†π„°ç…Ø„†ø\0\0„°ärnƒÄ;e„°Ö„°ÜÊåúr¬ª„°Üop;Êåèri;Êó∏ƒÄal„°ñ„°öcr;‰Ö´ËÇª¬®ÕâƒÄgp„°¢„°¶on;‰Ö≥f;ÏÄÄùï¶ÃÄadhlsu·Öã„°∏„°Ω·ç≤„¢ë„¢†own√°·é≥arpoonƒÄlr„¢à„¢åef√¥„†≠igh√¥„†Øi∆Ä;hl„¢ô„¢ö„¢ú‰èÖ¬ª·è∫on¬ª„¢öparrows;Êáà∆Äcit„¢∞„£Ñ„£à…Ø„¢∂\0\0„£ÅrnƒÄ;e„¢º„¢ΩÊåùr¬ª„¢Ωop;Êåéng;‰ÖØri;Êóπcr;ÏÄÄùìä∆Ädir„£ô„£ù„£¢ot;Êã∞lde;‰Ö©iƒÄ;f„ú∞„£®¬ª·†ìƒÄam„£Ø„£≤r√≤„¢®lËÄª√º‰Éºangle;Ê¶ßﬁÄABDacdeflnoprsz„§ú„§ü„§©„§≠„¶µ„¶∏„¶Ω„ßü„ß§„ß®„ß≥„ßπ„ßΩ„®Å„®†r√≤œ∑arƒÄ;v„§¶„§ßÊ´®;Ê´©as√®œ°ƒÄnr„§≤„§∑grt;Ê¶úŒÄeknprst„ì£„•Ü„•ã„•í„•ù„•§„¶ñapp√°‚êïothin√ß·∫ñ∆Ähir„ì´‚ªà„•ôop√¥‚æµƒÄ;h·é∑„•¢√Ø„ÜçƒÄiu„•©„•≠gm√°„é≥ƒÄbp„•≤„¶ÑsetneqƒÄ;q„•Ω„¶ÄÏÄÄ‚ääÔ∏Ä;ÏÄÄ‚´ãÔ∏ÄsetneqƒÄ;q„¶è„¶íÏÄÄ‚äãÔ∏Ä;ÏÄÄ‚´åÔ∏ÄƒÄhr„¶õ„¶üet√°„öúiangleƒÄlr„¶™„¶Øeft¬ª‡§•ight¬ª·Åëy;‰ê≤ash¬ª·Ä∂∆Äelr„ßÑ„ßí„ßó∆Ä;be‚∑™„ßã„ßèar;Êäªq;Êâölip;ÊãÆƒÄbt„ßú·ë®a√≤·ë©r;ÏÄÄùî≥tr√©„¶ÆsuƒÄbp„ßØ„ß±¬ª‡¥ú¬ª‡µôpf;ÏÄÄùïßro√∞‡ªªtr√©„¶¥ƒÄcu„®Ü„®ãr;ÏÄÄùìãƒÄbp„®ê„®ònƒÄEe„¶Ä„®ñ¬ª„•ænƒÄEe„¶í„®û¬ª„¶êigzag;Ê¶öŒÄcefoprs„®∂„®ª„©ñ„©õ„©î„©°„©™irc;‰ÖµƒÄdi„©Ä„©ëƒÄbg„©Ö„©âar;Ê©üeƒÄ;q·ó∫„©è;Êâôerp;ÊÑòr;ÏÄÄùî¥pf;ÏÄÄùï®ƒÄ;e·ëπ„©¶at√®·ëπcr;ÏÄÄùìå‡´£·ûé„™á\0„™ã\0„™ê„™õ\0\0„™ù„™®„™´„™Ø\0\0„´É„´é\0„´ò·üú·üütr√©·üër;ÏÄÄùîµƒÄAa„™î„™ór√≤œÉr√≤‡ß∂;‰éæƒÄAa„™°„™§r√≤Œ∏r√≤‡ß´a√∞‚úìis;Êãª∆Ädpt·û§„™µ„™æƒÄfl„™∫·û©;ÏÄÄùï©im√•·û≤ƒÄAa„´á„´är√≤œér√≤‡®ÅƒÄcq„´í·û∏r;ÏÄÄùìçƒÄpt·üñ„´úr√©·üî–Äacefiosu„´∞„´Ω„¨à„¨å„¨ë„¨ï„¨õ„¨°cƒÄuy„´∂„´ªteËÄª√Ω‰ÉΩ;‰ëèƒÄiy„¨Ç„¨Ürc;‰Ö∑;‰ëãnËÄª¬•‰Ç•r;ÏÄÄùî∂cy;‰ëópf;ÏÄÄùï™cr;ÏÄÄùìéƒÄcm„¨¶„¨©y;‰ëélËÄª√ø‰Éø‘Äacdefhiosw„≠Ç„≠à„≠î„≠ò„≠§„≠©„≠≠„≠¥„≠∫„ÆÄcute;‰Ö∫ƒÄay„≠ç„≠íron;‰Öæ;‰ê∑ot;‰ÖºƒÄet„≠ù„≠°tr√¶·ïüa;‰é∂r;ÏÄÄùî∑cy;‰ê∂grarr;Êáùpf;ÏÄÄùï´cr;ÏÄÄùìèƒÄjn„ÆÖ„Æá;ÊÄçj;ÊÄå'.split("").map(c2=>c2.charCodeAt(0))),xmlDecodeTree=new Uint16Array("»Äaglq	\x1B…≠\0\0p;‰Ä¶os;‰Äßt;‰Äæt;‰Äºuot;‰Ä¢".split("").map(c2=>c2.charCodeAt(0)));var _a$1;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$2=(_a$1=String.fromCodePoint)!==null&&_a$1!==void 0?_a$1:function(codePoint){let output="";return codePoint>65535&&(codePoint-=65536,output+=String.fromCharCode(codePoint>>>10&1023|55296),codePoint=56320|codePoint&1023),output+=String.fromCharCode(codePoint),output};function replaceCodePoint(codePoint){var _a4;return codePoint>=55296&&codePoint<=57343||codePoint>1114111?65533:(_a4=decodeMap.get(codePoint))!==null&&_a4!==void 0?_a4:codePoint}var CharCodes;(function(CharCodes2){CharCodes2[CharCodes2.NUM=35]="NUM",CharCodes2[CharCodes2.SEMI=59]="SEMI",CharCodes2[CharCodes2.EQUALS=61]="EQUALS",CharCodes2[CharCodes2.ZERO=48]="ZERO",CharCodes2[CharCodes2.NINE=57]="NINE",CharCodes2[CharCodes2.LOWER_A=97]="LOWER_A",CharCodes2[CharCodes2.LOWER_F=102]="LOWER_F",CharCodes2[CharCodes2.LOWER_X=120]="LOWER_X",CharCodes2[CharCodes2.LOWER_Z=122]="LOWER_Z",CharCodes2[CharCodes2.UPPER_A=65]="UPPER_A",CharCodes2[CharCodes2.UPPER_F=70]="UPPER_F",CharCodes2[CharCodes2.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(BinTrieFlags2){BinTrieFlags2[BinTrieFlags2.VALUE_LENGTH=49152]="VALUE_LENGTH",BinTrieFlags2[BinTrieFlags2.BRANCH_LENGTH=16256]="BRANCH_LENGTH",BinTrieFlags2[BinTrieFlags2.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(code){return code>=CharCodes.ZERO&&code<=CharCodes.NINE}function isHexadecimalCharacter(code){return code>=CharCodes.UPPER_A&&code<=CharCodes.UPPER_F||code>=CharCodes.LOWER_A&&code<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(code){return code>=CharCodes.UPPER_A&&code<=CharCodes.UPPER_Z||code>=CharCodes.LOWER_A&&code<=CharCodes.LOWER_Z||isNumber(code)}function isEntityInAttributeInvalidEnd(code){return code===CharCodes.EQUALS||isAsciiAlphaNumeric(code)}var EntityDecoderState;(function(EntityDecoderState2){EntityDecoderState2[EntityDecoderState2.EntityStart=0]="EntityStart",EntityDecoderState2[EntityDecoderState2.NumericStart=1]="NumericStart",EntityDecoderState2[EntityDecoderState2.NumericDecimal=2]="NumericDecimal",EntityDecoderState2[EntityDecoderState2.NumericHex=3]="NumericHex",EntityDecoderState2[EntityDecoderState2.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(DecodingMode2){DecodingMode2[DecodingMode2.Legacy=0]="Legacy",DecodingMode2[DecodingMode2.Strict=1]="Strict",DecodingMode2[DecodingMode2.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(decodeTree,emitCodePoint,errors2){this.decodeTree=decodeTree,this.emitCodePoint=emitCodePoint,this.errors=errors2,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(decodeMode){this.decodeMode=decodeMode,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(str,offset){switch(this.state){case EntityDecoderState.EntityStart:return str.charCodeAt(offset)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(str,offset+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(str,offset));case EntityDecoderState.NumericStart:return this.stateNumericStart(str,offset);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(str,offset);case EntityDecoderState.NumericHex:return this.stateNumericHex(str,offset);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(str,offset)}}stateNumericStart(str,offset){return offset>=str.length?-1:(str.charCodeAt(offset)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(str,offset+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(str,offset))}addToNumericResult(str,start,end,base2){if(start!==end){const digitCount=end-start;this.result=this.result*Math.pow(base2,digitCount)+parseInt(str.substr(start,digitCount),base2),this.consumed+=digitCount}}stateNumericHex(str,offset){const startIdx=offset;for(;offset<str.length;){const char=str.charCodeAt(offset);if(isNumber(char)||isHexadecimalCharacter(char))offset+=1;else return this.addToNumericResult(str,startIdx,offset,16),this.emitNumericEntity(char,3)}return this.addToNumericResult(str,startIdx,offset,16),-1}stateNumericDecimal(str,offset){const startIdx=offset;for(;offset<str.length;){const char=str.charCodeAt(offset);if(isNumber(char))offset+=1;else return this.addToNumericResult(str,startIdx,offset,10),this.emitNumericEntity(char,2)}return this.addToNumericResult(str,startIdx,offset,10),-1}emitNumericEntity(lastCp,expectedLength){var _a4;if(this.consumed<=expectedLength)return(_a4=this.errors)===null||_a4===void 0||_a4.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(lastCp===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(lastCp!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(str,offset){const{decodeTree}=this;let current=decodeTree[this.treeIndex],valueLength=(current&BinTrieFlags.VALUE_LENGTH)>>14;for(;offset<str.length;offset++,this.excess++){const char=str.charCodeAt(offset);if(this.treeIndex=determineBranch(decodeTree,current,this.treeIndex+Math.max(1,valueLength),char),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(valueLength===0||isEntityInAttributeInvalidEnd(char))?0:this.emitNotTerminatedNamedEntity();if(current=decodeTree[this.treeIndex],valueLength=(current&BinTrieFlags.VALUE_LENGTH)>>14,valueLength!==0){if(char===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,valueLength,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var _a4;const{result,decodeTree}=this,valueLength=(decodeTree[result]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(result,valueLength,this.consumed),(_a4=this.errors)===null||_a4===void 0||_a4.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(result,valueLength,consumed){const{decodeTree}=this;return this.emitCodePoint(valueLength===1?decodeTree[result]&~BinTrieFlags.VALUE_LENGTH:decodeTree[result+1],consumed),valueLength===3&&this.emitCodePoint(decodeTree[result+2],consumed),consumed}end(){var _a4;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(_a4=this.errors)===null||_a4===void 0||_a4.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(decodeTree){let ret="";const decoder=new EntityDecoder(decodeTree,str=>ret+=fromCodePoint$2(str));return function(str,decodeMode){let lastIndex=0,offset=0;for(;(offset=str.indexOf("&",offset))>=0;){ret+=str.slice(lastIndex,offset),decoder.startEntity(decodeMode);const len=decoder.write(str,offset+1);if(len<0){lastIndex=offset+decoder.end();break}lastIndex=offset+len,offset=len===0?lastIndex+1:lastIndex}const result=ret+str.slice(lastIndex);return ret="",result}}function determineBranch(decodeTree,current,nodeIdx,char){const branchCount=(current&BinTrieFlags.BRANCH_LENGTH)>>7,jumpOffset=current&BinTrieFlags.JUMP_TABLE;if(branchCount===0)return jumpOffset!==0&&char===jumpOffset?nodeIdx:-1;if(jumpOffset){const value=char-jumpOffset;return value<0||value>=branchCount?-1:decodeTree[nodeIdx+value]-1}let lo2=nodeIdx,hi=lo2+branchCount-1;for(;lo2<=hi;){const mid=lo2+hi>>>1,midVal=decodeTree[mid];if(midVal<char)lo2=mid+1;else if(midVal>char)hi=mid-1;else return decodeTree[mid+branchCount]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(str,mode=DecodingMode.Legacy){return htmlDecoder(str,mode)}function _class$1(obj){return Object.prototype.toString.call(obj)}function isString$1(obj){return _class$1(obj)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(object,key){return _hasOwnProperty.call(object,key)}function assign$1(obj){return Array.prototype.slice.call(arguments,1).forEach(function(source){if(source){if(typeof source!="object")throw new TypeError(source+"must be object");Object.keys(source).forEach(function(key){obj[key]=source[key]})}}),obj}function arrayReplaceAt(src,pos,newElements){return[].concat(src.slice(0,pos),newElements,src.slice(pos+1))}function isValidEntityCode(c2){return!(c2>=55296&&c2<=57343||c2>=64976&&c2<=65007||(c2&65535)===65535||(c2&65535)===65534||c2>=0&&c2<=8||c2===11||c2>=14&&c2<=31||c2>=127&&c2<=159||c2>1114111)}function fromCodePoint$1(c2){if(c2>65535){c2-=65536;const surrogate1=55296+(c2>>10),surrogate2=56320+(c2&1023);return String.fromCharCode(surrogate1,surrogate2)}return String.fromCharCode(c2)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(match2,name2){if(name2.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(name2)){const code=name2[1].toLowerCase()==="x"?parseInt(name2.slice(2),16):parseInt(name2.slice(1),10);return isValidEntityCode(code)?fromCodePoint$1(code):match2}const decoded=decodeHTML(match2);return decoded!==match2?decoded:match2}function unescapeMd(str){return str.indexOf("\\")<0?str:str.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(str){return str.indexOf("\\")<0&&str.indexOf("&")<0?str:str.replace(UNESCAPE_ALL_RE,function(match2,escaped,entity2){return escaped||replaceEntityPattern(match2,entity2)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(ch){return HTML_REPLACEMENTS[ch]}function escapeHtml(str){return HTML_ESCAPE_TEST_RE.test(str)?str.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):str}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(str){return str.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(code){switch(code){case 9:case 32:return!0}return!1}function isWhiteSpace(code){if(code>=8192&&code<=8202)return!0;switch(code){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(ch){return P$1.test(ch)||regex.test(ch)}function isMdAsciiPunct(ch){switch(ch){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(str){return str=str.trim().replace(/\s+/g," "),"·∫û".toLowerCase()==="·πæ"&&(str=str.replace(/·∫û/g,"√ü")),str.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint:fromCodePoint$1,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel$1(state,start,disableNested){let level,found,marker,prevPos;const max=state.posMax,oldPos=state.pos;for(state.pos=start+1,level=1;state.pos<max;){if(marker=state.src.charCodeAt(state.pos),marker===93&&(level--,level===0)){found=!0;break}if(prevPos=state.pos,state.md.inline.skipToken(state),marker===91){if(prevPos===state.pos-1)level++;else if(disableNested)return state.pos=oldPos,-1}}let labelEnd=-1;return found&&(labelEnd=state.pos),state.pos=oldPos,labelEnd}function parseLinkDestination(str,start,max){let code,pos=start;const result={ok:!1,pos:0,str:""};if(str.charCodeAt(pos)===60){for(pos++;pos<max;){if(code=str.charCodeAt(pos),code===10||code===60)return result;if(code===62)return result.pos=pos+1,result.str=unescapeAll(str.slice(start+1,pos)),result.ok=!0,result;if(code===92&&pos+1<max){pos+=2;continue}pos++}return result}let level=0;for(;pos<max&&(code=str.charCodeAt(pos),!(code===32||code<32||code===127));){if(code===92&&pos+1<max){if(str.charCodeAt(pos+1)===32)break;pos+=2;continue}if(code===40&&(level++,level>32))return result;if(code===41){if(level===0)break;level--}pos++}return start===pos||level!==0||(result.str=unescapeAll(str.slice(start,pos)),result.pos=pos,result.ok=!0),result}function parseLinkTitle$1(str,start,max,prev_state){let code,pos=start;const state={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(prev_state)state.str=prev_state.str,state.marker=prev_state.marker;else{if(pos>=max)return state;let marker=str.charCodeAt(pos);if(marker!==34&&marker!==39&&marker!==40)return state;start++,pos++,marker===40&&(marker=41),state.marker=marker}for(;pos<max;){if(code=str.charCodeAt(pos),code===state.marker)return state.pos=pos+1,state.str+=unescapeAll(str.slice(start,pos)),state.ok=!0,state;if(code===40&&state.marker===41)return state;code===92&&pos+1<max&&pos++,pos++}return state.can_continue=!0,state.str+=unescapeAll(str.slice(start,pos)),state}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel:parseLinkLabel$1,parseLinkTitle:parseLinkTitle$1},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(tokens,idx,options,env,slf){const token=tokens[idx];return"<code"+slf.renderAttrs(token)+">"+escapeHtml(token.content)+"</code>"};default_rules.code_block=function(tokens,idx,options,env,slf){const token=tokens[idx];return"<pre"+slf.renderAttrs(token)+"><code>"+escapeHtml(tokens[idx].content)+`</code></pre>
`};default_rules.fence=function(tokens,idx,options,env,slf){const token=tokens[idx],info=token.info?unescapeAll(token.info).trim():"";let langName="",langAttrs="";if(info){const arr=info.split(/(\s+)/g);langName=arr[0],langAttrs=arr.slice(2).join("")}let highlighted;if(options.highlight?highlighted=options.highlight(token.content,langName,langAttrs)||escapeHtml(token.content):highlighted=escapeHtml(token.content),highlighted.indexOf("<pre")===0)return highlighted+`
`;if(info){const i=token.attrIndex("class"),tmpAttrs=token.attrs?token.attrs.slice():[];i<0?tmpAttrs.push(["class",options.langPrefix+langName]):(tmpAttrs[i]=tmpAttrs[i].slice(),tmpAttrs[i][1]+=" "+options.langPrefix+langName);const tmpToken={attrs:tmpAttrs};return`<pre><code${slf.renderAttrs(tmpToken)}>${highlighted}</code></pre>
`}return`<pre><code${slf.renderAttrs(token)}>${highlighted}</code></pre>
`};default_rules.image=function(tokens,idx,options,env,slf){const token=tokens[idx];return token.attrs[token.attrIndex("alt")][1]=slf.renderInlineAsText(token.children,options,env),slf.renderToken(tokens,idx,options)};default_rules.hardbreak=function(tokens,idx,options){return options.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(tokens,idx,options){return options.breaks?options.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(tokens,idx){return escapeHtml(tokens[idx].content)};default_rules.html_block=function(tokens,idx){return tokens[idx].content};default_rules.html_inline=function(tokens,idx){return tokens[idx].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function(token){let i,l2,result;if(!token.attrs)return"";for(result="",i=0,l2=token.attrs.length;i<l2;i++)result+=" "+escapeHtml(token.attrs[i][0])+'="'+escapeHtml(token.attrs[i][1])+'"';return result};Renderer.prototype.renderToken=function(tokens,idx,options){const token=tokens[idx];let result="";if(token.hidden)return"";token.block&&token.nesting!==-1&&idx&&tokens[idx-1].hidden&&(result+=`
`),result+=(token.nesting===-1?"</":"<")+token.tag,result+=this.renderAttrs(token),token.nesting===0&&options.xhtmlOut&&(result+=" /");let needLf=!1;if(token.block&&(needLf=!0,token.nesting===1&&idx+1<tokens.length)){const nextToken=tokens[idx+1];(nextToken.type==="inline"||nextToken.hidden||nextToken.nesting===-1&&nextToken.tag===token.tag)&&(needLf=!1)}return result+=needLf?`>
`:">",result};Renderer.prototype.renderInline=function(tokens,options,env){let result="";const rules=this.rules;for(let i=0,len=tokens.length;i<len;i++){const type=tokens[i].type;typeof rules[type]<"u"?result+=rules[type](tokens,i,options,env,this):result+=this.renderToken(tokens,i,options)}return result};Renderer.prototype.renderInlineAsText=function(tokens,options,env){let result="";for(let i=0,len=tokens.length;i<len;i++)switch(tokens[i].type){case"text":result+=tokens[i].content;break;case"image":result+=this.renderInlineAsText(tokens[i].children,options,env);break;case"html_inline":case"html_block":result+=tokens[i].content;break;case"softbreak":case"hardbreak":result+=`
`;break}return result};Renderer.prototype.render=function(tokens,options,env){let result="";const rules=this.rules;for(let i=0,len=tokens.length;i<len;i++){const type=tokens[i].type;type==="inline"?result+=this.renderInline(tokens[i].children,options,env):typeof rules[type]<"u"?result+=rules[type](tokens,i,options,env,this):result+=this.renderToken(tokens,i,options,env)}return result};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(name2){for(let i=0;i<this.__rules__.length;i++)if(this.__rules__[i].name===name2)return i;return-1};Ruler.prototype.__compile__=function(){const self2=this,chains=[""];self2.__rules__.forEach(function(rule){rule.enabled&&rule.alt.forEach(function(altName){chains.indexOf(altName)<0&&chains.push(altName)})}),self2.__cache__={},chains.forEach(function(chain){self2.__cache__[chain]=[],self2.__rules__.forEach(function(rule){rule.enabled&&(chain&&rule.alt.indexOf(chain)<0||self2.__cache__[chain].push(rule.fn))})})};Ruler.prototype.at=function(name2,fn,options){const index2=this.__find__(name2),opt=options||{};if(index2===-1)throw new Error("Parser rule not found: "+name2);this.__rules__[index2].fn=fn,this.__rules__[index2].alt=opt.alt||[],this.__cache__=null};Ruler.prototype.before=function(beforeName,ruleName,fn,options){const index2=this.__find__(beforeName),opt=options||{};if(index2===-1)throw new Error("Parser rule not found: "+beforeName);this.__rules__.splice(index2,0,{name:ruleName,enabled:!0,fn,alt:opt.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(afterName,ruleName,fn,options){const index2=this.__find__(afterName),opt=options||{};if(index2===-1)throw new Error("Parser rule not found: "+afterName);this.__rules__.splice(index2+1,0,{name:ruleName,enabled:!0,fn,alt:opt.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(ruleName,fn,options){const opt=options||{};this.__rules__.push({name:ruleName,enabled:!0,fn,alt:opt.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(list2,ignoreInvalid){Array.isArray(list2)||(list2=[list2]);const result=[];return list2.forEach(function(name2){const idx=this.__find__(name2);if(idx<0){if(ignoreInvalid)return;throw new Error("Rules manager: invalid rule name "+name2)}this.__rules__[idx].enabled=!0,result.push(name2)},this),this.__cache__=null,result};Ruler.prototype.enableOnly=function(list2,ignoreInvalid){Array.isArray(list2)||(list2=[list2]),this.__rules__.forEach(function(rule){rule.enabled=!1}),this.enable(list2,ignoreInvalid)};Ruler.prototype.disable=function(list2,ignoreInvalid){Array.isArray(list2)||(list2=[list2]);const result=[];return list2.forEach(function(name2){const idx=this.__find__(name2);if(idx<0){if(ignoreInvalid)return;throw new Error("Rules manager: invalid rule name "+name2)}this.__rules__[idx].enabled=!1,result.push(name2)},this),this.__cache__=null,result};Ruler.prototype.getRules=function(chainName){return this.__cache__===null&&this.__compile__(),this.__cache__[chainName]||[]};function Token(type,tag,nesting){this.type=type,this.tag=tag,this.attrs=null,this.map=null,this.nesting=nesting,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function(name2){if(!this.attrs)return-1;const attrs=this.attrs;for(let i=0,len=attrs.length;i<len;i++)if(attrs[i][0]===name2)return i;return-1};Token.prototype.attrPush=function(attrData){this.attrs?this.attrs.push(attrData):this.attrs=[attrData]};Token.prototype.attrSet=function(name2,value){const idx=this.attrIndex(name2),attrData=[name2,value];idx<0?this.attrPush(attrData):this.attrs[idx]=attrData};Token.prototype.attrGet=function(name2){const idx=this.attrIndex(name2);let value=null;return idx>=0&&(value=this.attrs[idx][1]),value};Token.prototype.attrJoin=function(name2,value){const idx=this.attrIndex(name2);idx<0?this.attrPush([name2,value]):this.attrs[idx][1]=this.attrs[idx][1]+" "+value};function StateCore(src,md,env){this.src=src,this.env=env,this.tokens=[],this.inlineMode=!1,this.md=md}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(state){let str;str=state.src.replace(NEWLINES_RE,`
`),str=str.replace(NULL_RE,"ÔøΩ"),state.src=str}function block(state){let token;state.inlineMode?(token=new state.Token("inline","",0),token.content=state.src,token.map=[0,1],token.children=[],state.tokens.push(token)):state.md.block.parse(state.src,state.md,state.env,state.tokens)}function inline(state){const tokens=state.tokens;for(let i=0,l2=tokens.length;i<l2;i++){const tok=tokens[i];tok.type==="inline"&&state.md.inline.parse(tok.content,state.md,state.env,tok.children)}}function isLinkOpen$1(str){return/^<a[>\s]/i.test(str)}function isLinkClose$1(str){return/^<\/a\s*>/i.test(str)}function linkify$1(state){const blockTokens=state.tokens;if(state.md.options.linkify)for(let j2=0,l2=blockTokens.length;j2<l2;j2++){if(blockTokens[j2].type!=="inline"||!state.md.linkify.pretest(blockTokens[j2].content))continue;let tokens=blockTokens[j2].children,htmlLinkLevel=0;for(let i=tokens.length-1;i>=0;i--){const currentToken=tokens[i];if(currentToken.type==="link_close"){for(i--;tokens[i].level!==currentToken.level&&tokens[i].type!=="link_open";)i--;continue}if(currentToken.type==="html_inline"&&(isLinkOpen$1(currentToken.content)&&htmlLinkLevel>0&&htmlLinkLevel--,isLinkClose$1(currentToken.content)&&htmlLinkLevel++),!(htmlLinkLevel>0)&&currentToken.type==="text"&&state.md.linkify.test(currentToken.content)){const text2=currentToken.content;let links=state.md.linkify.match(text2);const nodes=[];let level=currentToken.level,lastPos=0;links.length>0&&links[0].index===0&&i>0&&tokens[i-1].type==="text_special"&&(links=links.slice(1));for(let ln=0;ln<links.length;ln++){const url=links[ln].url,fullUrl=state.md.normalizeLink(url);if(!state.md.validateLink(fullUrl))continue;let urlText=links[ln].text;links[ln].schema?links[ln].schema==="mailto:"&&!/^mailto:/i.test(urlText)?urlText=state.md.normalizeLinkText("mailto:"+urlText).replace(/^mailto:/,""):urlText=state.md.normalizeLinkText(urlText):urlText=state.md.normalizeLinkText("http://"+urlText).replace(/^http:\/\//,"");const pos=links[ln].index;if(pos>lastPos){const token=new state.Token("text","",0);token.content=text2.slice(lastPos,pos),token.level=level,nodes.push(token)}const token_o=new state.Token("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.level=level++,token_o.markup="linkify",token_o.info="auto",nodes.push(token_o);const token_t=new state.Token("text","",0);token_t.content=urlText,token_t.level=level,nodes.push(token_t);const token_c=new state.Token("link_close","a",-1);token_c.level=--level,token_c.markup="linkify",token_c.info="auto",nodes.push(token_c),lastPos=links[ln].lastIndex}if(lastPos<text2.length){const token=new state.Token("text","",0);token.content=text2.slice(lastPos),token.level=level,nodes.push(token)}blockTokens[j2].children=tokens=arrayReplaceAt(tokens,i,nodes)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"¬©",r:"¬Æ",tm:"‚Ñ¢"};function replaceFn(match2,name2){return SCOPED_ABBR[name2.toLowerCase()]}function replace_scoped(inlineTokens){let inside_autolink=0;for(let i=inlineTokens.length-1;i>=0;i--){const token=inlineTokens[i];token.type==="text"&&!inside_autolink&&(token.content=token.content.replace(SCOPED_ABBR_RE,replaceFn)),token.type==="link_open"&&token.info==="auto"&&inside_autolink--,token.type==="link_close"&&token.info==="auto"&&inside_autolink++}}function replace_rare(inlineTokens){let inside_autolink=0;for(let i=inlineTokens.length-1;i>=0;i--){const token=inlineTokens[i];token.type==="text"&&!inside_autolink&&RARE_RE.test(token.content)&&(token.content=token.content.replace(/\+-/g,"¬±").replace(/\.{2,}/g,"‚Ä¶").replace(/([?!])‚Ä¶/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1‚Äî").replace(/(^|\s)--(?=\s|$)/mg,"$1‚Äì").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1‚Äì")),token.type==="link_open"&&token.info==="auto"&&inside_autolink--,token.type==="link_close"&&token.info==="auto"&&inside_autolink++}}function replace$1(state){let blkIdx;if(state.md.options.typographer)for(blkIdx=state.tokens.length-1;blkIdx>=0;blkIdx--)state.tokens[blkIdx].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)&&replace_scoped(state.tokens[blkIdx].children),RARE_RE.test(state.tokens[blkIdx].content)&&replace_rare(state.tokens[blkIdx].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="‚Äô";function replaceAt(str,index2,ch){return str.slice(0,index2)+ch+str.slice(index2+1)}function process_inlines(tokens,state){let j2;const stack=[];for(let i=0;i<tokens.length;i++){const token=tokens[i],thisLevel=tokens[i].level;for(j2=stack.length-1;j2>=0&&!(stack[j2].level<=thisLevel);j2--);if(stack.length=j2+1,token.type!=="text")continue;let text2=token.content,pos=0,max=text2.length;OUTER:for(;pos<max;){QUOTE_RE.lastIndex=pos;const t2=QUOTE_RE.exec(text2);if(!t2)break;let canOpen=!0,canClose=!0;pos=t2.index+1;const isSingle=t2[0]==="'";let lastChar=32;if(t2.index-1>=0)lastChar=text2.charCodeAt(t2.index-1);else for(j2=i-1;j2>=0&&!(tokens[j2].type==="softbreak"||tokens[j2].type==="hardbreak");j2--)if(tokens[j2].content){lastChar=tokens[j2].content.charCodeAt(tokens[j2].content.length-1);break}let nextChar=32;if(pos<max)nextChar=text2.charCodeAt(pos);else for(j2=i+1;j2<tokens.length&&!(tokens[j2].type==="softbreak"||tokens[j2].type==="hardbreak");j2++)if(tokens[j2].content){nextChar=tokens[j2].content.charCodeAt(0);break}const isLastPunctChar=isMdAsciiPunct(lastChar)||isPunctChar(String.fromCharCode(lastChar)),isNextPunctChar=isMdAsciiPunct(nextChar)||isPunctChar(String.fromCharCode(nextChar)),isLastWhiteSpace=isWhiteSpace(lastChar),isNextWhiteSpace=isWhiteSpace(nextChar);if(isNextWhiteSpace?canOpen=!1:isNextPunctChar&&(isLastWhiteSpace||isLastPunctChar||(canOpen=!1)),isLastWhiteSpace?canClose=!1:isLastPunctChar&&(isNextWhiteSpace||isNextPunctChar||(canClose=!1)),nextChar===34&&t2[0]==='"'&&lastChar>=48&&lastChar<=57&&(canClose=canOpen=!1),canOpen&&canClose&&(canOpen=isLastPunctChar,canClose=isNextPunctChar),!canOpen&&!canClose){isSingle&&(token.content=replaceAt(token.content,t2.index,APOSTROPHE));continue}if(canClose)for(j2=stack.length-1;j2>=0;j2--){let item=stack[j2];if(stack[j2].level<thisLevel)break;if(item.single===isSingle&&stack[j2].level===thisLevel){item=stack[j2];let openQuote,closeQuote;isSingle?(openQuote=state.md.options.quotes[2],closeQuote=state.md.options.quotes[3]):(openQuote=state.md.options.quotes[0],closeQuote=state.md.options.quotes[1]),token.content=replaceAt(token.content,t2.index,closeQuote),tokens[item.token].content=replaceAt(tokens[item.token].content,item.pos,openQuote),pos+=closeQuote.length-1,item.token===i&&(pos+=openQuote.length-1),text2=token.content,max=text2.length,stack.length=j2;continue OUTER}}canOpen?stack.push({token:i,pos:t2.index,single:isSingle,level:thisLevel}):canClose&&isSingle&&(token.content=replaceAt(token.content,t2.index,APOSTROPHE))}}}function smartquotes(state){if(state.md.options.typographer)for(let blkIdx=state.tokens.length-1;blkIdx>=0;blkIdx--)state.tokens[blkIdx].type!=="inline"||!QUOTE_TEST_RE.test(state.tokens[blkIdx].content)||process_inlines(state.tokens[blkIdx].children,state)}function text_join(state){let curr,last;const blockTokens=state.tokens,l2=blockTokens.length;for(let j2=0;j2<l2;j2++){if(blockTokens[j2].type!=="inline")continue;const tokens=blockTokens[j2].children,max=tokens.length;for(curr=0;curr<max;curr++)tokens[curr].type==="text_special"&&(tokens[curr].type="text");for(curr=last=0;curr<max;curr++)tokens[curr].type==="text"&&curr+1<max&&tokens[curr+1].type==="text"?tokens[curr+1].content=tokens[curr].content+tokens[curr+1].content:(curr!==last&&(tokens[last]=tokens[curr]),last++);curr!==last&&(tokens.length=last)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace$1],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let i=0;i<_rules$2.length;i++)this.ruler.push(_rules$2[i][0],_rules$2[i][1])}Core.prototype.process=function(state){const rules=this.ruler.getRules("");for(let i=0,l2=rules.length;i<l2;i++)rules[i](state)};Core.prototype.State=StateCore;function StateBlock(src,md,env,tokens){this.src=src,this.md=md,this.env=env,this.tokens=tokens,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s2=this.src;for(let start=0,pos=0,indent=0,offset=0,len=s2.length,indent_found=!1;pos<len;pos++){const ch=s2.charCodeAt(pos);if(!indent_found)if(isSpace(ch)){indent++,ch===9?offset+=4-offset%4:offset++;continue}else indent_found=!0;(ch===10||pos===len-1)&&(ch!==10&&pos++,this.bMarks.push(start),this.eMarks.push(pos),this.tShift.push(indent),this.sCount.push(offset),this.bsCount.push(0),indent_found=!1,indent=0,offset=0,start=pos+1)}this.bMarks.push(s2.length),this.eMarks.push(s2.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(type,tag,nesting){const token=new Token(type,tag,nesting);return token.block=!0,nesting<0&&this.level--,token.level=this.level,nesting>0&&this.level++,this.tokens.push(token),token};StateBlock.prototype.isEmpty=function(line){return this.bMarks[line]+this.tShift[line]>=this.eMarks[line]};StateBlock.prototype.skipEmptyLines=function(from){for(let max=this.lineMax;from<max&&!(this.bMarks[from]+this.tShift[from]<this.eMarks[from]);from++);return from};StateBlock.prototype.skipSpaces=function(pos){for(let max=this.src.length;pos<max;pos++){const ch=this.src.charCodeAt(pos);if(!isSpace(ch))break}return pos};StateBlock.prototype.skipSpacesBack=function(pos,min){if(pos<=min)return pos;for(;pos>min;)if(!isSpace(this.src.charCodeAt(--pos)))return pos+1;return pos};StateBlock.prototype.skipChars=function(pos,code){for(let max=this.src.length;pos<max&&this.src.charCodeAt(pos)===code;pos++);return pos};StateBlock.prototype.skipCharsBack=function(pos,code,min){if(pos<=min)return pos;for(;pos>min;)if(code!==this.src.charCodeAt(--pos))return pos+1;return pos};StateBlock.prototype.getLines=function(begin,end,indent,keepLastLF){if(begin>=end)return"";const queue=new Array(end-begin);for(let i=0,line=begin;line<end;line++,i++){let lineIndent=0;const lineStart=this.bMarks[line];let first=lineStart,last;for(line+1<end||keepLastLF?last=this.eMarks[line]+1:last=this.eMarks[line];first<last&&lineIndent<indent;){const ch=this.src.charCodeAt(first);if(isSpace(ch))ch===9?lineIndent+=4-(lineIndent+this.bsCount[line])%4:lineIndent++;else if(first-lineStart<this.tShift[line])lineIndent++;else break;first++}lineIndent>indent?queue[i]=new Array(lineIndent-indent+1).join(" ")+this.src.slice(first,last):queue[i]=this.src.slice(first,last)}return queue.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(state,line){const pos=state.bMarks[line]+state.tShift[line],max=state.eMarks[line];return state.src.slice(pos,max)}function escapedSplit(str){const result=[],max=str.length;let pos=0,ch=str.charCodeAt(pos),isEscaped=!1,lastPos=0,current="";for(;pos<max;)ch===124&&(isEscaped?(current+=str.substring(lastPos,pos-1),lastPos=pos):(result.push(current+str.substring(lastPos,pos)),current="",lastPos=pos+1)),isEscaped=ch===92,pos++,ch=str.charCodeAt(pos);return result.push(current+str.substring(lastPos)),result}function table(state,startLine,endLine,silent){if(startLine+2>endLine)return!1;let nextLine=startLine+1;if(state.sCount[nextLine]<state.blkIndent||state.sCount[nextLine]-state.blkIndent>=4)return!1;let pos=state.bMarks[nextLine]+state.tShift[nextLine];if(pos>=state.eMarks[nextLine])return!1;const firstCh=state.src.charCodeAt(pos++);if(firstCh!==124&&firstCh!==45&&firstCh!==58||pos>=state.eMarks[nextLine])return!1;const secondCh=state.src.charCodeAt(pos++);if(secondCh!==124&&secondCh!==45&&secondCh!==58&&!isSpace(secondCh)||firstCh===45&&isSpace(secondCh))return!1;for(;pos<state.eMarks[nextLine];){const ch=state.src.charCodeAt(pos);if(ch!==124&&ch!==45&&ch!==58&&!isSpace(ch))return!1;pos++}let lineText=getLine(state,startLine+1),columns=lineText.split("|");const aligns=[];for(let i=0;i<columns.length;i++){const t2=columns[i].trim();if(!t2){if(i===0||i===columns.length-1)continue;return!1}if(!/^:?-+:?$/.test(t2))return!1;t2.charCodeAt(t2.length-1)===58?aligns.push(t2.charCodeAt(0)===58?"center":"right"):t2.charCodeAt(0)===58?aligns.push("left"):aligns.push("")}if(lineText=getLine(state,startLine).trim(),lineText.indexOf("|")===-1||state.sCount[startLine]-state.blkIndent>=4)return!1;columns=escapedSplit(lineText),columns.length&&columns[0]===""&&columns.shift(),columns.length&&columns[columns.length-1]===""&&columns.pop();const columnCount=columns.length;if(columnCount===0||columnCount!==aligns.length)return!1;if(silent)return!0;const oldParentType=state.parentType;state.parentType="table";const terminatorRules=state.md.block.ruler.getRules("blockquote"),token_to=state.push("table_open","table",1),tableLines=[startLine,0];token_to.map=tableLines;const token_tho=state.push("thead_open","thead",1);token_tho.map=[startLine,startLine+1];const token_htro=state.push("tr_open","tr",1);token_htro.map=[startLine,startLine+1];for(let i=0;i<columns.length;i++){const token_ho=state.push("th_open","th",1);aligns[i]&&(token_ho.attrs=[["style","text-align:"+aligns[i]]]);const token_il=state.push("inline","",0);token_il.content=columns[i].trim(),token_il.children=[],state.push("th_close","th",-1)}state.push("tr_close","tr",-1),state.push("thead_close","thead",-1);let tbodyLines,autocompletedCells=0;for(nextLine=startLine+2;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++){let terminate=!1;for(let i=0,l2=terminatorRules.length;i<l2;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate||(lineText=getLine(state,nextLine).trim(),!lineText)||state.sCount[nextLine]-state.blkIndent>=4||(columns=escapedSplit(lineText),columns.length&&columns[0]===""&&columns.shift(),columns.length&&columns[columns.length-1]===""&&columns.pop(),autocompletedCells+=columnCount-columns.length,autocompletedCells>MAX_AUTOCOMPLETED_CELLS))break;if(nextLine===startLine+2){const token_tbo=state.push("tbody_open","tbody",1);token_tbo.map=tbodyLines=[startLine+2,0]}const token_tro=state.push("tr_open","tr",1);token_tro.map=[nextLine,nextLine+1];for(let i=0;i<columnCount;i++){const token_tdo=state.push("td_open","td",1);aligns[i]&&(token_tdo.attrs=[["style","text-align:"+aligns[i]]]);const token_il=state.push("inline","",0);token_il.content=columns[i]?columns[i].trim():"",token_il.children=[],state.push("td_close","td",-1)}state.push("tr_close","tr",-1)}return tbodyLines&&(state.push("tbody_close","tbody",-1),tbodyLines[1]=nextLine),state.push("table_close","table",-1),tableLines[1]=nextLine,state.parentType=oldParentType,state.line=nextLine,!0}function code$1(state,startLine,endLine){if(state.sCount[startLine]-state.blkIndent<4)return!1;let nextLine=startLine+1,last=nextLine;for(;nextLine<endLine;){if(state.isEmpty(nextLine)){nextLine++;continue}if(state.sCount[nextLine]-state.blkIndent>=4){nextLine++,last=nextLine;continue}break}state.line=last;const token=state.push("code_block","code",0);return token.content=state.getLines(startLine,last,4+state.blkIndent,!1)+`
`,token.map=[startLine,state.line],!0}function fence(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4||pos+3>max)return!1;const marker=state.src.charCodeAt(pos);if(marker!==126&&marker!==96)return!1;let mem=pos;pos=state.skipChars(pos,marker);let len=pos-mem;if(len<3)return!1;const markup=state.src.slice(mem,pos),params=state.src.slice(pos,max);if(marker===96&&params.indexOf(String.fromCharCode(marker))>=0)return!1;if(silent)return!0;let nextLine=startLine,haveEndMarker=!1;for(;nextLine++,!(nextLine>=endLine||(pos=mem=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],pos<max&&state.sCount[nextLine]<state.blkIndent));)if(state.src.charCodeAt(pos)===marker&&!(state.sCount[nextLine]-state.blkIndent>=4)&&(pos=state.skipChars(pos,marker),!(pos-mem<len)&&(pos=state.skipSpaces(pos),!(pos<max)))){haveEndMarker=!0;break}len=state.sCount[startLine],state.line=nextLine+(haveEndMarker?1:0);const token=state.push("fence","code",0);return token.info=params,token.content=state.getLines(startLine+1,nextLine,len,!0),token.markup=markup,token.map=[startLine,state.line],!0}function blockquote(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];const oldLineMax=state.lineMax;if(state.sCount[startLine]-state.blkIndent>=4||state.src.charCodeAt(pos)!==62)return!1;if(silent)return!0;const oldBMarks=[],oldBSCount=[],oldSCount=[],oldTShift=[],terminatorRules=state.md.block.ruler.getRules("blockquote"),oldParentType=state.parentType;state.parentType="blockquote";let lastLineEmpty=!1,nextLine;for(nextLine=startLine;nextLine<endLine;nextLine++){const isOutdented=state.sCount[nextLine]<state.blkIndent;if(pos=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],pos>=max)break;if(state.src.charCodeAt(pos++)===62&&!isOutdented){let initial=state.sCount[nextLine]+1,spaceAfterMarker,adjustTab;state.src.charCodeAt(pos)===32?(pos++,initial++,adjustTab=!1,spaceAfterMarker=!0):state.src.charCodeAt(pos)===9?(spaceAfterMarker=!0,(state.bsCount[nextLine]+initial)%4===3?(pos++,initial++,adjustTab=!1):adjustTab=!0):spaceAfterMarker=!1;let offset=initial;for(oldBMarks.push(state.bMarks[nextLine]),state.bMarks[nextLine]=pos;pos<max;){const ch=state.src.charCodeAt(pos);if(isSpace(ch))ch===9?offset+=4-(offset+state.bsCount[nextLine]+(adjustTab?1:0))%4:offset++;else break;pos++}lastLineEmpty=pos>=max,oldBSCount.push(state.bsCount[nextLine]),state.bsCount[nextLine]=state.sCount[nextLine]+1+(spaceAfterMarker?1:0),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=offset-initial,oldTShift.push(state.tShift[nextLine]),state.tShift[nextLine]=pos-state.bMarks[nextLine];continue}if(lastLineEmpty)break;let terminate=!1;for(let i=0,l2=terminatorRules.length;i<l2;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate){state.lineMax=nextLine,state.blkIndent!==0&&(oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]-=state.blkIndent);break}oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=-1}const oldIndent=state.blkIndent;state.blkIndent=0;const token_o=state.push("blockquote_open","blockquote",1);token_o.markup=">";const lines=[startLine,0];token_o.map=lines,state.md.block.tokenize(state,startLine,nextLine);const token_c=state.push("blockquote_close","blockquote",-1);token_c.markup=">",state.lineMax=oldLineMax,state.parentType=oldParentType,lines[1]=state.line;for(let i=0;i<oldTShift.length;i++)state.bMarks[i+startLine]=oldBMarks[i],state.tShift[i+startLine]=oldTShift[i],state.sCount[i+startLine]=oldSCount[i],state.bsCount[i+startLine]=oldBSCount[i];return state.blkIndent=oldIndent,!0}function hr(state,startLine,endLine,silent){const max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4)return!1;let pos=state.bMarks[startLine]+state.tShift[startLine];const marker=state.src.charCodeAt(pos++);if(marker!==42&&marker!==45&&marker!==95)return!1;let cnt=1;for(;pos<max;){const ch=state.src.charCodeAt(pos++);if(ch!==marker&&!isSpace(ch))return!1;ch===marker&&cnt++}if(cnt<3)return!1;if(silent)return!0;state.line=startLine+1;const token=state.push("hr","hr",0);return token.map=[startLine,state.line],token.markup=Array(cnt+1).join(String.fromCharCode(marker)),!0}function skipBulletListMarker(state,startLine){const max=state.eMarks[startLine];let pos=state.bMarks[startLine]+state.tShift[startLine];const marker=state.src.charCodeAt(pos++);if(marker!==42&&marker!==45&&marker!==43)return-1;if(pos<max){const ch=state.src.charCodeAt(pos);if(!isSpace(ch))return-1}return pos}function skipOrderedListMarker(state,startLine){const start=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];let pos=start;if(pos+1>=max)return-1;let ch=state.src.charCodeAt(pos++);if(ch<48||ch>57)return-1;for(;;){if(pos>=max)return-1;if(ch=state.src.charCodeAt(pos++),ch>=48&&ch<=57){if(pos-start>=10)return-1;continue}if(ch===41||ch===46)break;return-1}return pos<max&&(ch=state.src.charCodeAt(pos),!isSpace(ch))?-1:pos}function markTightParagraphs(state,idx){const level=state.level+2;for(let i=idx+2,l2=state.tokens.length-2;i<l2;i++)state.tokens[i].level===level&&state.tokens[i].type==="paragraph_open"&&(state.tokens[i+2].hidden=!0,state.tokens[i].hidden=!0,i+=2)}function list(state,startLine,endLine,silent){let max,pos,start,token,nextLine=startLine,tight=!0;if(state.sCount[nextLine]-state.blkIndent>=4||state.listIndent>=0&&state.sCount[nextLine]-state.listIndent>=4&&state.sCount[nextLine]<state.blkIndent)return!1;let isTerminatingParagraph=!1;silent&&state.parentType==="paragraph"&&state.sCount[nextLine]>=state.blkIndent&&(isTerminatingParagraph=!0);let isOrdered,markerValue,posAfterMarker;if((posAfterMarker=skipOrderedListMarker(state,nextLine))>=0){if(isOrdered=!0,start=state.bMarks[nextLine]+state.tShift[nextLine],markerValue=Number(state.src.slice(start,posAfterMarker-1)),isTerminatingParagraph&&markerValue!==1)return!1}else if((posAfterMarker=skipBulletListMarker(state,nextLine))>=0)isOrdered=!1;else return!1;if(isTerminatingParagraph&&state.skipSpaces(posAfterMarker)>=state.eMarks[nextLine])return!1;if(silent)return!0;const markerCharCode=state.src.charCodeAt(posAfterMarker-1),listTokIdx=state.tokens.length;isOrdered?(token=state.push("ordered_list_open","ol",1),markerValue!==1&&(token.attrs=[["start",markerValue]])):token=state.push("bullet_list_open","ul",1);const listLines=[nextLine,0];token.map=listLines,token.markup=String.fromCharCode(markerCharCode);let prevEmptyEnd=!1;const terminatorRules=state.md.block.ruler.getRules("list"),oldParentType=state.parentType;for(state.parentType="list";nextLine<endLine;){pos=posAfterMarker,max=state.eMarks[nextLine];const initial=state.sCount[nextLine]+posAfterMarker-(state.bMarks[nextLine]+state.tShift[nextLine]);let offset=initial;for(;pos<max;){const ch=state.src.charCodeAt(pos);if(ch===9)offset+=4-(offset+state.bsCount[nextLine])%4;else if(ch===32)offset++;else break;pos++}const contentStart=pos;let indentAfterMarker;contentStart>=max?indentAfterMarker=1:indentAfterMarker=offset-initial,indentAfterMarker>4&&(indentAfterMarker=1);const indent=initial+indentAfterMarker;token=state.push("list_item_open","li",1),token.markup=String.fromCharCode(markerCharCode);const itemLines=[nextLine,0];token.map=itemLines,isOrdered&&(token.info=state.src.slice(start,posAfterMarker-1));const oldTight=state.tight,oldTShift=state.tShift[nextLine],oldSCount=state.sCount[nextLine],oldListIndent=state.listIndent;if(state.listIndent=state.blkIndent,state.blkIndent=indent,state.tight=!0,state.tShift[nextLine]=contentStart-state.bMarks[nextLine],state.sCount[nextLine]=offset,contentStart>=max&&state.isEmpty(nextLine+1)?state.line=Math.min(state.line+2,endLine):state.md.block.tokenize(state,nextLine,endLine,!0),(!state.tight||prevEmptyEnd)&&(tight=!1),prevEmptyEnd=state.line-nextLine>1&&state.isEmpty(state.line-1),state.blkIndent=state.listIndent,state.listIndent=oldListIndent,state.tShift[nextLine]=oldTShift,state.sCount[nextLine]=oldSCount,state.tight=oldTight,token=state.push("list_item_close","li",-1),token.markup=String.fromCharCode(markerCharCode),nextLine=state.line,itemLines[1]=nextLine,nextLine>=endLine||state.sCount[nextLine]<state.blkIndent||state.sCount[nextLine]-state.blkIndent>=4)break;let terminate=!1;for(let i=0,l2=terminatorRules.length;i<l2;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break;if(isOrdered){if(posAfterMarker=skipOrderedListMarker(state,nextLine),posAfterMarker<0)break;start=state.bMarks[nextLine]+state.tShift[nextLine]}else if(posAfterMarker=skipBulletListMarker(state,nextLine),posAfterMarker<0)break;if(markerCharCode!==state.src.charCodeAt(posAfterMarker-1))break}return isOrdered?token=state.push("ordered_list_close","ol",-1):token=state.push("bullet_list_close","ul",-1),token.markup=String.fromCharCode(markerCharCode),listLines[1]=nextLine,state.line=nextLine,state.parentType=oldParentType,tight&&markTightParagraphs(state,listTokIdx),!0}function reference(state,startLine,_endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine],nextLine=startLine+1;if(state.sCount[startLine]-state.blkIndent>=4||state.src.charCodeAt(pos)!==91)return!1;function getNextLine(nextLine2){const endLine=state.lineMax;if(nextLine2>=endLine||state.isEmpty(nextLine2))return null;let isContinuation=!1;if(state.sCount[nextLine2]-state.blkIndent>3&&(isContinuation=!0),state.sCount[nextLine2]<0&&(isContinuation=!0),!isContinuation){const terminatorRules=state.md.block.ruler.getRules("reference"),oldParentType=state.parentType;state.parentType="reference";let terminate=!1;for(let i=0,l2=terminatorRules.length;i<l2;i++)if(terminatorRules[i](state,nextLine2,endLine,!0)){terminate=!0;break}if(state.parentType=oldParentType,terminate)return null}const pos2=state.bMarks[nextLine2]+state.tShift[nextLine2],max2=state.eMarks[nextLine2];return state.src.slice(pos2,max2+1)}let str=state.src.slice(pos,max+1);max=str.length;let labelEnd=-1;for(pos=1;pos<max;pos++){const ch=str.charCodeAt(pos);if(ch===91)return!1;if(ch===93){labelEnd=pos;break}else if(ch===10){const lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}else if(ch===92&&(pos++,pos<max&&str.charCodeAt(pos)===10)){const lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}}if(labelEnd<0||str.charCodeAt(labelEnd+1)!==58)return!1;for(pos=labelEnd+2;pos<max;pos++){const ch=str.charCodeAt(pos);if(ch===10){const lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}else if(!isSpace(ch))break}const destRes=state.md.helpers.parseLinkDestination(str,pos,max);if(!destRes.ok)return!1;const href=state.md.normalizeLink(destRes.str);if(!state.md.validateLink(href))return!1;pos=destRes.pos;const destEndPos=pos,destEndLineNo=nextLine,start=pos;for(;pos<max;pos++){const ch=str.charCodeAt(pos);if(ch===10){const lineContent=getNextLine(nextLine);lineContent!==null&&(str+=lineContent,max=str.length,nextLine++)}else if(!isSpace(ch))break}let titleRes=state.md.helpers.parseLinkTitle(str,pos,max);for(;titleRes.can_continue;){const lineContent=getNextLine(nextLine);if(lineContent===null)break;str+=lineContent,pos=max,max=str.length,nextLine++,titleRes=state.md.helpers.parseLinkTitle(str,pos,max,titleRes)}let title;for(pos<max&&start!==pos&&titleRes.ok?(title=titleRes.str,pos=titleRes.pos):(title="",pos=destEndPos,nextLine=destEndLineNo);pos<max;){const ch=str.charCodeAt(pos);if(!isSpace(ch))break;pos++}if(pos<max&&str.charCodeAt(pos)!==10&&title)for(title="",pos=destEndPos,nextLine=destEndLineNo;pos<max;){const ch=str.charCodeAt(pos);if(!isSpace(ch))break;pos++}if(pos<max&&str.charCodeAt(pos)!==10)return!1;const label=normalizeReference(str.slice(1,labelEnd));return label?(silent||(typeof state.env.references>"u"&&(state.env.references={}),typeof state.env.references[label]>"u"&&(state.env.references[label]={title,href}),state.line=nextLine),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment$1="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment$1+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4||!state.md.options.html||state.src.charCodeAt(pos)!==60)return!1;let lineText=state.src.slice(pos,max),i=0;for(;i<HTML_SEQUENCES.length&&!HTML_SEQUENCES[i][0].test(lineText);i++);if(i===HTML_SEQUENCES.length)return!1;if(silent)return HTML_SEQUENCES[i][2];let nextLine=startLine+1;if(!HTML_SEQUENCES[i][1].test(lineText)){for(;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++)if(pos=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],lineText=state.src.slice(pos,max),HTML_SEQUENCES[i][1].test(lineText)){lineText.length!==0&&nextLine++;break}}state.line=nextLine;const token=state.push("html_block","",0);return token.map=[startLine,nextLine],token.content=state.getLines(startLine,nextLine,state.blkIndent,!0),!0}function heading$1(state,startLine,endLine,silent){let pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4)return!1;let ch=state.src.charCodeAt(pos);if(ch!==35||pos>=max)return!1;let level=1;for(ch=state.src.charCodeAt(++pos);ch===35&&pos<max&&level<=6;)level++,ch=state.src.charCodeAt(++pos);if(level>6||pos<max&&!isSpace(ch))return!1;if(silent)return!0;max=state.skipSpacesBack(max,pos);const tmp=state.skipCharsBack(max,35,pos);tmp>pos&&isSpace(state.src.charCodeAt(tmp-1))&&(max=tmp),state.line=startLine+1;const token_o=state.push("heading_open","h"+String(level),1);token_o.markup="########".slice(0,level),token_o.map=[startLine,state.line];const token_i=state.push("inline","",0);token_i.content=state.src.slice(pos,max).trim(),token_i.map=[startLine,state.line],token_i.children=[];const token_c=state.push("heading_close","h"+String(level),-1);return token_c.markup="########".slice(0,level),!0}function lheading(state,startLine,endLine){const terminatorRules=state.md.block.ruler.getRules("paragraph");if(state.sCount[startLine]-state.blkIndent>=4)return!1;const oldParentType=state.parentType;state.parentType="paragraph";let level=0,marker,nextLine=startLine+1;for(;nextLine<endLine&&!state.isEmpty(nextLine);nextLine++){if(state.sCount[nextLine]-state.blkIndent>3)continue;if(state.sCount[nextLine]>=state.blkIndent){let pos=state.bMarks[nextLine]+state.tShift[nextLine];const max=state.eMarks[nextLine];if(pos<max&&(marker=state.src.charCodeAt(pos),(marker===45||marker===61)&&(pos=state.skipChars(pos,marker),pos=state.skipSpaces(pos),pos>=max))){level=marker===61?1:2;break}}if(state.sCount[nextLine]<0)continue;let terminate=!1;for(let i=0,l2=terminatorRules.length;i<l2;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break}if(!level)return!1;const content2=state.getLines(startLine,nextLine,state.blkIndent,!1).trim();state.line=nextLine+1;const token_o=state.push("heading_open","h"+String(level),1);token_o.markup=String.fromCharCode(marker),token_o.map=[startLine,state.line];const token_i=state.push("inline","",0);token_i.content=content2,token_i.map=[startLine,state.line-1],token_i.children=[];const token_c=state.push("heading_close","h"+String(level),-1);return token_c.markup=String.fromCharCode(marker),state.parentType=oldParentType,!0}function paragraph(state,startLine,endLine){const terminatorRules=state.md.block.ruler.getRules("paragraph"),oldParentType=state.parentType;let nextLine=startLine+1;for(state.parentType="paragraph";nextLine<endLine&&!state.isEmpty(nextLine);nextLine++){if(state.sCount[nextLine]-state.blkIndent>3||state.sCount[nextLine]<0)continue;let terminate=!1;for(let i=0,l2=terminatorRules.length;i<l2;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break}const content2=state.getLines(startLine,nextLine,state.blkIndent,!1).trim();state.line=nextLine;const token_o=state.push("paragraph_open","p",1);token_o.map=[startLine,state.line];const token_i=state.push("inline","",0);return token_i.content=content2,token_i.map=[startLine,state.line],token_i.children=[],state.push("paragraph_close","p",-1),state.parentType=oldParentType,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code$1],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading$1,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let i=0;i<_rules$1.length;i++)this.ruler.push(_rules$1[i][0],_rules$1[i][1],{alt:(_rules$1[i][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(state,startLine,endLine){const rules=this.ruler.getRules(""),len=rules.length,maxNesting=state.md.options.maxNesting;let line=startLine,hasEmptyLines=!1;for(;line<endLine&&(state.line=line=state.skipEmptyLines(line),!(line>=endLine||state.sCount[line]<state.blkIndent));){if(state.level>=maxNesting){state.line=endLine;break}const prevLine=state.line;let ok=!1;for(let i=0;i<len;i++)if(ok=rules[i](state,line,endLine,!1),ok){if(prevLine>=state.line)throw new Error("block rule didn't increment state.line");break}if(!ok)throw new Error("none of the block rules matched");state.tight=!hasEmptyLines,state.isEmpty(state.line-1)&&(hasEmptyLines=!0),line=state.line,line<endLine&&state.isEmpty(line)&&(hasEmptyLines=!0,line++,state.line=line)}};ParserBlock.prototype.parse=function(src,md,env,outTokens){if(!src)return;const state=new this.State(src,md,env,outTokens);this.tokenize(state,state.line,state.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(src,md,env,outTokens){this.src=src,this.env=env,this.md=md,this.tokens=outTokens,this.tokens_meta=Array(outTokens.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const token=new Token("text","",0);return token.content=this.pending,token.level=this.pendingLevel,this.tokens.push(token),this.pending="",token};StateInline.prototype.push=function(type,tag,nesting){this.pending&&this.pushPending();const token=new Token(type,tag,nesting);let token_meta=null;return nesting<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),token.level=this.level,nesting>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],token_meta={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(token),this.tokens_meta.push(token_meta),token};StateInline.prototype.scanDelims=function(start,canSplitWord){const max=this.posMax,marker=this.src.charCodeAt(start),lastChar=start>0?this.src.charCodeAt(start-1):32;let pos=start;for(;pos<max&&this.src.charCodeAt(pos)===marker;)pos++;const count2=pos-start,nextChar=pos<max?this.src.charCodeAt(pos):32,isLastPunctChar=isMdAsciiPunct(lastChar)||isPunctChar(String.fromCharCode(lastChar)),isNextPunctChar=isMdAsciiPunct(nextChar)||isPunctChar(String.fromCharCode(nextChar)),isLastWhiteSpace=isWhiteSpace(lastChar),isNextWhiteSpace=isWhiteSpace(nextChar),left_flanking=!isNextWhiteSpace&&(!isNextPunctChar||isLastWhiteSpace||isLastPunctChar),right_flanking=!isLastWhiteSpace&&(!isLastPunctChar||isNextWhiteSpace||isNextPunctChar);return{can_open:left_flanking&&(canSplitWord||!right_flanking||isLastPunctChar),can_close:right_flanking&&(canSplitWord||!left_flanking||isNextPunctChar),length:count2}};StateInline.prototype.Token=Token;function isTerminatorChar(ch){switch(ch){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(state,silent){let pos=state.pos;for(;pos<state.posMax&&!isTerminatorChar(state.src.charCodeAt(pos));)pos++;return pos===state.pos?!1:(silent||(state.pending+=state.src.slice(state.pos,pos)),state.pos=pos,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(state,silent){if(!state.md.options.linkify||state.linkLevel>0)return!1;const pos=state.pos,max=state.posMax;if(pos+3>max||state.src.charCodeAt(pos)!==58||state.src.charCodeAt(pos+1)!==47||state.src.charCodeAt(pos+2)!==47)return!1;const match2=state.pending.match(SCHEME_RE);if(!match2)return!1;const proto=match2[1],link2=state.md.linkify.matchAtStart(state.src.slice(pos-proto.length));if(!link2)return!1;let url=link2.url;if(url.length<=proto.length)return!1;url=url.replace(/\*+$/,"");const fullUrl=state.md.normalizeLink(url);if(!state.md.validateLink(fullUrl))return!1;if(!silent){state.pending=state.pending.slice(0,-proto.length);const token_o=state.push("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.markup="linkify",token_o.info="auto";const token_t=state.push("text","",0);token_t.content=state.md.normalizeLinkText(url);const token_c=state.push("link_close","a",-1);token_c.markup="linkify",token_c.info="auto"}return state.pos+=url.length-proto.length,!0}function newline$2(state,silent){let pos=state.pos;if(state.src.charCodeAt(pos)!==10)return!1;const pmax=state.pending.length-1,max=state.posMax;if(!silent)if(pmax>=0&&state.pending.charCodeAt(pmax)===32)if(pmax>=1&&state.pending.charCodeAt(pmax-1)===32){let ws=pmax-1;for(;ws>=1&&state.pending.charCodeAt(ws-1)===32;)ws--;state.pending=state.pending.slice(0,ws),state.push("hardbreak","br",0)}else state.pending=state.pending.slice(0,-1),state.push("softbreak","br",0);else state.push("softbreak","br",0);for(pos++;pos<max&&isSpace(state.src.charCodeAt(pos));)pos++;return state.pos=pos,!0}const ESCAPED=[];for(let i=0;i<256;i++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(ch){ESCAPED[ch.charCodeAt(0)]=1});function escape(state,silent){let pos=state.pos;const max=state.posMax;if(state.src.charCodeAt(pos)!==92||(pos++,pos>=max))return!1;let ch1=state.src.charCodeAt(pos);if(ch1===10){for(silent||state.push("hardbreak","br",0),pos++;pos<max&&(ch1=state.src.charCodeAt(pos),!!isSpace(ch1));)pos++;return state.pos=pos,!0}let escapedStr=state.src[pos];if(ch1>=55296&&ch1<=56319&&pos+1<max){const ch2=state.src.charCodeAt(pos+1);ch2>=56320&&ch2<=57343&&(escapedStr+=state.src[pos+1],pos++)}const origStr="\\"+escapedStr;if(!silent){const token=state.push("text_special","",0);ch1<256&&ESCAPED[ch1]!==0?token.content=escapedStr:token.content=origStr,token.markup=origStr,token.info="escape"}return state.pos=pos+1,!0}function backtick(state,silent){let pos=state.pos;if(state.src.charCodeAt(pos)!==96)return!1;const start=pos;pos++;const max=state.posMax;for(;pos<max&&state.src.charCodeAt(pos)===96;)pos++;const marker=state.src.slice(start,pos),openerLength=marker.length;if(state.backticksScanned&&(state.backticks[openerLength]||0)<=start)return silent||(state.pending+=marker),state.pos+=openerLength,!0;let matchEnd=pos,matchStart;for(;(matchStart=state.src.indexOf("`",matchEnd))!==-1;){for(matchEnd=matchStart+1;matchEnd<max&&state.src.charCodeAt(matchEnd)===96;)matchEnd++;const closerLength=matchEnd-matchStart;if(closerLength===openerLength){if(!silent){const token=state.push("code_inline","code",0);token.markup=marker,token.content=state.src.slice(pos,matchStart).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return state.pos=matchEnd,!0}state.backticks[closerLength]=matchStart}return state.backticksScanned=!0,silent||(state.pending+=marker),state.pos+=openerLength,!0}function strikethrough_tokenize(state,silent){const start=state.pos,marker=state.src.charCodeAt(start);if(silent||marker!==126)return!1;const scanned=state.scanDelims(state.pos,!0);let len=scanned.length;const ch=String.fromCharCode(marker);if(len<2)return!1;let token;len%2&&(token=state.push("text","",0),token.content=ch,len--);for(let i=0;i<len;i+=2)token=state.push("text","",0),token.content=ch+ch,state.delimiters.push({marker,length:0,token:state.tokens.length-1,end:-1,open:scanned.can_open,close:scanned.can_close});return state.pos+=scanned.length,!0}function postProcess$1(state,delimiters){let token;const loneMarkers=[],max=delimiters.length;for(let i=0;i<max;i++){const startDelim=delimiters[i];if(startDelim.marker!==126||startDelim.end===-1)continue;const endDelim=delimiters[startDelim.end];token=state.tokens[startDelim.token],token.type="s_open",token.tag="s",token.nesting=1,token.markup="~~",token.content="",token=state.tokens[endDelim.token],token.type="s_close",token.tag="s",token.nesting=-1,token.markup="~~",token.content="",state.tokens[endDelim.token-1].type==="text"&&state.tokens[endDelim.token-1].content==="~"&&loneMarkers.push(endDelim.token-1)}for(;loneMarkers.length;){const i=loneMarkers.pop();let j2=i+1;for(;j2<state.tokens.length&&state.tokens[j2].type==="s_close";)j2++;j2--,i!==j2&&(token=state.tokens[j2],state.tokens[j2]=state.tokens[i],state.tokens[i]=token)}}function strikethrough_postProcess(state){const tokens_meta=state.tokens_meta,max=state.tokens_meta.length;postProcess$1(state,state.delimiters);for(let curr=0;curr<max;curr++)tokens_meta[curr]&&tokens_meta[curr].delimiters&&postProcess$1(state,tokens_meta[curr].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(state,silent){const start=state.pos,marker=state.src.charCodeAt(start);if(silent||marker!==95&&marker!==42)return!1;const scanned=state.scanDelims(state.pos,marker===42);for(let i=0;i<scanned.length;i++){const token=state.push("text","",0);token.content=String.fromCharCode(marker),state.delimiters.push({marker,length:scanned.length,token:state.tokens.length-1,end:-1,open:scanned.can_open,close:scanned.can_close})}return state.pos+=scanned.length,!0}function postProcess(state,delimiters){const max=delimiters.length;for(let i=max-1;i>=0;i--){const startDelim=delimiters[i];if(startDelim.marker!==95&&startDelim.marker!==42||startDelim.end===-1)continue;const endDelim=delimiters[startDelim.end],isStrong=i>0&&delimiters[i-1].end===startDelim.end+1&&delimiters[i-1].marker===startDelim.marker&&delimiters[i-1].token===startDelim.token-1&&delimiters[startDelim.end+1].token===endDelim.token+1,ch=String.fromCharCode(startDelim.marker),token_o=state.tokens[startDelim.token];token_o.type=isStrong?"strong_open":"em_open",token_o.tag=isStrong?"strong":"em",token_o.nesting=1,token_o.markup=isStrong?ch+ch:ch,token_o.content="";const token_c=state.tokens[endDelim.token];token_c.type=isStrong?"strong_close":"em_close",token_c.tag=isStrong?"strong":"em",token_c.nesting=-1,token_c.markup=isStrong?ch+ch:ch,token_c.content="",isStrong&&(state.tokens[delimiters[i-1].token].content="",state.tokens[delimiters[startDelim.end+1].token].content="",i--)}}function emphasis_post_process(state){const tokens_meta=state.tokens_meta,max=state.tokens_meta.length;postProcess(state,state.delimiters);for(let curr=0;curr<max;curr++)tokens_meta[curr]&&tokens_meta[curr].delimiters&&postProcess(state,tokens_meta[curr].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(state,silent){let code,label,res,ref2,href="",title="",start=state.pos,parseReference=!0;if(state.src.charCodeAt(state.pos)!==91)return!1;const oldPos=state.pos,max=state.posMax,labelStart=state.pos+1,labelEnd=state.md.helpers.parseLinkLabel(state,state.pos,!0);if(labelEnd<0)return!1;let pos=labelEnd+1;if(pos<max&&state.src.charCodeAt(pos)===40){for(parseReference=!1,pos++;pos<max&&(code=state.src.charCodeAt(pos),!(!isSpace(code)&&code!==10));pos++);if(pos>=max)return!1;if(start=pos,res=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax),res.ok){for(href=state.md.normalizeLink(res.str),state.md.validateLink(href)?pos=res.pos:href="",start=pos;pos<max&&(code=state.src.charCodeAt(pos),!(!isSpace(code)&&code!==10));pos++);if(res=state.md.helpers.parseLinkTitle(state.src,pos,state.posMax),pos<max&&start!==pos&&res.ok)for(title=res.str,pos=res.pos;pos<max&&(code=state.src.charCodeAt(pos),!(!isSpace(code)&&code!==10));pos++);}(pos>=max||state.src.charCodeAt(pos)!==41)&&(parseReference=!0),pos++}if(parseReference){if(typeof state.env.references>"u")return!1;if(pos<max&&state.src.charCodeAt(pos)===91?(start=pos+1,pos=state.md.helpers.parseLinkLabel(state,pos),pos>=0?label=state.src.slice(start,pos++):pos=labelEnd+1):pos=labelEnd+1,label||(label=state.src.slice(labelStart,labelEnd)),ref2=state.env.references[normalizeReference(label)],!ref2)return state.pos=oldPos,!1;href=ref2.href,title=ref2.title}if(!silent){state.pos=labelStart,state.posMax=labelEnd;const token_o=state.push("link_open","a",1),attrs=[["href",href]];token_o.attrs=attrs,title&&attrs.push(["title",title]),state.linkLevel++,state.md.inline.tokenize(state),state.linkLevel--,state.push("link_close","a",-1)}return state.pos=pos,state.posMax=max,!0}function image(state,silent){let code,content2,label,pos,ref2,res,title,start,href="";const oldPos=state.pos,max=state.posMax;if(state.src.charCodeAt(state.pos)!==33||state.src.charCodeAt(state.pos+1)!==91)return!1;const labelStart=state.pos+2,labelEnd=state.md.helpers.parseLinkLabel(state,state.pos+1,!1);if(labelEnd<0)return!1;if(pos=labelEnd+1,pos<max&&state.src.charCodeAt(pos)===40){for(pos++;pos<max&&(code=state.src.charCodeAt(pos),!(!isSpace(code)&&code!==10));pos++);if(pos>=max)return!1;for(start=pos,res=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax),res.ok&&(href=state.md.normalizeLink(res.str),state.md.validateLink(href)?pos=res.pos:href=""),start=pos;pos<max&&(code=state.src.charCodeAt(pos),!(!isSpace(code)&&code!==10));pos++);if(res=state.md.helpers.parseLinkTitle(state.src,pos,state.posMax),pos<max&&start!==pos&&res.ok)for(title=res.str,pos=res.pos;pos<max&&(code=state.src.charCodeAt(pos),!(!isSpace(code)&&code!==10));pos++);else title="";if(pos>=max||state.src.charCodeAt(pos)!==41)return state.pos=oldPos,!1;pos++}else{if(typeof state.env.references>"u")return!1;if(pos<max&&state.src.charCodeAt(pos)===91?(start=pos+1,pos=state.md.helpers.parseLinkLabel(state,pos),pos>=0?label=state.src.slice(start,pos++):pos=labelEnd+1):pos=labelEnd+1,label||(label=state.src.slice(labelStart,labelEnd)),ref2=state.env.references[normalizeReference(label)],!ref2)return state.pos=oldPos,!1;href=ref2.href,title=ref2.title}if(!silent){content2=state.src.slice(labelStart,labelEnd);const tokens=[];state.md.inline.parse(content2,state.md,state.env,tokens);const token=state.push("image","img",0),attrs=[["src",href],["alt",""]];token.attrs=attrs,token.children=tokens,token.content=content2,title&&attrs.push(["title",title])}return state.pos=pos,state.posMax=max,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(state,silent){let pos=state.pos;if(state.src.charCodeAt(pos)!==60)return!1;const start=state.pos,max=state.posMax;for(;;){if(++pos>=max)return!1;const ch=state.src.charCodeAt(pos);if(ch===60)return!1;if(ch===62)break}const url=state.src.slice(start+1,pos);if(AUTOLINK_RE.test(url)){const fullUrl=state.md.normalizeLink(url);if(!state.md.validateLink(fullUrl))return!1;if(!silent){const token_o=state.push("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.markup="autolink",token_o.info="auto";const token_t=state.push("text","",0);token_t.content=state.md.normalizeLinkText(url);const token_c=state.push("link_close","a",-1);token_c.markup="autolink",token_c.info="auto"}return state.pos+=url.length+2,!0}if(EMAIL_RE.test(url)){const fullUrl=state.md.normalizeLink("mailto:"+url);if(!state.md.validateLink(fullUrl))return!1;if(!silent){const token_o=state.push("link_open","a",1);token_o.attrs=[["href",fullUrl]],token_o.markup="autolink",token_o.info="auto";const token_t=state.push("text","",0);token_t.content=state.md.normalizeLinkText(url);const token_c=state.push("link_close","a",-1);token_c.markup="autolink",token_c.info="auto"}return state.pos+=url.length+2,!0}return!1}function isLinkOpen(str){return/^<a[>\s]/i.test(str)}function isLinkClose(str){return/^<\/a\s*>/i.test(str)}function isLetter(ch){const lc=ch|32;return lc>=97&&lc<=122}function html_inline(state,silent){if(!state.md.options.html)return!1;const max=state.posMax,pos=state.pos;if(state.src.charCodeAt(pos)!==60||pos+2>=max)return!1;const ch=state.src.charCodeAt(pos+1);if(ch!==33&&ch!==63&&ch!==47&&!isLetter(ch))return!1;const match2=state.src.slice(pos).match(HTML_TAG_RE);if(!match2)return!1;if(!silent){const token=state.push("html_inline","",0);token.content=match2[0],isLinkOpen(token.content)&&state.linkLevel++,isLinkClose(token.content)&&state.linkLevel--}return state.pos+=match2[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(state,silent){const pos=state.pos,max=state.posMax;if(state.src.charCodeAt(pos)!==38||pos+1>=max)return!1;if(state.src.charCodeAt(pos+1)===35){const match2=state.src.slice(pos).match(DIGITAL_RE);if(match2){if(!silent){const code=match2[1][0].toLowerCase()==="x"?parseInt(match2[1].slice(1),16):parseInt(match2[1],10),token=state.push("text_special","",0);token.content=isValidEntityCode(code)?fromCodePoint$1(code):fromCodePoint$1(65533),token.markup=match2[0],token.info="entity"}return state.pos+=match2[0].length,!0}}else{const match2=state.src.slice(pos).match(NAMED_RE);if(match2){const decoded=decodeHTML(match2[0]);if(decoded!==match2[0]){if(!silent){const token=state.push("text_special","",0);token.content=decoded,token.markup=match2[0],token.info="entity"}return state.pos+=match2[0].length,!0}}}return!1}function processDelimiters(delimiters){const openersBottom={},max=delimiters.length;if(!max)return;let headerIdx=0,lastTokenIdx=-2;const jumps=[];for(let closerIdx=0;closerIdx<max;closerIdx++){const closer=delimiters[closerIdx];if(jumps.push(0),(delimiters[headerIdx].marker!==closer.marker||lastTokenIdx!==closer.token-1)&&(headerIdx=closerIdx),lastTokenIdx=closer.token,closer.length=closer.length||0,!closer.close)continue;openersBottom.hasOwnProperty(closer.marker)||(openersBottom[closer.marker]=[-1,-1,-1,-1,-1,-1]);const minOpenerIdx=openersBottom[closer.marker][(closer.open?3:0)+closer.length%3];let openerIdx=headerIdx-jumps[headerIdx]-1,newMinOpenerIdx=openerIdx;for(;openerIdx>minOpenerIdx;openerIdx-=jumps[openerIdx]+1){const opener=delimiters[openerIdx];if(opener.marker===closer.marker&&opener.open&&opener.end<0){let isOddMatch=!1;if((opener.close||closer.open)&&(opener.length+closer.length)%3===0&&(opener.length%3!==0||closer.length%3!==0)&&(isOddMatch=!0),!isOddMatch){const lastJump=openerIdx>0&&!delimiters[openerIdx-1].open?jumps[openerIdx-1]+1:0;jumps[closerIdx]=closerIdx-openerIdx+lastJump,jumps[openerIdx]=lastJump,closer.open=!1,opener.end=closerIdx,opener.close=!1,newMinOpenerIdx=-1,lastTokenIdx=-2;break}}}newMinOpenerIdx!==-1&&(openersBottom[closer.marker][(closer.open?3:0)+(closer.length||0)%3]=newMinOpenerIdx)}}function link_pairs(state){const tokens_meta=state.tokens_meta,max=state.tokens_meta.length;processDelimiters(state.delimiters);for(let curr=0;curr<max;curr++)tokens_meta[curr]&&tokens_meta[curr].delimiters&&processDelimiters(tokens_meta[curr].delimiters)}function fragments_join(state){let curr,last,level=0;const tokens=state.tokens,max=state.tokens.length;for(curr=last=0;curr<max;curr++)tokens[curr].nesting<0&&level--,tokens[curr].level=level,tokens[curr].nesting>0&&level++,tokens[curr].type==="text"&&curr+1<max&&tokens[curr+1].type==="text"?tokens[curr+1].content=tokens[curr].content+tokens[curr+1].content:(curr!==last&&(tokens[last]=tokens[curr]),last++);curr!==last&&(tokens.length=last)}const _rules=[["text",text],["linkify",linkify],["newline",newline$2],["escape",escape],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let i=0;i<_rules.length;i++)this.ruler.push(_rules[i][0],_rules[i][1]);this.ruler2=new Ruler;for(let i=0;i<_rules2.length;i++)this.ruler2.push(_rules2[i][0],_rules2[i][1])}ParserInline.prototype.skipToken=function(state){const pos=state.pos,rules=this.ruler.getRules(""),len=rules.length,maxNesting=state.md.options.maxNesting,cache2=state.cache;if(typeof cache2[pos]<"u"){state.pos=cache2[pos];return}let ok=!1;if(state.level<maxNesting){for(let i=0;i<len;i++)if(state.level++,ok=rules[i](state,!0),state.level--,ok){if(pos>=state.pos)throw new Error("inline rule didn't increment state.pos");break}}else state.pos=state.posMax;ok||state.pos++,cache2[pos]=state.pos};ParserInline.prototype.tokenize=function(state){const rules=this.ruler.getRules(""),len=rules.length,end=state.posMax,maxNesting=state.md.options.maxNesting;for(;state.pos<end;){const prevPos=state.pos;let ok=!1;if(state.level<maxNesting){for(let i=0;i<len;i++)if(ok=rules[i](state,!1),ok){if(prevPos>=state.pos)throw new Error("inline rule didn't increment state.pos");break}}if(ok){if(state.pos>=end)break;continue}state.pending+=state.src[state.pos++]}state.pending&&state.pushPending()};ParserInline.prototype.parse=function(str,md,env,outTokens){const state=new this.State(str,md,env,outTokens);this.tokenize(state);const rules=this.ruler2.getRules(""),len=rules.length;for(let i=0;i<len;i++)rules[i](state)};ParserInline.prototype.State=StateInline;function reFactory(opts){const re2={};opts=opts||{},re2.src_Any=Any.source,re2.src_Cc=Cc.source,re2.src_Z=Z$2.source,re2.src_P=P$1.source,re2.src_ZPCc=[re2.src_Z,re2.src_P,re2.src_Cc].join("|"),re2.src_ZCc=[re2.src_Z,re2.src_Cc].join("|");const text_separators="[><ÔΩú]";return re2.src_pseudo_letter="(?:(?!"+text_separators+"|"+re2.src_ZPCc+")"+re2.src_Any+")",re2.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",re2.src_auth="(?:(?:(?!"+re2.src_ZCc+"|[@/\\[\\]()]).)+@)?",re2.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",re2.src_host_terminator="(?=$|"+text_separators+"|"+re2.src_ZPCc+")(?!"+(opts["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+re2.src_ZPCc+"))",re2.src_path="(?:[/?#](?:(?!"+re2.src_ZCc+"|"+text_separators+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+re2.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+re2.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+re2.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+re2.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+re2.src_ZCc+"|[']).)+\\'|\\'(?="+re2.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+re2.src_ZCc+"|[.]|$)|"+(opts["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+re2.src_ZCc+"|$)|;(?!"+re2.src_ZCc+"|$)|\\!+(?!"+re2.src_ZCc+"|[!]|$)|\\?(?!"+re2.src_ZCc+"|[?]|$))+|\\/)?",re2.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',re2.src_xn="xn--[a-z0-9\\-]{1,59}",re2.src_domain_root="(?:"+re2.src_xn+"|"+re2.src_pseudo_letter+"{1,63})",re2.src_domain="(?:"+re2.src_xn+"|(?:"+re2.src_pseudo_letter+")|(?:"+re2.src_pseudo_letter+"(?:-|"+re2.src_pseudo_letter+"){0,61}"+re2.src_pseudo_letter+"))",re2.src_host="(?:(?:(?:(?:"+re2.src_domain+")\\.)*"+re2.src_domain+"))",re2.tpl_host_fuzzy="(?:"+re2.src_ip4+"|(?:(?:(?:"+re2.src_domain+")\\.)+(?:%TLDS%)))",re2.tpl_host_no_ip_fuzzy="(?:(?:(?:"+re2.src_domain+")\\.)+(?:%TLDS%))",re2.src_host_strict=re2.src_host+re2.src_host_terminator,re2.tpl_host_fuzzy_strict=re2.tpl_host_fuzzy+re2.src_host_terminator,re2.src_host_port_strict=re2.src_host+re2.src_port+re2.src_host_terminator,re2.tpl_host_port_fuzzy_strict=re2.tpl_host_fuzzy+re2.src_port+re2.src_host_terminator,re2.tpl_host_port_no_ip_fuzzy_strict=re2.tpl_host_no_ip_fuzzy+re2.src_port+re2.src_host_terminator,re2.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+re2.src_ZPCc+"|>|$))",re2.tpl_email_fuzzy="(^|"+text_separators+'|"|\\(|'+re2.src_ZCc+")("+re2.src_email_name+"@"+re2.tpl_host_fuzzy_strict+")",re2.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ÔΩú]|"+re2.src_ZPCc+"))((?![$+<=>^`|ÔΩú])"+re2.tpl_host_port_fuzzy_strict+re2.src_path+")",re2.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ÔΩú]|"+re2.src_ZPCc+"))((?![$+<=>^`|ÔΩú])"+re2.tpl_host_port_no_ip_fuzzy_strict+re2.src_path+")",re2}function assign(obj){return Array.prototype.slice.call(arguments,1).forEach(function(source){source&&Object.keys(source).forEach(function(key){obj[key]=source[key]})}),obj}function _class(obj){return Object.prototype.toString.call(obj)}function isString(obj){return _class(obj)==="[object String]"}function isObject(obj){return _class(obj)==="[object Object]"}function isRegExp(obj){return _class(obj)==="[object RegExp]"}function isFunction(obj){return _class(obj)==="[object Function]"}function escapeRE(str){return str.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(obj){return Object.keys(obj||{}).reduce(function(acc,k2){return acc||defaultOptions.hasOwnProperty(k2)},!1)}const defaultSchemas={"http:":{validate:function(text2,pos,self2){const tail=text2.slice(pos);return self2.re.http||(self2.re.http=new RegExp("^\\/\\/"+self2.re.src_auth+self2.re.src_host_port_strict+self2.re.src_path,"i")),self2.re.http.test(tail)?tail.match(self2.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(text2,pos,self2){const tail=text2.slice(pos);return self2.re.no_http||(self2.re.no_http=new RegExp("^"+self2.re.src_auth+"(?:localhost|(?:(?:"+self2.re.src_domain+")\\.)+"+self2.re.src_domain_root+")"+self2.re.src_port+self2.re.src_host_terminator+self2.re.src_path,"i")),self2.re.no_http.test(tail)?pos>=3&&text2[pos-3]===":"||pos>=3&&text2[pos-3]==="/"?0:tail.match(self2.re.no_http)[0].length:0}},"mailto:":{validate:function(text2,pos,self2){const tail=text2.slice(pos);return self2.re.mailto||(self2.re.mailto=new RegExp("^"+self2.re.src_email_name+"@"+self2.re.src_host_strict,"i")),self2.re.mailto.test(tail)?tail.match(self2.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|—Ä—Ñ".split("|");function resetScanCache(self2){self2.__index__=-1,self2.__text_cache__=""}function createValidator(re2){return function(text2,pos){const tail=text2.slice(pos);return re2.test(tail)?tail.match(re2)[0].length:0}}function createNormalizer(){return function(match2,self2){self2.normalize(match2)}}function compile(self2){const re2=self2.re=reFactory(self2.__opts__),tlds2=self2.__tlds__.slice();self2.onCompile(),self2.__tlds_replaced__||tlds2.push(tlds_2ch_src_re),tlds2.push(re2.src_xn),re2.src_tlds=tlds2.join("|");function untpl(tpl){return tpl.replace("%TLDS%",re2.src_tlds)}re2.email_fuzzy=RegExp(untpl(re2.tpl_email_fuzzy),"i"),re2.link_fuzzy=RegExp(untpl(re2.tpl_link_fuzzy),"i"),re2.link_no_ip_fuzzy=RegExp(untpl(re2.tpl_link_no_ip_fuzzy),"i"),re2.host_fuzzy_test=RegExp(untpl(re2.tpl_host_fuzzy_test),"i");const aliases=[];self2.__compiled__={};function schemaError(name2,val){throw new Error('(LinkifyIt) Invalid schema "'+name2+'": '+val)}Object.keys(self2.__schemas__).forEach(function(name2){const val=self2.__schemas__[name2];if(val===null)return;const compiled={validate:null,link:null};if(self2.__compiled__[name2]=compiled,isObject(val)){isRegExp(val.validate)?compiled.validate=createValidator(val.validate):isFunction(val.validate)?compiled.validate=val.validate:schemaError(name2,val),isFunction(val.normalize)?compiled.normalize=val.normalize:val.normalize?schemaError(name2,val):compiled.normalize=createNormalizer();return}if(isString(val)){aliases.push(name2);return}schemaError(name2,val)}),aliases.forEach(function(alias){self2.__compiled__[self2.__schemas__[alias]]&&(self2.__compiled__[alias].validate=self2.__compiled__[self2.__schemas__[alias]].validate,self2.__compiled__[alias].normalize=self2.__compiled__[self2.__schemas__[alias]].normalize)}),self2.__compiled__[""]={validate:null,normalize:createNormalizer()};const slist=Object.keys(self2.__compiled__).filter(function(name2){return name2.length>0&&self2.__compiled__[name2]}).map(escapeRE).join("|");self2.re.schema_test=RegExp("(^|(?!_)(?:[><ÔΩú]|"+re2.src_ZPCc+"))("+slist+")","i"),self2.re.schema_search=RegExp("(^|(?!_)(?:[><ÔΩú]|"+re2.src_ZPCc+"))("+slist+")","ig"),self2.re.schema_at_start=RegExp("^"+self2.re.schema_search.source,"i"),self2.re.pretest=RegExp("("+self2.re.schema_test.source+")|("+self2.re.host_fuzzy_test.source+")|@","i"),resetScanCache(self2)}function Match(self2,shift2){const start=self2.__index__,end=self2.__last_index__,text2=self2.__text_cache__.slice(start,end);this.schema=self2.__schema__.toLowerCase(),this.index=start+shift2,this.lastIndex=end+shift2,this.raw=text2,this.text=text2,this.url=text2}function createMatch(self2,shift2){const match2=new Match(self2,shift2);return self2.__compiled__[match2.schema].normalize(match2,self2),match2}function LinkifyIt(schemas,options){if(!(this instanceof LinkifyIt))return new LinkifyIt(schemas,options);options||isOptionsObj(schemas)&&(options=schemas,schemas={}),this.__opts__=assign({},defaultOptions,options),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,schemas),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function(schema,definition){return this.__schemas__[schema]=definition,compile(this),this};LinkifyIt.prototype.set=function(options){return this.__opts__=assign(this.__opts__,options),this};LinkifyIt.prototype.test=function(text2){if(this.__text_cache__=text2,this.__index__=-1,!text2.length)return!1;let m2,ml2,me2,len,shift2,next,re2,tld_pos,at_pos;if(this.re.schema_test.test(text2)){for(re2=this.re.schema_search,re2.lastIndex=0;(m2=re2.exec(text2))!==null;)if(len=this.testSchemaAt(text2,m2[2],re2.lastIndex),len){this.__schema__=m2[2],this.__index__=m2.index+m2[1].length,this.__last_index__=m2.index+m2[0].length+len;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(tld_pos=text2.search(this.re.host_fuzzy_test),tld_pos>=0&&(this.__index__<0||tld_pos<this.__index__)&&(ml2=text2.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(shift2=ml2.index+ml2[1].length,(this.__index__<0||shift2<this.__index__)&&(this.__schema__="",this.__index__=shift2,this.__last_index__=ml2.index+ml2[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(at_pos=text2.indexOf("@"),at_pos>=0&&(me2=text2.match(this.re.email_fuzzy))!==null&&(shift2=me2.index+me2[1].length,next=me2.index+me2[0].length,(this.__index__<0||shift2<this.__index__||shift2===this.__index__&&next>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=shift2,this.__last_index__=next))),this.__index__>=0};LinkifyIt.prototype.pretest=function(text2){return this.re.pretest.test(text2)};LinkifyIt.prototype.testSchemaAt=function(text2,schema,pos){return this.__compiled__[schema.toLowerCase()]?this.__compiled__[schema.toLowerCase()].validate(text2,pos,this):0};LinkifyIt.prototype.match=function(text2){const result=[];let shift2=0;this.__index__>=0&&this.__text_cache__===text2&&(result.push(createMatch(this,shift2)),shift2=this.__last_index__);let tail=shift2?text2.slice(shift2):text2;for(;this.test(tail);)result.push(createMatch(this,shift2)),tail=tail.slice(this.__last_index__),shift2+=this.__last_index__;return result.length?result:null};LinkifyIt.prototype.matchAtStart=function(text2){if(this.__text_cache__=text2,this.__index__=-1,!text2.length)return null;const m2=this.re.schema_at_start.exec(text2);if(!m2)return null;const len=this.testSchemaAt(text2,m2[2],m2[0].length);return len?(this.__schema__=m2[2],this.__index__=m2.index+m2[1].length,this.__last_index__=m2.index+m2[0].length+len,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function(list2,keepOld){return list2=Array.isArray(list2)?list2:[list2],keepOld?(this.__tlds__=this.__tlds__.concat(list2).sort().filter(function(el2,idx,arr){return el2!==arr[idx-1]}).reverse(),compile(this),this):(this.__tlds__=list2.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function(match2){match2.schema||(match2.url="http://"+match2.url),match2.schema==="mailto:"&&!/^mailto:/i.test(match2.url)&&(match2.url="mailto:"+match2.url)};LinkifyIt.prototype.onCompile=function(){};const maxInt=2147483647,base$1=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base$1-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,callback){const result=[];let length=array.length;for(;length--;)result[length]=callback(array[length]);return result}function mapDomain(domain,callback){const parts=domain.split("@");let result="";parts.length>1&&(result=parts[0]+"@",domain=parts[1]),domain=domain.replace(regexSeparators,".");const labels=domain.split("."),encoded=map(labels,callback).join(".");return result+encoded}function ucs2decode(string2){const output=[];let counter=0;const length=string2.length;for(;counter<length;){const value=string2.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){const extra=string2.charCodeAt(counter++);(extra&64512)==56320?output.push(((value&1023)<<10)+(extra&1023)+65536):(output.push(value),counter--)}else output.push(value)}return output}const ucs2encode=codePoints=>String.fromCodePoint(...codePoints),basicToDigit=function(codePoint){return codePoint>=48&&codePoint<58?26+(codePoint-48):codePoint>=65&&codePoint<91?codePoint-65:codePoint>=97&&codePoint<123?codePoint-97:base$1},digitToBasic=function(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)},adapt=function(delta,numPoints,firstTime){let k2=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k2+=base$1)delta=floor(delta/baseMinusTMin);return floor(k2+(baseMinusTMin+1)*delta/(delta+skew))},decode=function(input){const output=[],inputLength=input.length;let i=0,n2=initialN,bias=initialBias,basic=input.lastIndexOf(delimiter);basic<0&&(basic=0);for(let j2=0;j2<basic;++j2)input.charCodeAt(j2)>=128&&error("not-basic"),output.push(input.charCodeAt(j2));for(let index2=basic>0?basic+1:0;index2<inputLength;){const oldi=i;for(let w2=1,k2=base$1;;k2+=base$1){index2>=inputLength&&error("invalid-input");const digit=basicToDigit(input.charCodeAt(index2++));digit>=base$1&&error("invalid-input"),digit>floor((maxInt-i)/w2)&&error("overflow"),i+=digit*w2;const t2=k2<=bias?tMin:k2>=bias+tMax?tMax:k2-bias;if(digit<t2)break;const baseMinusT=base$1-t2;w2>floor(maxInt/baseMinusT)&&error("overflow"),w2*=baseMinusT}const out=output.length+1;bias=adapt(i-oldi,out,oldi==0),floor(i/out)>maxInt-n2&&error("overflow"),n2+=floor(i/out),i%=out,output.splice(i++,0,n2)}return String.fromCodePoint(...output)},encode=function(input){const output=[];input=ucs2decode(input);const inputLength=input.length;let n2=initialN,delta=0,bias=initialBias;for(const currentValue of input)currentValue<128&&output.push(stringFromCharCode(currentValue));const basicLength=output.length;let handledCPCount=basicLength;for(basicLength&&output.push(delimiter);handledCPCount<inputLength;){let m2=maxInt;for(const currentValue of input)currentValue>=n2&&currentValue<m2&&(m2=currentValue);const handledCPCountPlusOne=handledCPCount+1;m2-n2>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m2-n2)*handledCPCountPlusOne,n2=m2;for(const currentValue of input)if(currentValue<n2&&++delta>maxInt&&error("overflow"),currentValue===n2){let q=delta;for(let k2=base$1;;k2+=base$1){const t2=k2<=bias?tMin:k2>=bias+tMax?tMax:k2-bias;if(q<t2)break;const qMinusT=q-t2,baseMinusT=base$1-t2;output.push(stringFromCharCode(digitToBasic(t2+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount===basicLength),delta=0,++handledCPCount}++delta,++n2}return output.join("")},toUnicode=function(input){return mapDomain(input,function(string2){return regexPunycode.test(string2)?decode(string2.slice(4).toLowerCase()):string2})},toASCII=function(input){return mapDomain(input,function(string2){return regexNonASCII.test(string2)?"xn--"+encode(string2):string2})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"‚Äú‚Äù‚Äò‚Äô",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"‚Äú‚Äù‚Äò‚Äô",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"‚Äú‚Äù‚Äò‚Äô",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(url){const str=url.trim().toLowerCase();return BAD_PROTO_RE.test(str)?GOOD_DATA_RE.test(str):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(url){const parsed=urlParse(url,!0);if(parsed.hostname&&(!parsed.protocol||RECODE_HOSTNAME_FOR.indexOf(parsed.protocol)>=0))try{parsed.hostname=punycode.toASCII(parsed.hostname)}catch{}return encode$1(format(parsed))}function normalizeLinkText(url){const parsed=urlParse(url,!0);if(parsed.hostname&&(!parsed.protocol||RECODE_HOSTNAME_FOR.indexOf(parsed.protocol)>=0))try{parsed.hostname=punycode.toUnicode(parsed.hostname)}catch{}return decode$1(format(parsed),decode$1.defaultChars+"%")}function MarkdownIt(presetName,options){if(!(this instanceof MarkdownIt))return new MarkdownIt(presetName,options);options||isString$1(presetName)||(options=presetName||{},presetName="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(presetName),options&&this.set(options)}MarkdownIt.prototype.set=function(options){return assign$1(this.options,options),this};MarkdownIt.prototype.configure=function(presets){const self2=this;if(isString$1(presets)){const presetName=presets;if(presets=config[presetName],!presets)throw new Error('Wrong `markdown-it` preset "'+presetName+'", check name')}if(!presets)throw new Error("Wrong `markdown-it` preset, can't be empty");return presets.options&&self2.set(presets.options),presets.components&&Object.keys(presets.components).forEach(function(name2){presets.components[name2].rules&&self2[name2].ruler.enableOnly(presets.components[name2].rules),presets.components[name2].rules2&&self2[name2].ruler2.enableOnly(presets.components[name2].rules2)}),this};MarkdownIt.prototype.enable=function(list2,ignoreInvalid){let result=[];Array.isArray(list2)||(list2=[list2]),["core","block","inline"].forEach(function(chain){result=result.concat(this[chain].ruler.enable(list2,!0))},this),result=result.concat(this.inline.ruler2.enable(list2,!0));const missed=list2.filter(function(name2){return result.indexOf(name2)<0});if(missed.length&&!ignoreInvalid)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+missed);return this};MarkdownIt.prototype.disable=function(list2,ignoreInvalid){let result=[];Array.isArray(list2)||(list2=[list2]),["core","block","inline"].forEach(function(chain){result=result.concat(this[chain].ruler.disable(list2,!0))},this),result=result.concat(this.inline.ruler2.disable(list2,!0));const missed=list2.filter(function(name2){return result.indexOf(name2)<0});if(missed.length&&!ignoreInvalid)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+missed);return this};MarkdownIt.prototype.use=function(plugin){const args=[this].concat(Array.prototype.slice.call(arguments,1));return plugin.apply(plugin,args),this};MarkdownIt.prototype.parse=function(src,env){if(typeof src!="string")throw new Error("Input data should be a String");const state=new this.core.State(src,this,env);return this.core.process(state),state.tokens};MarkdownIt.prototype.render=function(src,env){return env=env||{},this.renderer.render(this.parse(src,env),this.options,env)};MarkdownIt.prototype.parseInline=function(src,env){const state=new this.core.State(src,this,env);return state.inlineMode=!0,this.core.process(state),state.tokens};MarkdownIt.prototype.renderInline=function(src,env){return env=env||{},this.renderer.render(this.parseInline(src,env),this.options,env)};const t$1=new Set([!0,!1,"alt","title"]);function e(t2,e2){return(Array.isArray(t2)?t2:[]).filter(([t3])=>t3!==e2)}function n$1(t2,n2){t2&&t2.attrs&&(t2.attrs=e(t2.attrs,n2))}function i$2(e2,i){if(!t$1.has(e2))throw new TypeError(`figcaption must be one of: ${[...t$1]}.`);if(e2==="alt")return i.content;const r2=i.attrs.find(([t2])=>t2==="title");return Array.isArray(r2)&&r2[1]?(n$1(i,"title"),r2[1]):void 0}function r(t2,r2){r2=r2||{},t2.core.ruler.before("linkify","image_figures",function(s2){let a2=1;for(let o2=1,c2=s2.tokens.length;o2<c2-1;++o2){const l2=s2.tokens[o2];if(l2.type!=="inline"||!l2.children||l2.children.length!==1&&l2.children.length!==3||l2.children.length===1&&l2.children[0].type!=="image")continue;if(l2.children.length===3){const[t3,e2,n2]=l2.children;if(t3.type!=="link_open"||e2.type!=="image"||n2.type!=="link_close")continue}if(o2!==0&&s2.tokens[o2-1].type!=="paragraph_open"||o2!==c2-1&&s2.tokens[o2+1].type!=="paragraph_close")continue;const f2=s2.tokens[o2-1];let h2;if(f2.type="figure_open",f2.tag="figure",s2.tokens[o2+1].type="figure_close",s2.tokens[o2+1].tag="figure",r2.dataType&&s2.tokens[o2-1].attrPush(["data-type","image"]),r2.link&&l2.children.length===1){[h2]=l2.children;const t3=new s2.Token("link_open","a",1);t3.attrPush(["href",h2.attrGet("src")]),l2.children.unshift(t3),l2.children.push(new s2.Token("link_close","a",-1))}if(h2=l2.children.length===1?l2.children[0]:l2.children[1],r2.figcaption){const n2=i$2(r2.figcaption,h2);if(n2){const[i]=t2.parseInline(n2,s2.env);l2.children.push(new s2.Token("figcaption_open","figcaption",1)),l2.children.push(...i.children),l2.children.push(new s2.Token("figcaption_close","figcaption",-1)),h2.attrs&&(h2.attrs=e(h2.attrs,"title"))}}if(r2.copyAttrs&&h2.attrs){const t3=r2.copyAttrs===!0?"":r2.copyAttrs;f2.attrs=h2.attrs.filter(([e2])=>e2.match(t3)).map(t4=>Array.from(t4))}if(r2.tabindex&&(s2.tokens[o2-1].attrPush(["tabindex",a2]),a2++),r2.lazy&&(h2.attrs.some(([t3])=>t3==="loading")||h2.attrs.push(["loading","lazy"])),r2.async&&(h2.attrs.some(([t3])=>t3==="decoding")||h2.attrs.push(["decoding","async"])),r2.classes&&typeof r2.classes=="string"){let t3=!1;for(let e2=0,n2=h2.attrs.length;e2<n2&&!t3;e2++){const n3=h2.attrs[e2];n3[0]==="class"&&(n3[1]=`${n3[1]} ${r2.classes}`,t3=!0)}t3||h2.attrs.push(["class",r2.classes])}if(r2.removeSrc){const t3=h2.attrs.find(([t4])=>t4==="src");h2.attrs.push(["data-src",t3[1]]),n$1(h2,"src")}}})}const UNESCAPE_RE$1=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function subscript(state,silent){const max=state.posMax,start=state.pos;if(state.src.charCodeAt(start)!==126||silent||start+2>=max)return!1;state.pos=start+1;let found=!1;for(;state.pos<max;){if(state.src.charCodeAt(state.pos)===126){found=!0;break}state.md.inline.skipToken(state)}if(!found||start+1===state.pos)return state.pos=start,!1;const content2=state.src.slice(start+1,state.pos);if(content2.match(/(^|[^\\])(\\\\)*\s/))return state.pos=start,!1;state.posMax=state.pos,state.pos=start+1;const token_so=state.push("sub_open","sub",1);token_so.markup="~";const token_t=state.push("text","",0);token_t.content=content2.replace(UNESCAPE_RE$1,"$1");const token_sc=state.push("sub_close","sub",-1);return token_sc.markup="~",state.pos=state.posMax+1,state.posMax=max,!0}function sub_plugin(md){md.inline.ruler.after("emphasis","sub",subscript)}const UNESCAPE_RE=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/g;function superscript(state,silent){const max=state.posMax,start=state.pos;if(state.src.charCodeAt(start)!==94||silent||start+2>=max)return!1;state.pos=start+1;let found=!1;for(;state.pos<max;){if(state.src.charCodeAt(state.pos)===94){found=!0;break}state.md.inline.skipToken(state)}if(!found||start+1===state.pos)return state.pos=start,!1;const content2=state.src.slice(start+1,state.pos);if(content2.match(/(^|[^\\])(\\\\)*\s/))return state.pos=start,!1;state.posMax=state.pos,state.pos=start+1;const token_so=state.push("sup_open","sup",1);token_so.markup="^";const token_t=state.push("text","",0);token_t.content=content2.replace(UNESCAPE_RE,"$1");const token_sc=state.push("sup_close","sup",-1);return token_sc.markup="^",state.pos=state.posMax+1,state.posMax=max,!0}function sup_plugin(md){md.inline.ruler.after("emphasis","sup",superscript)}const defaultPerf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned$1=new Set,PROCESS=typeof process=="object"&&process?process:{},emitWarning=(msg,type,code,fn)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(msg,type,code,fn):console.error(`[${code}] ${type}: ${msg}`)};let AC=globalThis.AbortController,AS=globalThis.AbortSignal;if(typeof AC>"u"){AS=class{constructor(){__publicField(this,"onabort");__publicField(this,"_onabort",[]);__publicField(this,"reason");__publicField(this,"aborted",!1)}addEventListener(_2,fn){this._onabort.push(fn)}},AC=class{constructor(){__publicField(this,"signal",new AS);warnACPolyfill()}abort(reason){if(!this.signal.aborted){this.signal.reason=reason,this.signal.aborted=!0;for(const fn of this.signal._onabort)fn(reason);this.signal.onabort?.(reason)}}};let printACPolyfillWarning=PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const warnACPolyfill=()=>{printACPolyfillWarning&&(printACPolyfillWarning=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill))}}const shouldWarn=code=>!warned$1.has(code),isPosInt=n2=>n2&&n2===Math.floor(n2)&&n2>0&&isFinite(n2),getUintArray=max=>isPosInt(max)?max<=Math.pow(2,8)?Uint8Array:max<=Math.pow(2,16)?Uint16Array:max<=Math.pow(2,32)?Uint32Array:max<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(size){super(size),this.fill(0)}}var _a,_constructing;let Stack$1=(_a=class{constructor(max,HeapCls){__publicField(this,"heap");__publicField(this,"length");if(!__privateGet(_a,_constructing))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new HeapCls(max),this.length=0}static create(max){const HeapCls=getUintArray(max);if(!HeapCls)return[];__privateSet(_a,_constructing,!0);const s2=new _a(max,HeapCls);return __privateSet(_a,_constructing,!1),s2}push(n2){this.heap[this.length++]=n2}pop(){return this.heap[--this.length]}},_constructing=new WeakMap,__privateAdd(_a,_constructing,!1),_a);var _max,_maxSize,_dispose,_onInsert,_disposeAfter,_fetchMethod,_memoMethod,_perf,_size,_calculatedSize,_keyMap,_keyList,_valList,_next,_prev,_head,_tail,_free,_disposed,_sizes,_starts,_ttls,_hasDispose,_hasFetchMethod,_hasDisposeAfter,_hasOnInsert,_initializeTTLTracking,initializeTTLTracking_fn,_updateItemAge,_statusTTL,_setItemTTL,_isStale,_initializeSizeTracking,initializeSizeTracking_fn,_removeItemSize,_addItemSize,_requireSize,_indexes,indexes_fn,_rindexes,rindexes_fn,_isValidIndex,isValidIndex_fn,_a2,_evict,evict_fn,_backgroundFetch,backgroundFetch_fn,_isBackgroundFetch,isBackgroundFetch_fn,_connect,connect_fn,_moveToTail,moveToTail_fn,_delete,delete_fn,_clear,clear_fn;const _LRUCache=class _LRUCache{constructor(options){__privateAdd(this,_initializeTTLTracking);__privateAdd(this,_initializeSizeTracking);__privateAdd(this,_indexes);__privateAdd(this,_rindexes);__privateAdd(this,_isValidIndex);__privateAdd(this,_evict);__privateAdd(this,_backgroundFetch);__privateAdd(this,_isBackgroundFetch);__privateAdd(this,_connect);__privateAdd(this,_moveToTail);__privateAdd(this,_delete);__privateAdd(this,_clear);__privateAdd(this,_max,void 0);__privateAdd(this,_maxSize,void 0);__privateAdd(this,_dispose,void 0);__privateAdd(this,_onInsert,void 0);__privateAdd(this,_disposeAfter,void 0);__privateAdd(this,_fetchMethod,void 0);__privateAdd(this,_memoMethod,void 0);__privateAdd(this,_perf,void 0);__publicField(this,"ttl");__publicField(this,"ttlResolution");__publicField(this,"ttlAutopurge");__publicField(this,"updateAgeOnGet");__publicField(this,"updateAgeOnHas");__publicField(this,"allowStale");__publicField(this,"noDisposeOnSet");__publicField(this,"noUpdateTTL");__publicField(this,"maxEntrySize");__publicField(this,"sizeCalculation");__publicField(this,"noDeleteOnFetchRejection");__publicField(this,"noDeleteOnStaleGet");__publicField(this,"allowStaleOnFetchAbort");__publicField(this,"allowStaleOnFetchRejection");__publicField(this,"ignoreFetchAbort");__privateAdd(this,_size,void 0);__privateAdd(this,_calculatedSize,void 0);__privateAdd(this,_keyMap,void 0);__privateAdd(this,_keyList,void 0);__privateAdd(this,_valList,void 0);__privateAdd(this,_next,void 0);__privateAdd(this,_prev,void 0);__privateAdd(this,_head,void 0);__privateAdd(this,_tail,void 0);__privateAdd(this,_free,void 0);__privateAdd(this,_disposed,void 0);__privateAdd(this,_sizes,void 0);__privateAdd(this,_starts,void 0);__privateAdd(this,_ttls,void 0);__privateAdd(this,_hasDispose,void 0);__privateAdd(this,_hasFetchMethod,void 0);__privateAdd(this,_hasDisposeAfter,void 0);__privateAdd(this,_hasOnInsert,void 0);__privateAdd(this,_updateItemAge,()=>{});__privateAdd(this,_statusTTL,()=>{});__privateAdd(this,_setItemTTL,()=>{});__privateAdd(this,_isStale,()=>!1);__privateAdd(this,_removeItemSize,_i=>{});__privateAdd(this,_addItemSize,(_i,_s,_st)=>{});__privateAdd(this,_requireSize,(_k,_v,size,sizeCalculation)=>{if(size||sizeCalculation)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});__publicField(this,_a2,"LRUCache");const{max=0,ttl,ttlResolution=1,ttlAutopurge,updateAgeOnGet,updateAgeOnHas,allowStale,dispose,onInsert,disposeAfter,noDisposeOnSet,noUpdateTTL,maxSize=0,maxEntrySize=0,sizeCalculation,fetchMethod,memoMethod,noDeleteOnFetchRejection,noDeleteOnStaleGet,allowStaleOnFetchRejection,allowStaleOnFetchAbort,ignoreFetchAbort,perf}=options;if(perf!==void 0&&typeof perf?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(__privateSet(this,_perf,perf??defaultPerf),max!==0&&!isPosInt(max))throw new TypeError("max option must be a nonnegative integer");const UintArray=max?getUintArray(max):Array;if(!UintArray)throw new Error("invalid max value: "+max);if(__privateSet(this,_max,max),__privateSet(this,_maxSize,maxSize),this.maxEntrySize=maxEntrySize||__privateGet(this,_maxSize),this.sizeCalculation=sizeCalculation,this.sizeCalculation){if(!__privateGet(this,_maxSize)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(memoMethod!==void 0&&typeof memoMethod!="function")throw new TypeError("memoMethod must be a function if defined");if(__privateSet(this,_memoMethod,memoMethod),fetchMethod!==void 0&&typeof fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(__privateSet(this,_fetchMethod,fetchMethod),__privateSet(this,_hasFetchMethod,!!fetchMethod),__privateSet(this,_keyMap,new Map),__privateSet(this,_keyList,new Array(max).fill(void 0)),__privateSet(this,_valList,new Array(max).fill(void 0)),__privateSet(this,_next,new UintArray(max)),__privateSet(this,_prev,new UintArray(max)),__privateSet(this,_head,0),__privateSet(this,_tail,0),__privateSet(this,_free,Stack$1.create(max)),__privateSet(this,_size,0),__privateSet(this,_calculatedSize,0),typeof dispose=="function"&&__privateSet(this,_dispose,dispose),typeof onInsert=="function"&&__privateSet(this,_onInsert,onInsert),typeof disposeAfter=="function"?(__privateSet(this,_disposeAfter,disposeAfter),__privateSet(this,_disposed,[])):(__privateSet(this,_disposeAfter,void 0),__privateSet(this,_disposed,void 0)),__privateSet(this,_hasDispose,!!__privateGet(this,_dispose)),__privateSet(this,_hasOnInsert,!!__privateGet(this,_onInsert)),__privateSet(this,_hasDisposeAfter,!!__privateGet(this,_disposeAfter)),this.noDisposeOnSet=!!noDisposeOnSet,this.noUpdateTTL=!!noUpdateTTL,this.noDeleteOnFetchRejection=!!noDeleteOnFetchRejection,this.allowStaleOnFetchRejection=!!allowStaleOnFetchRejection,this.allowStaleOnFetchAbort=!!allowStaleOnFetchAbort,this.ignoreFetchAbort=!!ignoreFetchAbort,this.maxEntrySize!==0){if(__privateGet(this,_maxSize)!==0&&!isPosInt(__privateGet(this,_maxSize)))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");__privateMethod(this,_initializeSizeTracking,initializeSizeTracking_fn).call(this)}if(this.allowStale=!!allowStale,this.noDeleteOnStaleGet=!!noDeleteOnStaleGet,this.updateAgeOnGet=!!updateAgeOnGet,this.updateAgeOnHas=!!updateAgeOnHas,this.ttlResolution=isPosInt(ttlResolution)||ttlResolution===0?ttlResolution:1,this.ttlAutopurge=!!ttlAutopurge,this.ttl=ttl||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");__privateMethod(this,_initializeTTLTracking,initializeTTLTracking_fn).call(this)}if(__privateGet(this,_max)===0&&this.ttl===0&&__privateGet(this,_maxSize)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!__privateGet(this,_max)&&!__privateGet(this,_maxSize)){const code="LRU_CACHE_UNBOUNDED";shouldWarn(code)&&(warned$1.add(code),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",code,_LRUCache))}}get perf(){return __privateGet(this,_perf)}static unsafeExposeInternals(c2){return{starts:__privateGet(c2,_starts),ttls:__privateGet(c2,_ttls),sizes:__privateGet(c2,_sizes),keyMap:__privateGet(c2,_keyMap),keyList:__privateGet(c2,_keyList),valList:__privateGet(c2,_valList),next:__privateGet(c2,_next),prev:__privateGet(c2,_prev),get head(){return __privateGet(c2,_head)},get tail(){return __privateGet(c2,_tail)},free:__privateGet(c2,_free),isBackgroundFetch:p2=>{var _a4;return __privateMethod(_a4=c2,_isBackgroundFetch,isBackgroundFetch_fn).call(_a4,p2)},backgroundFetch:(k2,index2,options,context)=>{var _a4;return __privateMethod(_a4=c2,_backgroundFetch,backgroundFetch_fn).call(_a4,k2,index2,options,context)},moveToTail:index2=>{var _a4;return __privateMethod(_a4=c2,_moveToTail,moveToTail_fn).call(_a4,index2)},indexes:options=>{var _a4;return __privateMethod(_a4=c2,_indexes,indexes_fn).call(_a4,options)},rindexes:options=>{var _a4;return __privateMethod(_a4=c2,_rindexes,rindexes_fn).call(_a4,options)},isStale:index2=>{var _a4;return __privateGet(_a4=c2,_isStale).call(_a4,index2)}}}get max(){return __privateGet(this,_max)}get maxSize(){return __privateGet(this,_maxSize)}get calculatedSize(){return __privateGet(this,_calculatedSize)}get size(){return __privateGet(this,_size)}get fetchMethod(){return __privateGet(this,_fetchMethod)}get memoMethod(){return __privateGet(this,_memoMethod)}get dispose(){return __privateGet(this,_dispose)}get onInsert(){return __privateGet(this,_onInsert)}get disposeAfter(){return __privateGet(this,_disposeAfter)}getRemainingTTL(key){return __privateGet(this,_keyMap).has(key)?1/0:0}*entries(){for(const i of __privateMethod(this,_indexes,indexes_fn).call(this))__privateGet(this,_valList)[i]!==void 0&&__privateGet(this,_keyList)[i]!==void 0&&!__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,__privateGet(this,_valList)[i])&&(yield[__privateGet(this,_keyList)[i],__privateGet(this,_valList)[i]])}*rentries(){for(const i of __privateMethod(this,_rindexes,rindexes_fn).call(this))__privateGet(this,_valList)[i]!==void 0&&__privateGet(this,_keyList)[i]!==void 0&&!__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,__privateGet(this,_valList)[i])&&(yield[__privateGet(this,_keyList)[i],__privateGet(this,_valList)[i]])}*keys(){for(const i of __privateMethod(this,_indexes,indexes_fn).call(this)){const k2=__privateGet(this,_keyList)[i];k2!==void 0&&!__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,__privateGet(this,_valList)[i])&&(yield k2)}}*rkeys(){for(const i of __privateMethod(this,_rindexes,rindexes_fn).call(this)){const k2=__privateGet(this,_keyList)[i];k2!==void 0&&!__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,__privateGet(this,_valList)[i])&&(yield k2)}}*values(){for(const i of __privateMethod(this,_indexes,indexes_fn).call(this))__privateGet(this,_valList)[i]!==void 0&&!__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,__privateGet(this,_valList)[i])&&(yield __privateGet(this,_valList)[i])}*rvalues(){for(const i of __privateMethod(this,_rindexes,rindexes_fn).call(this))__privateGet(this,_valList)[i]!==void 0&&!__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,__privateGet(this,_valList)[i])&&(yield __privateGet(this,_valList)[i])}[Symbol.iterator](){return this.entries()}find(fn,getOptions={}){for(const i of __privateMethod(this,_indexes,indexes_fn).call(this)){const v2=__privateGet(this,_valList)[i],value=__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__staleWhileFetching:v2;if(value!==void 0&&fn(value,__privateGet(this,_keyList)[i],this))return this.get(__privateGet(this,_keyList)[i],getOptions)}}forEach(fn,thisp=this){for(const i of __privateMethod(this,_indexes,indexes_fn).call(this)){const v2=__privateGet(this,_valList)[i],value=__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__staleWhileFetching:v2;value!==void 0&&fn.call(thisp,value,__privateGet(this,_keyList)[i],this)}}rforEach(fn,thisp=this){for(const i of __privateMethod(this,_rindexes,rindexes_fn).call(this)){const v2=__privateGet(this,_valList)[i],value=__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__staleWhileFetching:v2;value!==void 0&&fn.call(thisp,value,__privateGet(this,_keyList)[i],this)}}purgeStale(){let deleted=!1;for(const i of __privateMethod(this,_rindexes,rindexes_fn).call(this,{allowStale:!0}))__privateGet(this,_isStale).call(this,i)&&(__privateMethod(this,_delete,delete_fn).call(this,__privateGet(this,_keyList)[i],"expire"),deleted=!0);return deleted}info(key){const i=__privateGet(this,_keyMap).get(key);if(i===void 0)return;const v2=__privateGet(this,_valList)[i],value=__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__staleWhileFetching:v2;if(value===void 0)return;const entry={value};if(__privateGet(this,_ttls)&&__privateGet(this,_starts)){const ttl=__privateGet(this,_ttls)[i],start=__privateGet(this,_starts)[i];if(ttl&&start){const remain=ttl-(__privateGet(this,_perf).now()-start);entry.ttl=remain,entry.start=Date.now()}}return __privateGet(this,_sizes)&&(entry.size=__privateGet(this,_sizes)[i]),entry}dump(){const arr=[];for(const i of __privateMethod(this,_indexes,indexes_fn).call(this,{allowStale:!0})){const key=__privateGet(this,_keyList)[i],v2=__privateGet(this,_valList)[i],value=__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__staleWhileFetching:v2;if(value===void 0||key===void 0)continue;const entry={value};if(__privateGet(this,_ttls)&&__privateGet(this,_starts)){entry.ttl=__privateGet(this,_ttls)[i];const age=__privateGet(this,_perf).now()-__privateGet(this,_starts)[i];entry.start=Math.floor(Date.now()-age)}__privateGet(this,_sizes)&&(entry.size=__privateGet(this,_sizes)[i]),arr.unshift([key,entry])}return arr}load(arr){this.clear();for(const[key,entry]of arr){if(entry.start){const age=Date.now()-entry.start;entry.start=__privateGet(this,_perf).now()-age}this.set(key,entry.value,entry)}}set(k2,v2,setOptions={}){var _a4,_b,_c,_d;if(v2===void 0)return this.delete(k2),this;const{ttl=this.ttl,start,noDisposeOnSet=this.noDisposeOnSet,sizeCalculation=this.sizeCalculation,status}=setOptions;let{noUpdateTTL=this.noUpdateTTL}=setOptions;const size=__privateGet(this,_requireSize).call(this,k2,v2,setOptions.size||0,sizeCalculation);if(this.maxEntrySize&&size>this.maxEntrySize)return status&&(status.set="miss",status.maxEntrySizeExceeded=!0),__privateMethod(this,_delete,delete_fn).call(this,k2,"set"),this;let index2=__privateGet(this,_size)===0?void 0:__privateGet(this,_keyMap).get(k2);if(index2===void 0)index2=__privateGet(this,_size)===0?__privateGet(this,_tail):__privateGet(this,_free).length!==0?__privateGet(this,_free).pop():__privateGet(this,_size)===__privateGet(this,_max)?__privateMethod(this,_evict,evict_fn).call(this,!1):__privateGet(this,_size),__privateGet(this,_keyList)[index2]=k2,__privateGet(this,_valList)[index2]=v2,__privateGet(this,_keyMap).set(k2,index2),__privateGet(this,_next)[__privateGet(this,_tail)]=index2,__privateGet(this,_prev)[index2]=__privateGet(this,_tail),__privateSet(this,_tail,index2),__privateWrapper(this,_size)._++,__privateGet(this,_addItemSize).call(this,index2,size,status),status&&(status.set="add"),noUpdateTTL=!1,__privateGet(this,_hasOnInsert)&&((_a4=__privateGet(this,_onInsert))==null||_a4.call(this,v2,k2,"add"));else{__privateMethod(this,_moveToTail,moveToTail_fn).call(this,index2);const oldVal=__privateGet(this,_valList)[index2];if(v2!==oldVal){if(__privateGet(this,_hasFetchMethod)&&__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,oldVal)){oldVal.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:s2}=oldVal;s2!==void 0&&!noDisposeOnSet&&(__privateGet(this,_hasDispose)&&((_b=__privateGet(this,_dispose))==null||_b.call(this,s2,k2,"set")),__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)?.push([s2,k2,"set"]))}else noDisposeOnSet||(__privateGet(this,_hasDispose)&&((_c=__privateGet(this,_dispose))==null||_c.call(this,oldVal,k2,"set")),__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)?.push([oldVal,k2,"set"]));if(__privateGet(this,_removeItemSize).call(this,index2),__privateGet(this,_addItemSize).call(this,index2,size,status),__privateGet(this,_valList)[index2]=v2,status){status.set="replace";const oldValue=oldVal&&__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,oldVal)?oldVal.__staleWhileFetching:oldVal;oldValue!==void 0&&(status.oldValue=oldValue)}}else status&&(status.set="update");__privateGet(this,_hasOnInsert)&&this.onInsert?.(v2,k2,v2===oldVal?"update":"replace")}if(ttl!==0&&!__privateGet(this,_ttls)&&__privateMethod(this,_initializeTTLTracking,initializeTTLTracking_fn).call(this),__privateGet(this,_ttls)&&(noUpdateTTL||__privateGet(this,_setItemTTL).call(this,index2,ttl,start),status&&__privateGet(this,_statusTTL).call(this,status,index2)),!noDisposeOnSet&&__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)){const dt2=__privateGet(this,_disposed);let task;for(;task=dt2?.shift();)(_d=__privateGet(this,_disposeAfter))==null||_d.call(this,...task)}return this}pop(){var _a4;try{for(;__privateGet(this,_size);){const val=__privateGet(this,_valList)[__privateGet(this,_head)];if(__privateMethod(this,_evict,evict_fn).call(this,!0),__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,val)){if(val.__staleWhileFetching)return val.__staleWhileFetching}else if(val!==void 0)return val}}finally{if(__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)){const dt2=__privateGet(this,_disposed);let task;for(;task=dt2?.shift();)(_a4=__privateGet(this,_disposeAfter))==null||_a4.call(this,...task)}}}has(k2,hasOptions={}){const{updateAgeOnHas=this.updateAgeOnHas,status}=hasOptions,index2=__privateGet(this,_keyMap).get(k2);if(index2!==void 0){const v2=__privateGet(this,_valList)[index2];if(__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)&&v2.__staleWhileFetching===void 0)return!1;if(__privateGet(this,_isStale).call(this,index2))status&&(status.has="stale",__privateGet(this,_statusTTL).call(this,status,index2));else return updateAgeOnHas&&__privateGet(this,_updateItemAge).call(this,index2),status&&(status.has="hit",__privateGet(this,_statusTTL).call(this,status,index2)),!0}else status&&(status.has="miss");return!1}peek(k2,peekOptions={}){const{allowStale=this.allowStale}=peekOptions,index2=__privateGet(this,_keyMap).get(k2);if(index2===void 0||!allowStale&&__privateGet(this,_isStale).call(this,index2))return;const v2=__privateGet(this,_valList)[index2];return __privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__staleWhileFetching:v2}async fetch(k2,fetchOptions={}){const{allowStale=this.allowStale,updateAgeOnGet=this.updateAgeOnGet,noDeleteOnStaleGet=this.noDeleteOnStaleGet,ttl=this.ttl,noDisposeOnSet=this.noDisposeOnSet,size=0,sizeCalculation=this.sizeCalculation,noUpdateTTL=this.noUpdateTTL,noDeleteOnFetchRejection=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection=this.allowStaleOnFetchRejection,ignoreFetchAbort=this.ignoreFetchAbort,allowStaleOnFetchAbort=this.allowStaleOnFetchAbort,context,forceRefresh=!1,status,signal}=fetchOptions;if(!__privateGet(this,_hasFetchMethod))return status&&(status.fetch="get"),this.get(k2,{allowStale,updateAgeOnGet,noDeleteOnStaleGet,status});const options={allowStale,updateAgeOnGet,noDeleteOnStaleGet,ttl,noDisposeOnSet,size,sizeCalculation,noUpdateTTL,noDeleteOnFetchRejection,allowStaleOnFetchRejection,allowStaleOnFetchAbort,ignoreFetchAbort,status,signal};let index2=__privateGet(this,_keyMap).get(k2);if(index2===void 0){status&&(status.fetch="miss");const p2=__privateMethod(this,_backgroundFetch,backgroundFetch_fn).call(this,k2,index2,options,context);return p2.__returned=p2}else{const v2=__privateGet(this,_valList)[index2];if(__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)){const stale=allowStale&&v2.__staleWhileFetching!==void 0;return status&&(status.fetch="inflight",stale&&(status.returnedStale=!0)),stale?v2.__staleWhileFetching:v2.__returned=v2}const isStale=__privateGet(this,_isStale).call(this,index2);if(!forceRefresh&&!isStale)return status&&(status.fetch="hit"),__privateMethod(this,_moveToTail,moveToTail_fn).call(this,index2),updateAgeOnGet&&__privateGet(this,_updateItemAge).call(this,index2),status&&__privateGet(this,_statusTTL).call(this,status,index2),v2;const p2=__privateMethod(this,_backgroundFetch,backgroundFetch_fn).call(this,k2,index2,options,context),staleVal=p2.__staleWhileFetching!==void 0&&allowStale;return status&&(status.fetch=isStale?"stale":"refresh",staleVal&&isStale&&(status.returnedStale=!0)),staleVal?p2.__staleWhileFetching:p2.__returned=p2}}async forceFetch(k2,fetchOptions={}){const v2=await this.fetch(k2,fetchOptions);if(v2===void 0)throw new Error("fetch() returned undefined");return v2}memo(k2,memoOptions={}){const memoMethod=__privateGet(this,_memoMethod);if(!memoMethod)throw new Error("no memoMethod provided to constructor");const{context,forceRefresh,...options}=memoOptions,v2=this.get(k2,options);if(!forceRefresh&&v2!==void 0)return v2;const vv=memoMethod(k2,v2,{options,context});return this.set(k2,vv,options),vv}get(k2,getOptions={}){const{allowStale=this.allowStale,updateAgeOnGet=this.updateAgeOnGet,noDeleteOnStaleGet=this.noDeleteOnStaleGet,status}=getOptions,index2=__privateGet(this,_keyMap).get(k2);if(index2!==void 0){const value=__privateGet(this,_valList)[index2],fetching=__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,value);return status&&__privateGet(this,_statusTTL).call(this,status,index2),__privateGet(this,_isStale).call(this,index2)?(status&&(status.get="stale"),fetching?(status&&allowStale&&value.__staleWhileFetching!==void 0&&(status.returnedStale=!0),allowStale?value.__staleWhileFetching:void 0):(noDeleteOnStaleGet||__privateMethod(this,_delete,delete_fn).call(this,k2,"expire"),status&&allowStale&&(status.returnedStale=!0),allowStale?value:void 0)):(status&&(status.get="hit"),fetching?value.__staleWhileFetching:(__privateMethod(this,_moveToTail,moveToTail_fn).call(this,index2),updateAgeOnGet&&__privateGet(this,_updateItemAge).call(this,index2),value))}else status&&(status.get="miss")}delete(k2){return __privateMethod(this,_delete,delete_fn).call(this,k2,"delete")}clear(){return __privateMethod(this,_clear,clear_fn).call(this,"delete")}};_a2=Symbol.toStringTag,_max=new WeakMap,_maxSize=new WeakMap,_dispose=new WeakMap,_onInsert=new WeakMap,_disposeAfter=new WeakMap,_fetchMethod=new WeakMap,_memoMethod=new WeakMap,_perf=new WeakMap,_size=new WeakMap,_calculatedSize=new WeakMap,_keyMap=new WeakMap,_keyList=new WeakMap,_valList=new WeakMap,_next=new WeakMap,_prev=new WeakMap,_head=new WeakMap,_tail=new WeakMap,_free=new WeakMap,_disposed=new WeakMap,_sizes=new WeakMap,_starts=new WeakMap,_ttls=new WeakMap,_hasDispose=new WeakMap,_hasFetchMethod=new WeakMap,_hasDisposeAfter=new WeakMap,_hasOnInsert=new WeakMap,_initializeTTLTracking=new WeakSet,initializeTTLTracking_fn=function(){const ttls=new ZeroArray(__privateGet(this,_max)),starts=new ZeroArray(__privateGet(this,_max));__privateSet(this,_ttls,ttls),__privateSet(this,_starts,starts),__privateSet(this,_setItemTTL,(index2,ttl,start=__privateGet(this,_perf).now())=>{if(starts[index2]=ttl!==0?start:0,ttls[index2]=ttl,ttl!==0&&this.ttlAutopurge){const t2=setTimeout(()=>{__privateGet(this,_isStale).call(this,index2)&&__privateMethod(this,_delete,delete_fn).call(this,__privateGet(this,_keyList)[index2],"expire")},ttl+1);t2.unref&&t2.unref()}}),__privateSet(this,_updateItemAge,index2=>{starts[index2]=ttls[index2]!==0?__privateGet(this,_perf).now():0}),__privateSet(this,_statusTTL,(status,index2)=>{if(ttls[index2]){const ttl=ttls[index2],start=starts[index2];if(!ttl||!start)return;status.ttl=ttl,status.start=start,status.now=cachedNow||getNow();const age=status.now-start;status.remainingTTL=ttl-age}});let cachedNow=0;const getNow=()=>{const n2=__privateGet(this,_perf).now();if(this.ttlResolution>0){cachedNow=n2;const t2=setTimeout(()=>cachedNow=0,this.ttlResolution);t2.unref&&t2.unref()}return n2};this.getRemainingTTL=key=>{const index2=__privateGet(this,_keyMap).get(key);if(index2===void 0)return 0;const ttl=ttls[index2],start=starts[index2];if(!ttl||!start)return 1/0;const age=(cachedNow||getNow())-start;return ttl-age},__privateSet(this,_isStale,index2=>{const s2=starts[index2],t2=ttls[index2];return!!t2&&!!s2&&(cachedNow||getNow())-s2>t2})},_updateItemAge=new WeakMap,_statusTTL=new WeakMap,_setItemTTL=new WeakMap,_isStale=new WeakMap,_initializeSizeTracking=new WeakSet,initializeSizeTracking_fn=function(){const sizes=new ZeroArray(__privateGet(this,_max));__privateSet(this,_calculatedSize,0),__privateSet(this,_sizes,sizes),__privateSet(this,_removeItemSize,index2=>{__privateSet(this,_calculatedSize,__privateGet(this,_calculatedSize)-sizes[index2]),sizes[index2]=0}),__privateSet(this,_requireSize,(k2,v2,size,sizeCalculation)=>{if(__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2))return 0;if(!isPosInt(size))if(sizeCalculation){if(typeof sizeCalculation!="function")throw new TypeError("sizeCalculation must be a function");if(size=sizeCalculation(v2,k2),!isPosInt(size))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return size}),__privateSet(this,_addItemSize,(index2,size,status)=>{if(sizes[index2]=size,__privateGet(this,_maxSize)){const maxSize=__privateGet(this,_maxSize)-sizes[index2];for(;__privateGet(this,_calculatedSize)>maxSize;)__privateMethod(this,_evict,evict_fn).call(this,!0)}__privateSet(this,_calculatedSize,__privateGet(this,_calculatedSize)+sizes[index2]),status&&(status.entrySize=size,status.totalCalculatedSize=__privateGet(this,_calculatedSize))})},_removeItemSize=new WeakMap,_addItemSize=new WeakMap,_requireSize=new WeakMap,_indexes=new WeakSet,indexes_fn=function*({allowStale=this.allowStale}={}){if(__privateGet(this,_size))for(let i=__privateGet(this,_tail);!(!__privateMethod(this,_isValidIndex,isValidIndex_fn).call(this,i)||((allowStale||!__privateGet(this,_isStale).call(this,i))&&(yield i),i===__privateGet(this,_head)));)i=__privateGet(this,_prev)[i]},_rindexes=new WeakSet,rindexes_fn=function*({allowStale=this.allowStale}={}){if(__privateGet(this,_size))for(let i=__privateGet(this,_head);!(!__privateMethod(this,_isValidIndex,isValidIndex_fn).call(this,i)||((allowStale||!__privateGet(this,_isStale).call(this,i))&&(yield i),i===__privateGet(this,_tail)));)i=__privateGet(this,_next)[i]},_isValidIndex=new WeakSet,isValidIndex_fn=function(index2){return index2!==void 0&&__privateGet(this,_keyMap).get(__privateGet(this,_keyList)[index2])===index2},_evict=new WeakSet,evict_fn=function(free){var _a4;const head=__privateGet(this,_head),k2=__privateGet(this,_keyList)[head],v2=__privateGet(this,_valList)[head];return __privateGet(this,_hasFetchMethod)&&__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__abortController.abort(new Error("evicted")):(__privateGet(this,_hasDispose)||__privateGet(this,_hasDisposeAfter))&&(__privateGet(this,_hasDispose)&&((_a4=__privateGet(this,_dispose))==null||_a4.call(this,v2,k2,"evict")),__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)?.push([v2,k2,"evict"])),__privateGet(this,_removeItemSize).call(this,head),free&&(__privateGet(this,_keyList)[head]=void 0,__privateGet(this,_valList)[head]=void 0,__privateGet(this,_free).push(head)),__privateGet(this,_size)===1?(__privateSet(this,_head,__privateSet(this,_tail,0)),__privateGet(this,_free).length=0):__privateSet(this,_head,__privateGet(this,_next)[head]),__privateGet(this,_keyMap).delete(k2),__privateWrapper(this,_size)._--,head},_backgroundFetch=new WeakSet,backgroundFetch_fn=function(k2,index2,options,context){const v2=index2===void 0?void 0:__privateGet(this,_valList)[index2];if(__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2))return v2;const ac=new AC,{signal}=options;signal?.addEventListener("abort",()=>ac.abort(signal.reason),{signal:ac.signal});const fetchOpts={signal:ac.signal,options,context},cb=(v3,updateCache=!1)=>{const{aborted}=ac.signal,ignoreAbort=options.ignoreFetchAbort&&v3!==void 0;if(options.status&&(aborted&&!updateCache?(options.status.fetchAborted=!0,options.status.fetchError=ac.signal.reason,ignoreAbort&&(options.status.fetchAbortIgnored=!0)):options.status.fetchResolved=!0),aborted&&!ignoreAbort&&!updateCache)return fetchFail(ac.signal.reason);const bf2=p2,vl2=__privateGet(this,_valList)[index2];return(vl2===p2||ignoreAbort&&updateCache&&vl2===void 0)&&(v3===void 0?bf2.__staleWhileFetching!==void 0?__privateGet(this,_valList)[index2]=bf2.__staleWhileFetching:__privateMethod(this,_delete,delete_fn).call(this,k2,"fetch"):(options.status&&(options.status.fetchUpdated=!0),this.set(k2,v3,fetchOpts.options))),v3},eb=er=>(options.status&&(options.status.fetchRejected=!0,options.status.fetchError=er),fetchFail(er)),fetchFail=er=>{const{aborted}=ac.signal,allowStaleAborted=aborted&&options.allowStaleOnFetchAbort,allowStale=allowStaleAborted||options.allowStaleOnFetchRejection,noDelete=allowStale||options.noDeleteOnFetchRejection,bf2=p2;if(__privateGet(this,_valList)[index2]===p2&&(!noDelete||bf2.__staleWhileFetching===void 0?__privateMethod(this,_delete,delete_fn).call(this,k2,"fetch"):allowStaleAborted||(__privateGet(this,_valList)[index2]=bf2.__staleWhileFetching)),allowStale)return options.status&&bf2.__staleWhileFetching!==void 0&&(options.status.returnedStale=!0),bf2.__staleWhileFetching;if(bf2.__returned===bf2)throw er},pcall=(res,rej)=>{var _a4;const fmp=(_a4=__privateGet(this,_fetchMethod))==null?void 0:_a4.call(this,k2,v2,fetchOpts);fmp&&fmp instanceof Promise&&fmp.then(v3=>res(v3===void 0?void 0:v3),rej),ac.signal.addEventListener("abort",()=>{(!options.ignoreFetchAbort||options.allowStaleOnFetchAbort)&&(res(void 0),options.allowStaleOnFetchAbort&&(res=v3=>cb(v3,!0)))})};options.status&&(options.status.fetchDispatched=!0);const p2=new Promise(pcall).then(cb,eb),bf=Object.assign(p2,{__abortController:ac,__staleWhileFetching:v2,__returned:void 0});return index2===void 0?(this.set(k2,bf,{...fetchOpts.options,status:void 0}),index2=__privateGet(this,_keyMap).get(k2)):__privateGet(this,_valList)[index2]=bf,bf},_isBackgroundFetch=new WeakSet,isBackgroundFetch_fn=function(p2){if(!__privateGet(this,_hasFetchMethod))return!1;const b2=p2;return!!b2&&b2 instanceof Promise&&b2.hasOwnProperty("__staleWhileFetching")&&b2.__abortController instanceof AC},_connect=new WeakSet,connect_fn=function(p2,n2){__privateGet(this,_prev)[n2]=p2,__privateGet(this,_next)[p2]=n2},_moveToTail=new WeakSet,moveToTail_fn=function(index2){index2!==__privateGet(this,_tail)&&(index2===__privateGet(this,_head)?__privateSet(this,_head,__privateGet(this,_next)[index2]):__privateMethod(this,_connect,connect_fn).call(this,__privateGet(this,_prev)[index2],__privateGet(this,_next)[index2]),__privateMethod(this,_connect,connect_fn).call(this,__privateGet(this,_tail),index2),__privateSet(this,_tail,index2))},_delete=new WeakSet,delete_fn=function(k2,reason){var _a4,_b;let deleted=!1;if(__privateGet(this,_size)!==0){const index2=__privateGet(this,_keyMap).get(k2);if(index2!==void 0)if(deleted=!0,__privateGet(this,_size)===1)__privateMethod(this,_clear,clear_fn).call(this,reason);else{__privateGet(this,_removeItemSize).call(this,index2);const v2=__privateGet(this,_valList)[index2];if(__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2)?v2.__abortController.abort(new Error("deleted")):(__privateGet(this,_hasDispose)||__privateGet(this,_hasDisposeAfter))&&(__privateGet(this,_hasDispose)&&((_a4=__privateGet(this,_dispose))==null||_a4.call(this,v2,k2,reason)),__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)?.push([v2,k2,reason])),__privateGet(this,_keyMap).delete(k2),__privateGet(this,_keyList)[index2]=void 0,__privateGet(this,_valList)[index2]=void 0,index2===__privateGet(this,_tail))__privateSet(this,_tail,__privateGet(this,_prev)[index2]);else if(index2===__privateGet(this,_head))__privateSet(this,_head,__privateGet(this,_next)[index2]);else{const pi=__privateGet(this,_prev)[index2];__privateGet(this,_next)[pi]=__privateGet(this,_next)[index2];const ni=__privateGet(this,_next)[index2];__privateGet(this,_prev)[ni]=__privateGet(this,_prev)[index2]}__privateWrapper(this,_size)._--,__privateGet(this,_free).push(index2)}}if(__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)?.length){const dt2=__privateGet(this,_disposed);let task;for(;task=dt2?.shift();)(_b=__privateGet(this,_disposeAfter))==null||_b.call(this,...task)}return deleted},_clear=new WeakSet,clear_fn=function(reason){var _a4,_b;for(const index2 of __privateMethod(this,_rindexes,rindexes_fn).call(this,{allowStale:!0})){const v2=__privateGet(this,_valList)[index2];if(__privateMethod(this,_isBackgroundFetch,isBackgroundFetch_fn).call(this,v2))v2.__abortController.abort(new Error("deleted"));else{const k2=__privateGet(this,_keyList)[index2];__privateGet(this,_hasDispose)&&((_a4=__privateGet(this,_dispose))==null||_a4.call(this,v2,k2,reason)),__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)?.push([v2,k2,reason])}}if(__privateGet(this,_keyMap).clear(),__privateGet(this,_valList).fill(void 0),__privateGet(this,_keyList).fill(void 0),__privateGet(this,_ttls)&&__privateGet(this,_starts)&&(__privateGet(this,_ttls).fill(0),__privateGet(this,_starts).fill(0)),__privateGet(this,_sizes)&&__privateGet(this,_sizes).fill(0),__privateSet(this,_head,0),__privateSet(this,_tail,0),__privateGet(this,_free).length=0,__privateSet(this,_calculatedSize,0),__privateSet(this,_size,0),__privateGet(this,_hasDisposeAfter)&&__privateGet(this,_disposed)){const dt2=__privateGet(this,_disposed);let task;for(;task=dt2?.shift();)(_b=__privateGet(this,_disposeAfter))==null||_b.call(this,...task)}};let LRUCache=_LRUCache;/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},isSupported=function(node){return node.tagName==="IMG"},isNodeList=function(selector){return NodeList.prototype.isPrototypeOf(selector)},isNode=function(selector){return selector&&selector.nodeType===1},isSvg=function(image2){var source=image2.currentSrc||image2.src;return source.substr(-4).toLowerCase()===".svg"},getImagesFromSelector=function(selector){try{return Array.isArray(selector)?selector.filter(isSupported):isNodeList(selector)?[].slice.call(selector).filter(isSupported):isNode(selector)?[selector].filter(isSupported):typeof selector=="string"?[].slice.call(document.querySelectorAll(selector)).filter(isSupported):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},createOverlay=function(background){var overlay=document.createElement("div");return overlay.classList.add("medium-zoom-overlay"),overlay.style.background=background,overlay},cloneTarget=function(template){var _template$getBounding=template.getBoundingClientRect(),top2=_template$getBounding.top,left=_template$getBounding.left,width=_template$getBounding.width,height=_template$getBounding.height,clone=template.cloneNode(),scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,scrollLeft=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return clone.removeAttribute("id"),clone.style.position="absolute",clone.style.top=top2+scrollTop+"px",clone.style.left=left+scrollLeft+"px",clone.style.width=width+"px",clone.style.height=height+"px",clone.style.transform="",clone},createCustomEvent=function(type,params){var eventParams=_extends({bubbles:!1,cancelable:!1,detail:void 0},params);if(typeof window.CustomEvent=="function")return new CustomEvent(type,eventParams);var customEvent=document.createEvent("CustomEvent");return customEvent.initCustomEvent(type,eventParams.bubbles,eventParams.cancelable,eventParams.detail),customEvent},mediumZoom=function mediumZoom2(selector){var options=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Promise2=window.Promise||function(fn){function noop(){}fn(noop,noop)},_handleClick=function(event){var target=event.target;if(target===overlay){close();return}images.indexOf(target)!==-1&&toggle({target})},_handleScroll=function(){if(!(isAnimating||!active.original)){var currentScroll=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(scrollTop-currentScroll)>zoomOptions.scrollOffset&&setTimeout(close,150)}},_handleKeyUp=function(event){var key=event.key||event.keyCode;(key==="Escape"||key==="Esc"||key===27)&&close()},update=function(){var options2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},newOptions=options2;if(options2.background&&(overlay.style.background=options2.background),options2.container&&options2.container instanceof Object&&(newOptions.container=_extends({},zoomOptions.container,options2.container)),options2.template){var template=isNode(options2.template)?options2.template:document.querySelector(options2.template);newOptions.template=template}return zoomOptions=_extends({},zoomOptions,newOptions),images.forEach(function(image2){image2.dispatchEvent(createCustomEvent("medium-zoom:update",{detail:{zoom}}))}),zoom},clone=function(){var options2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return mediumZoom2(_extends({},zoomOptions,options2))},attach=function(){for(var _len=arguments.length,selectors=Array(_len),_key=0;_key<_len;_key++)selectors[_key]=arguments[_key];var newImages=selectors.reduce(function(imagesAccumulator,currentSelector){return[].concat(imagesAccumulator,getImagesFromSelector(currentSelector))},[]);return newImages.filter(function(newImage){return images.indexOf(newImage)===-1}).forEach(function(newImage){images.push(newImage),newImage.classList.add("medium-zoom-image")}),eventListeners.forEach(function(_ref){var type=_ref.type,listener=_ref.listener,options2=_ref.options;newImages.forEach(function(image2){image2.addEventListener(type,listener,options2)})}),zoom},detach=function(){for(var _len2=arguments.length,selectors=Array(_len2),_key2=0;_key2<_len2;_key2++)selectors[_key2]=arguments[_key2];active.zoomed&&close();var imagesToDetach=selectors.length>0?selectors.reduce(function(imagesAccumulator,currentSelector){return[].concat(imagesAccumulator,getImagesFromSelector(currentSelector))},[]):images;return imagesToDetach.forEach(function(image2){image2.classList.remove("medium-zoom-image"),image2.dispatchEvent(createCustomEvent("medium-zoom:detach",{detail:{zoom}}))}),images=images.filter(function(image2){return imagesToDetach.indexOf(image2)===-1}),zoom},on2=function(type,listener){var options2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return images.forEach(function(image2){image2.addEventListener("medium-zoom:"+type,listener,options2)}),eventListeners.push({type:"medium-zoom:"+type,listener,options:options2}),zoom},off=function(type,listener){var options2=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return images.forEach(function(image2){image2.removeEventListener("medium-zoom:"+type,listener,options2)}),eventListeners=eventListeners.filter(function(eventListener){return!(eventListener.type==="medium-zoom:"+type&&eventListener.listener.toString()===listener.toString())}),zoom},open=function(){var _ref2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},target=_ref2.target,_animate=function(){var container={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},viewportWidth=void 0,viewportHeight=void 0;if(zoomOptions.container)if(zoomOptions.container instanceof Object)container=_extends({},container,zoomOptions.container),viewportWidth=container.width-container.left-container.right-zoomOptions.margin*2,viewportHeight=container.height-container.top-container.bottom-zoomOptions.margin*2;else{var zoomContainer=isNode(zoomOptions.container)?zoomOptions.container:document.querySelector(zoomOptions.container),_zoomContainer$getBou=zoomContainer.getBoundingClientRect(),_width=_zoomContainer$getBou.width,_height=_zoomContainer$getBou.height,_left=_zoomContainer$getBou.left,_top=_zoomContainer$getBou.top;container=_extends({},container,{width:_width,height:_height,left:_left,top:_top})}viewportWidth=viewportWidth||container.width-zoomOptions.margin*2,viewportHeight=viewportHeight||container.height-zoomOptions.margin*2;var zoomTarget=active.zoomedHd||active.original,naturalWidth=isSvg(zoomTarget)?viewportWidth:zoomTarget.naturalWidth||viewportWidth,naturalHeight=isSvg(zoomTarget)?viewportHeight:zoomTarget.naturalHeight||viewportHeight,_zoomTarget$getBoundi=zoomTarget.getBoundingClientRect(),top2=_zoomTarget$getBoundi.top,left=_zoomTarget$getBoundi.left,width=_zoomTarget$getBoundi.width,height=_zoomTarget$getBoundi.height,scaleX=Math.min(Math.max(width,naturalWidth),viewportWidth)/width,scaleY=Math.min(Math.max(height,naturalHeight),viewportHeight)/height,scale=Math.min(scaleX,scaleY),translateX=(-left+(viewportWidth-width)/2+zoomOptions.margin+container.left)/scale,translateY=(-top2+(viewportHeight-height)/2+zoomOptions.margin+container.top)/scale,transform="scale("+scale+") translate3d("+translateX+"px, "+translateY+"px, 0)";active.zoomed.style.transform=transform,active.zoomedHd&&(active.zoomedHd.style.transform=transform)};return new Promise2(function(resolve){if(target&&images.indexOf(target)===-1){resolve(zoom);return}var _handleOpenEnd=function _handleOpenEnd2(){isAnimating=!1,active.zoomed.removeEventListener("transitionend",_handleOpenEnd2),active.original.dispatchEvent(createCustomEvent("medium-zoom:opened",{detail:{zoom}})),resolve(zoom)};if(active.zoomed){resolve(zoom);return}if(target)active.original=target;else if(images.length>0){var _images=images;active.original=_images[0]}else{resolve(zoom);return}if(active.original.dispatchEvent(createCustomEvent("medium-zoom:open",{detail:{zoom}})),scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,isAnimating=!0,active.zoomed=cloneTarget(active.original),document.body.appendChild(overlay),zoomOptions.template){var template=isNode(zoomOptions.template)?zoomOptions.template:document.querySelector(zoomOptions.template);active.template=document.createElement("div"),active.template.appendChild(template.content.cloneNode(!0)),document.body.appendChild(active.template)}if(active.original.parentElement&&active.original.parentElement.tagName==="PICTURE"&&active.original.currentSrc&&(active.zoomed.src=active.original.currentSrc),document.body.appendChild(active.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),active.original.classList.add("medium-zoom-image--hidden"),active.zoomed.classList.add("medium-zoom-image--opened"),active.zoomed.addEventListener("click",close),active.zoomed.addEventListener("transitionend",_handleOpenEnd),active.original.getAttribute("data-zoom-src")){active.zoomedHd=active.zoomed.cloneNode(),active.zoomedHd.removeAttribute("srcset"),active.zoomedHd.removeAttribute("sizes"),active.zoomedHd.removeAttribute("loading"),active.zoomedHd.src=active.zoomed.getAttribute("data-zoom-src"),active.zoomedHd.onerror=function(){clearInterval(getZoomTargetSize),console.warn("Unable to reach the zoom image target "+active.zoomedHd.src),active.zoomedHd=null,_animate()};var getZoomTargetSize=setInterval(function(){active.zoomedHd.complete&&(clearInterval(getZoomTargetSize),active.zoomedHd.classList.add("medium-zoom-image--opened"),active.zoomedHd.addEventListener("click",close),document.body.appendChild(active.zoomedHd),_animate())},10)}else if(active.original.hasAttribute("srcset")){active.zoomedHd=active.zoomed.cloneNode(),active.zoomedHd.removeAttribute("sizes"),active.zoomedHd.removeAttribute("loading");var loadEventListener=active.zoomedHd.addEventListener("load",function(){active.zoomedHd.removeEventListener("load",loadEventListener),active.zoomedHd.classList.add("medium-zoom-image--opened"),active.zoomedHd.addEventListener("click",close),document.body.appendChild(active.zoomedHd),_animate()})}else _animate()})},close=function(){return new Promise2(function(resolve){if(isAnimating||!active.original){resolve(zoom);return}var _handleCloseEnd=function _handleCloseEnd2(){active.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(active.zoomed),active.zoomedHd&&document.body.removeChild(active.zoomedHd),document.body.removeChild(overlay),active.zoomed.classList.remove("medium-zoom-image--opened"),active.template&&document.body.removeChild(active.template),isAnimating=!1,active.zoomed.removeEventListener("transitionend",_handleCloseEnd2),active.original.dispatchEvent(createCustomEvent("medium-zoom:closed",{detail:{zoom}})),active.original=null,active.zoomed=null,active.zoomedHd=null,active.template=null,resolve(zoom)};isAnimating=!0,document.body.classList.remove("medium-zoom--opened"),active.zoomed.style.transform="",active.zoomedHd&&(active.zoomedHd.style.transform=""),active.template&&(active.template.style.transition="opacity 150ms",active.template.style.opacity=0),active.original.dispatchEvent(createCustomEvent("medium-zoom:close",{detail:{zoom}})),active.zoomed.addEventListener("transitionend",_handleCloseEnd)})},toggle=function(){var _ref3=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},target=_ref3.target;return active.original?close():open({target})},getOptions=function(){return zoomOptions},getImages=function(){return images},getZoomedImage=function(){return active.original},images=[],eventListeners=[],isAnimating=!1,scrollTop=0,zoomOptions=options,active={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(selector)==="[object Object]"?zoomOptions=selector:(selector||typeof selector=="string")&&attach(selector),zoomOptions=_extends({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},zoomOptions);var overlay=createOverlay(zoomOptions.background);document.addEventListener("click",_handleClick),document.addEventListener("keyup",_handleKeyUp),document.addEventListener("scroll",_handleScroll),window.addEventListener("resize",close);var zoom={open,close,toggle,update,clone,attach,detach,on:on2,off,getOptions,getImages,getZoomedImage};return zoom};function styleInject(css2,ref2){ref2===void 0&&(ref2={});var insertAt=ref2.insertAt;if(!(!css2||typeof document>"u")){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css",insertAt==="top"&&head.firstChild?head.insertBefore(style,head.firstChild):head.appendChild(style),style.styleSheet?style.styleSheet.cssText=css2:style.appendChild(document.createTextNode(css2))}}var css$1=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";styleInject(css$1);const et=mediumZoom,P={hljs:`${p$2}-hljs`,hlcss:`${p$2}-hlCss`,prettier:`${p$2}-prettier`,prettierMD:`${p$2}-prettierMD`,cropperjs:`${p$2}-cropper`,croppercss:`${p$2}-cropperCss`,screenfull:`${p$2}-screenfull`,mermaidM:`${p$2}-mermaid-m`,mermaid:`${p$2}-mermaid`,katexjs:`${p$2}-katex`,katexcss:`${p$2}-katexCss`,echarts:`${p$2}-echarts`},Zt=(e2,t2,r2)=>{const{editorId:n2}=r2,o2=reactive({buildFinished:!1,html:""});watch(()=>e2.modelValue,()=>{o2.buildFinished=!1}),onMounted(()=>{F$1.on(n2,{name:L,callback(m2){o2.buildFinished=!0,o2.html=m2}}),F$1.on(n2,{name:i$3,callback(){const m2=new Promise(d2=>{if(o2.buildFinished)d2(o2.html);else{const c2=i=>{d2(i),F$1.remove(n2,L,c2)};F$1.on(n2,{name:L,callback:c2})}});e2.onSave?e2.onSave(e2.modelValue,m2):t2.emit("onSave",e2.modelValue,m2)}})})},Ie$1=(e2,{editorId:t2,rootRef:r2,setting:n2})=>{const o2=h$2.editorExtensions.highlight,m2=h$2.editorExtensionsAttrs.highlight;provide("editorId",t2),provide("rootRef",r2),provide("theme",computed(()=>e2.theme)),provide("language",computed(()=>e2.language)),provide("highlight",computed(()=>{const{js:c2}=o2,i={...g$5,...o2.css},{js:u2,css:l2={}}=m2||{},a2=e2.codeStyleReverse&&e2.codeStyleReverseList.includes(e2.previewTheme)?"dark":e2.theme,s2=i[e2.codeTheme]?i[e2.codeTheme][a2]:g$5.atom[a2],g2=i[e2.codeTheme]&&l2[e2.codeTheme]?l2[e2.codeTheme][a2]:l2.atom?l2.atom[a2]:{};return{js:{src:c2,...u2},css:{href:s2,...g2}}})),provide("showCodeRowNumber",e2.showCodeRowNumber);const d2=computed(()=>{const c2={...v,...h$2.editorConfig.languageUserDefined};return M$1(u$3(v["en-US"]),c2[e2.language]||{})});return provide("usedLanguageText",d2),provide("previewTheme",computed(()=>e2.previewTheme)),provide("customIcon",computed(()=>e2.customIcon)),provide("setting",computed(()=>n2?{...n2}:{preview:!0,htmlPreview:!1,previewOnly:!1,pageFullscreen:!1,fullscreen:!1})),{editorId:t2}},Jt=(e2,t2)=>(provide("tabWidth",e2.tabWidth),provide("disabled",computed(()=>e2.disabled)),provide("showToolbarName",computed(()=>e2.showToolbarName)),provide("noUploadImg",e2.noUploadImg),provide("tableShape",computed(()=>e2.tableShape)),provide("noPrettier",e2.noPrettier),provide("codeTheme",computed(()=>e2.codeTheme)),provide("updateSetting",t2.updateSetting),provide("catalogVisible",computed(()=>t2.catalogVisible.value)),provide("defToolbars",t2.defToolbars),provide("floatingToolbars",computed(()=>e2.floatingToolbars)),Ie$1(e2,t2)),Xt=e2=>{const{noPrettier:t2,noUploadImg:r2}=e2,{editorExtensions:n2,editorExtensionsAttrs:o2}=h$2,m2=t2||n2.prettier.prettierInstance,d2=t2||n2.prettier.parserMarkdownInstance,c2=r2||n2.cropper.instance;onMounted(()=>{if(!c2){const{js:i={},css:u2={}}=o2.cropper||{};A("link",{...u2,rel:"stylesheet",href:n2.cropper.css,id:P.croppercss}),A("script",{...i,src:n2.cropper.js,id:P.cropperjs})}if(!m2){const{standaloneJs:i={}}=o2.prettier||{};A("script",{...i,src:n2.prettier.standaloneJs,id:P.prettier})}if(!d2){const{parserMarkdownJs:i={}}=o2.prettier||{};A("script",{...i,src:n2.prettier.parserMarkdownJs,id:P.prettierMD})}})},Yt=(e2,t2,r2)=>{const{editorId:n2}=r2;onMounted(()=>{F$1.on(n2,{name:N$1,callback:o2=>{e2.onError?.(o2),t2.emit("onError",o2)}})})},Qt=(e2,t2,r2)=>{const{editorId:n2}=r2,o2=reactive({pageFullscreen:e2.pageFullscreen,fullscreen:!1,preview:e2.preview,htmlPreview:e2.preview?!1:e2.htmlPreview,previewOnly:!1}),m2=reactive({...o2}),d2=(u2,l2)=>{const a2=l2===void 0?!o2[u2]:l2;switch(u2){case"preview":{o2.htmlPreview=!1,o2.previewOnly=!1;break}case"htmlPreview":{o2.preview=!1,o2.previewOnly=!1;break}case"previewOnly":{a2?!o2.preview&&!o2.htmlPreview&&(o2.preview=!0):(m2.preview||(o2.preview=!1),m2.htmlPreview||(o2.htmlPreview=!1));break}}m2[u2]=a2,o2[u2]=a2};let c2="";const i=()=>{o2.pageFullscreen||o2.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=c2};return watch(()=>[o2.pageFullscreen,o2.fullscreen],i),onMounted(()=>{F$1.on(n2,{name:I,callback(u2,l2){const a2=s2=>{F$1.emit(n2,G,"image",{desc:"",urls:s2}),l2?.()};e2.onUploadImg?e2.onUploadImg(u2,a2):t2.emit("onUploadImg",u2,a2)}}),c2=document.body.style.overflow,i()}),[o2,d2]},en=(e2,t2)=>{const{editorId:r2}=t2,n2=ref(!1);return onMounted(()=>{F$1.on(r2,{name:C$1,callback:o2=>{o2===void 0?n2.value=!n2.value:n2.value=o2}})}),n2},tn=(e2,t2,r2)=>{const{editorId:n2,catalogVisible:o2,setting:m2,updateSetting:d2,codeRef:c2}=r2;watch(()=>m2.pageFullscreen,u2=>{F$1.emit(n2,_,u2)}),watch(()=>m2.fullscreen,u2=>{F$1.emit(n2,r$1,u2)}),watch(()=>m2.preview,u2=>{F$1.emit(n2,A$1,u2)}),watch(()=>m2.previewOnly,u2=>{F$1.emit(n2,R$1,u2)}),watch(()=>m2.htmlPreview,u2=>{F$1.emit(n2,p$1,u2)}),watch(o2,u2=>{F$1.emit(n2,g$3,u2)});const i={on(u2,l2){switch(u2){case"pageFullscreen":{F$1.on(n2,{name:_,callback(a2){l2(a2)}});break}case"fullscreen":{F$1.on(n2,{name:r$1,callback(a2){l2(a2)}});break}case"preview":{F$1.on(n2,{name:A$1,callback(a2){l2(a2)}});break}case"previewOnly":{F$1.on(n2,{name:R$1,callback(a2){l2(a2)}});break}case"htmlPreview":{F$1.on(n2,{name:p$1,callback(a2){l2(a2)}});break}case"catalog":{F$1.on(n2,{name:g$3,callback(a2){l2(a2)}});break}}},togglePageFullscreen(u2){d2("pageFullscreen",u2)},toggleFullscreen(u2){F$1.emit(n2,h,u2)},togglePreview(u2){d2("preview",u2)},togglePreviewOnly(u2){d2("previewOnly",u2)},toggleHtmlPreview(u2){d2("htmlPreview",u2)},toggleCatalog(u2){F$1.emit(n2,C$1,u2)},triggerSave(){F$1.emit(n2,i$3)},insert(u2){F$1.emit(n2,G,"universal",{generate:u2})},focus(u2){c2.value?.focus(u2)},rerender(){F$1.emit(n2,D$1)},getSelectedText(){return c2.value?.getSelectedText()},resetHistory(){c2.value?.resetHistory()},domEventHandlers(u2){F$1.emit(n2,V$1,u2)},execCommand(u2){F$1.emit(n2,G,u2)},getEditorView(){return c2.value?.getEditorView()}};t2.expose(i)},tt=e2=>{const t2=useId();return e2.id||e2.editorId||`${p$2}-${t2}`},nt=(e2,t2,r2)=>{const n2=inject("editorId"),o2=inject("rootRef"),m2=inject("usedLanguageText"),d2=inject("setting"),c2=()=>{o2.value.querySelectorAll(`#${n2} .${p$2}-preview .${p$2}-code`).forEach(l2=>{let a2=-1;const s2=l2.querySelector(`.${p$2}-copy-button:not([data-processed])`);s2&&(s2.onclick=g2=>{g2.preventDefault(),clearTimeout(a2);const p2=(l2.querySelector("input:checked + pre code")||l2.querySelector("pre code")).textContent,{text:b2,successTips:S2,failTips:v2}=m2.value.copyCode;let C2=S2;copy2Clipboard(e2.formatCopiedText(p2||"")).catch(()=>{C2=v2}).finally(()=>{s2.dataset.isIcon?s2.dataset.tips=C2:s2.innerHTML=C2,a2=window.setTimeout(()=>{s2.dataset.isIcon?s2.dataset.tips=b2:s2.innerHTML=b2},1500)})},s2.setAttribute("data-processed","true"))})},i=()=>{nextTick(c2)},u2=l2=>{l2&&nextTick(c2)};watch([t2,r2],i),watch(()=>d2.value.preview,u2),watch(()=>d2.value.htmlPreview,u2),onMounted(c2)},ot=e2=>{const t2=inject("editorId"),r2=inject("theme"),n2=inject("rootRef"),{editorExtensions:o2,editorExtensionsAttrs:m2}=h$2;let d2=o2.echarts.instance;const c2=shallowRef(-1),i=()=>{!e2.noEcharts&&d2&&(c2.value=c2.value+1)};watch(()=>r2.value,()=>{i()}),onMounted(()=>{if(e2.noEcharts||d2)return;const f2=o2.echarts.js;A("script",{...m2.echarts?.js,src:f2,id:P.echarts,onload(){d2=window.echarts,i()}},"echarts")});let u2=[],l2=[],a2=[];const s2=(f2=!1)=>{if(!u2.length){f2&&(l2.forEach(v2=>{v2.dispose?.()}),a2.forEach(v2=>{v2.disconnect?.()}),l2=[],a2=[]);return}const p2=[],b2=[],S2=[];u2.forEach((v2,C2)=>{const x2=l2[C2],w2=a2[C2];if(f2||!v2||!v2.isConnected||n2?.value&&!n2.value.contains(v2)){x2?.dispose?.(),w2?.disconnect?.();return}p2.push(v2),x2&&b2.push(x2),w2&&S2.push(w2)}),u2=p2,l2=b2,a2=S2},g2=()=>{s2(),!e2.noEcharts&&d2&&Array.from(n2.value.querySelectorAll(`#${t2} div.${p$2}-echarts:not([data-processed])`)).forEach(p2=>{if(p2.dataset.closed==="false")return!1;try{const b2=new Function(`return ${p2.innerText}`)(),S2=d2.init(p2,r2.value);S2.setOption(b2),p2.setAttribute("data-processed",""),u2.push(p2),l2.push(S2);const v2=new ResizeObserver(()=>{S2.resize()});v2.observe(p2),a2.push(v2)}catch(b2){F$1.emit(t2,N$1,{name:"echarts",message:b2?.message,error:b2})}})};return onBeforeUnmount(()=>{s2(!0)}),{reRenderEcharts:c2,replaceEcharts:g2}},at=e2=>{const t2=inject("highlight"),r2=shallowRef(h$2.editorExtensions.highlight.instance);return onMounted(()=>{e2.noHighlight||r2.value||(A("link",{...t2.value.css,rel:"stylesheet",id:P.hlcss}),A("script",{...t2.value.js,id:P.hljs,onload(){r2.value=window.hljs}},"hljs"))}),watch(()=>t2.value.css,()=>{e2.noHighlight||h$2.editorExtensions.highlight.instance||b("link",{...t2.value.css,rel:"stylesheet",id:P.hlcss})}),r2},rt=e2=>{const t2=shallowRef(h$2.editorExtensions.katex.instance);return onMounted(()=>{if(e2.noKatex||t2.value)return;const{editorExtensions:r2,editorExtensionsAttrs:n2}=h$2;A("script",{...n2.katex?.js,src:r2.katex.js,id:P.katexjs,onload(){t2.value=window.katex}},"katex"),A("link",{...n2.katex?.css,rel:"stylesheet",href:r2.katex.css,id:P.katexcss})}),t2},Y$1=new LRUCache({max:1e3,ttl:6e5}),lt$1=e2=>{const t2=inject("editorId"),r2=inject("theme"),n2=inject("rootRef"),{editorExtensions:o2,editorExtensionsAttrs:m2,mermaidConfig:d2}=h$2;let c2=o2.mermaid.instance;const i=shallowRef(-1),u2=()=>{!e2.noMermaid&&c2&&(c2.initialize(d2({startOnLoad:!1,theme:r2.value==="dark"?"dark":"default"})),i.value=i.value+1)};return watch(()=>r2.value,()=>{Y$1.clear(),u2()}),onMounted(()=>{if(e2.noMermaid||c2)return;const a2=o2.mermaid.js;/\.mjs/.test(a2)?(A("link",{...m2.mermaid?.js,rel:"modulepreload",href:a2,id:P.mermaidM}),__vitePreload(()=>import(a2),[]).then(s2=>{c2=s2.default,u2()}).catch(s2=>{F$1.emit(t2,N$1,{name:"mermaid",message:`Failed to load mermaid module: ${s2.message}`,error:s2})})):A("script",{...m2.mermaid?.js,src:a2,id:P.mermaid,onload(){c2=window.mermaid,u2()}},"mermaid")}),{reRenderRef:i,replaceMermaid:async()=>{if(!e2.noMermaid&&c2){const a2=n2.value.querySelectorAll(`div.${p$2}-mermaid`),s2=document.createElement("div"),g2=document.body.offsetWidth>1366?document.body.offsetWidth:1366,f2=document.body.offsetHeight>768?document.body.offsetHeight:768;s2.style.width=g2+"px",s2.style.height=f2+"px",s2.style.position="fixed",s2.style.zIndex="-10000",s2.style.top="-10000";let p2=a2.length;p2>0&&document.body.appendChild(s2),await Promise.allSettled(Array.from(a2).map(b2=>(async v2=>{if(v2.dataset.closed==="false")return!1;const C2=v2.innerText;let x2=Y$1.get(C2);if(!x2){const w2=U();let H2={svg:""};try{H2=await c2.render(w2,C2,s2),x2=await e2.sanitizeMermaid(H2.svg);const I2=document.createElement("p");I2.className=`${p$2}-mermaid`,I2.setAttribute("data-processed",""),I2.setAttribute("data-content",C2),I2.innerHTML=x2,I2.children[0]?.removeAttribute("height"),Y$1.set(C2,I2.innerHTML),v2.dataset.line!==void 0&&(I2.dataset.line=v2.dataset.line),v2.replaceWith(I2)}catch(I2){F$1.emit(t2,N$1,{name:"mermaid",message:I2.message,error:I2})}--p2===0&&s2.remove()}})(b2)))}}}},it=(e2,t2)=>{t2=t2||{};const r2=3,n2=t2.marker||"!",o2=n2.charCodeAt(0),m2=n2.length;let d2="",c2="";const i=(l2,a2,s2,g2,f2)=>{const p2=l2[a2];return p2.type==="admonition_open"?l2[a2].attrPush(["class",`${p$2}-admonition ${p$2}-admonition-${p2.info}`]):p2.type==="admonition_title_open"&&l2[a2].attrPush(["class",`${p$2}-admonition-title`]),f2.renderToken(l2,a2,s2)},u2=l2=>{const a2=l2.trim().split(" ",2);c2="",d2=a2[0],a2.length>1&&(c2=l2.substring(d2.length+2))};e2.block.ruler.before("code","admonition",(l2,a2,s2,g2)=>{let f2,p2,b2,S2=!1,v2=l2.bMarks[a2]+l2.tShift[a2],C2=l2.eMarks[a2];if(o2!==l2.src.charCodeAt(v2))return!1;for(f2=v2+1;f2<=C2&&n2[(f2-v2)%m2]===l2.src[f2];f2++);const x2=Math.floor((f2-v2)/m2);if(x2!==r2)return!1;f2-=(f2-v2)%m2;const w2=l2.src.slice(v2,f2),H2=l2.src.slice(f2,C2);if(u2(H2),g2)return!0;for(p2=a2;p2++,!(p2>=s2||(v2=l2.bMarks[p2]+l2.tShift[p2],C2=l2.eMarks[p2],v2<C2&&l2.sCount[p2]<l2.blkIndent));)if(o2===l2.src.charCodeAt(v2)&&!(l2.sCount[p2]-l2.blkIndent>=4)){for(f2=v2+1;f2<=C2&&n2[(f2-v2)%m2]===l2.src[f2];f2++);if(!(Math.floor((f2-v2)/m2)<x2)&&(f2-=(f2-v2)%m2,f2=l2.skipSpaces(f2),!(f2<C2))){S2=!0;break}}const I2=l2.parentType,_2=l2.lineMax;return l2.parentType="root",l2.lineMax=p2,b2=l2.push("admonition_open","div",1),b2.markup=w2,b2.block=!0,b2.info=d2,b2.map=[a2,p2],c2&&(b2=l2.push("admonition_title_open","p",1),b2.markup=w2+" "+d2,b2.map=[a2,p2],b2=l2.push("inline","",0),b2.content=c2,b2.map=[a2,l2.line-1],b2.children=[],b2=l2.push("admonition_title_close","p",-1),b2.markup=w2+" "+d2),l2.md.block.tokenize(l2,a2+1,p2),b2=l2.push("admonition_close","div",-1),b2.markup=l2.src.slice(v2,f2),b2.block=!0,l2.parentType=I2,l2.lineMax=_2,l2.line=p2+(S2?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e2.renderer.rules.admonition_open=i,e2.renderer.rules.admonition_title_open=i,e2.renderer.rules.admonition_title_close=i,e2.renderer.rules.admonition_close=i},ee$1=(e2,t2)=>{const r2=e2.attrs?e2.attrs.slice():[];return t2.forEach(n2=>{const o2=e2.attrIndex(n2[0]);o2<0?r2.push(n2):(r2[o2]=r2[o2].slice(),r2[o2][1]+=` ${n2[1]}`)}),r2},st=(e2,t2)=>{const r2=e2.renderer.rules.fence,n2=e2.utils.unescapeAll,o2=/\[(\w*)(?::([\w ]*))?\]/,m2=/::(open|close)/,d2=a2=>a2.info?n2(a2.info).trim():"",c2=a2=>{const s2=d2(a2),[g2=null,f2=""]=(o2.exec(s2)||[]).slice(1);return[g2,f2]},i=a2=>{const s2=d2(a2);return s2?s2.split(/(\s+)/g)[0]:""},u2=a2=>{const s2=a2.info.match(m2)||[],g2=s2[1]==="open"||s2[1]!=="close"&&t2.codeFoldable&&a2.content.trim().split(`
`).length<t2.autoFoldThreshold,f2=s2[1]||t2.codeFoldable?"details":"div",p2=s2[1]||t2.codeFoldable?"summary":"div";return{open:g2,tagContainer:f2,tagHeader:p2}},l2=(a2,s2,g2,f2,p$12)=>{if(a2[s2].hidden)return"";const b2=t2.usedLanguageTextRef.value?.copyCode.text,S2=t2.customIconRef.value.copy||b2,v2=!!t2.customIconRef.value.copy,C2=`<span class="${p$2}-collapse-tips">${p("collapse-tips",t2.customIconRef.value)}</span>`,[x2]=c2(a2[s2]);if(x2===null){const{open:E2,tagContainer:F2,tagHeader:J2}=u2(a2[s2]),j2=[["class",`${p$2}-code`]];E2&&j2.push(["open",""]);const oe2={attrs:ee$1(a2[s2],j2)};a2[s2].info=a2[s2].info.replace(m2,"");const W2=r2(a2,s2,g2,f2,p$12);return`
        <${F2} ${p$12.renderAttrs(oe2)}>
          <${J2} class="${p$2}-code-head">
            <div class="${p$2}-code-flag"><span></span><span></span><span></span></div>
            <div class="${p$2}-code-action">
              <span class="${p$2}-code-lang">${e2.utils.escapeHtml(a2[s2].info.trim())}</span>
              <span class="${p$2}-copy-button" data-tips="${b2}"${v2?" data-is-icon=true":""}>${S2}</span>
              ${t2.extraTools instanceof Function?t2.extraTools({lang:a2[s2].info.trim()}):t2.extraTools||""}
              ${F2==="details"?C2:""}
            </div>
          </${J2}>
          ${W2}
        </${F2}>
      `}let w2,H2,I2,_2,N2="",B2="",D2="";const{open:q,tagContainer:V2,tagHeader:z2}=u2(a2[s2]),K2=[["class",`${p$2}-code`]];q&&K2.push(["open",""]);const Z2={attrs:ee$1(a2[s2],K2)};for(let E2=s2;E2<a2.length&&(w2=a2[E2],[H2,I2]=c2(w2),H2===x2);E2++){w2.info=w2.info.replace(o2,"").replace(m2,""),w2.hidden=!0;const F2=`${p$2}-codetab-${t2.editorId}-${s2}-${E2-s2}`;_2=E2-s2>0?"":"checked",N2+=`
        <li>
          <input
            type="radio"
            id="label-${p$2}-codetab-label-1-${t2.editorId}-${s2}-${E2-s2}"
            name="${p$2}-codetab-label-${t2.editorId}-${s2}"
            class="${F2}"
            ${_2}
          >
          <label
            for="label-${p$2}-codetab-label-1-${t2.editorId}-${s2}-${E2-s2}"
            onclick="this.getRootNode().querySelectorAll('.${F2}').forEach(e => e.click())"
          >
            ${e2.utils.escapeHtml(I2||i(w2))}
          </label>
        </li>`,B2+=`
        <div role="tabpanel">
          <input
            type="radio"
            name="${p$2}-codetab-pre-${t2.editorId}-${s2}"
            class="${F2}"
            ${_2}
            role="presentation">
          ${r2(a2,E2,g2,f2,p$12)}
        </div>`,D2+=`
        <input
          type="radio"
          name="${p$2}-codetab-lang-${t2.editorId}-${s2}"
          class="${F2}"
          ${_2}
          role="presentation">
        <span class=${p$2}-code-lang role="note">${e2.utils.escapeHtml(i(w2))}</span>`}return`
      <${V2} ${p$12.renderAttrs(Z2)}>
        <${z2} class="${p$2}-code-head">
          <div class="${p$2}-code-flag">
            <ul class="${p$2}-codetab-label" role="tablist">${N2}</ul>
          </div>
          <div class="${p$2}-code-action">
            <span class="${p$2}-codetab-lang">${D2}</span>
            <span class="${p$2}-copy-button" data-tips="${b2}"${v2?" data-is-icon=true":""}>${S2}</span>
            ${t2.extraTools instanceof Function?t2.extraTools({lang:a2[s2].info.trim()}):t2.extraTools||""}
            ${V2==="details"?C2:""}
          </div>
        </${z2}>
        ${B2}
      </${V2}>
    `};e2.renderer.rules.fence=l2,e2.renderer.rules.code_block=l2},ct=(e2,t2)=>{const r2=e2.renderer.rules.fence.bind(e2.renderer.rules);e2.renderer.rules.fence=(n2,o2,m2,d2,c2)=>{const i=n2[o2],u2=i.content.trim();if(i.info==="echarts"){if(i.attrSet("class",`${p$2}-echarts`),i.attrSet("data-echarts-theme",t2.themeRef.value),i.map&&i.level===0){const l2=i.map[1]-1,s2=!!d2.srcLines[l2]?.trim()?.startsWith("```");i.attrSet("data-closed",`${s2}`),i.attrSet("data-line",String(i.map[0]))}return`<div ${c2.renderAttrs(i)} style="width: 100%; aspect-ratio: 4 / 3;">${e2.utils.escapeHtml(u2)}</div>`}return r2(n2,o2,m2,d2,c2)}},dt=(e2,t2)=>{e2.renderer.rules.heading_open=(r2,n2)=>{const o2=r2[n2],m2=r2[n2+1].children?.reduce((c2,i)=>c2+(["text","code_inline","math_inline"].includes(i.type)&&i.content||""),"")||"",d2=o2.markup.length;return t2.headsRef.value.push({text:m2,level:d2,line:o2.map[0],currentToken:o2,nextToken:r2[n2+1]}),o2.map&&o2.level===0&&o2.attrSet("id",t2.mdHeadingId({text:m2,level:d2,index:t2.headsRef.value.length,currentToken:o2,nextToken:r2[n2+1]})),e2.renderer.renderToken(r2,n2,t2)},e2.renderer.rules.heading_close=(r2,n2,o2,m2,d2)=>d2.renderToken(r2,n2,o2)},be$3={block:[{open:"$$",close:"$$"},{open:"\\[",close:"\\]"}],inline:[{open:"$$",close:"$$"},{open:"$",close:"$"},{open:"\\[",close:"\\]"},{open:"\\(",close:"\\)"}]},ut=e2=>(t2,r2)=>{const n2=e2.delimiters;let o2,m2,d2;for(const c2 of n2)if(t2.src.startsWith(c2.open,t2.pos)){const i=t2.pos+c2.open.length;for(o2=i;(o2=t2.src.indexOf(c2.close,o2))!==-1;){for(d2=o2-1;t2.src[d2]==="\\";)d2-=1;if((o2-d2)%2===1)break;o2+=c2.close.length}if(o2===-1)return r2||(t2.pending+=c2.open),t2.pos=i,!0;if(o2-i===0)return r2||(t2.pending+=c2.open+c2.close),t2.pos=i+c2.close.length,!0;if(!r2){const u2=t2.src.slice(i,o2);m2=t2.push("math_inline","math",0),m2.markup=c2.open,m2.content=u2}return t2.pos=o2+c2.close.length,!0}return!1},mt=e2=>(t2,r2,n2,o2)=>{const m2=e2.delimiters;let d2,c2,i,u2,l2=!1,a2=t2.bMarks[r2]+t2.tShift[r2],s2=t2.eMarks[r2];for(const g2 of m2)if(t2.src.slice(a2,a2+g2.open.length)===g2.open&&t2.src.slice(s2-g2.close.length,s2)===g2.close){if(a2+=g2.open.length,d2=t2.src.slice(a2,s2),o2)return!0;for(d2.trim().slice(-g2.close.length)===g2.close&&(d2=d2.trim().slice(0,-g2.close.length),l2=!0),i=r2;!l2&&(i++,!(i>=n2||(a2=t2.bMarks[i]+t2.tShift[i],s2=t2.eMarks[i],a2<s2&&t2.tShift[i]<t2.blkIndent)));)t2.src.slice(a2,s2).trim().slice(-g2.close.length)===g2.close&&(u2=t2.src.slice(0,s2).lastIndexOf(g2.close),c2=t2.src.slice(a2,u2),l2=!0);t2.line=i+1;const f2=t2.push("math_block","math",0);return f2.block=!0,f2.content=(d2&&d2.trim()?d2+`
`:"")+t2.getLines(r2+1,i,t2.tShift[r2],!0)+(c2&&c2.trim()?c2:""),f2.map=[r2,t2.line],f2.markup=g2.open,!0}return!1},ft=(e2,{katexRef:t2,inlineDelimiters:r2,blockDelimiters:n2})=>{const o2=(d2,c2,i,u2,l2)=>{const a2=d2[c2],s2={attrs:ee$1(a2,[["class",`${p$2}-katex-inline`]])};if(t2.value){const g2=t2.value.renderToString(a2.content,h$2.katexConfig({throwOnError:!1}));return`<span ${l2.renderAttrs(s2)} data-processed>${g2}</span>`}else return`<span ${l2.renderAttrs(s2)}>${a2.content}</span>`},m2=(d2,c2,i,u2,l2)=>{const a2=d2[c2],s2={attrs:ee$1(a2,[["class",`${p$2}-katex-block`]])};if(t2.value){const g2=t2.value.renderToString(a2.content,h$2.katexConfig({throwOnError:!1,displayMode:!0}));return`<p ${l2.renderAttrs(s2)} data-processed>${g2}</p>`}else return`<p ${l2.renderAttrs(s2)}>${a2.content}</p>`};e2.inline.ruler.before("escape","math_inline",ut({delimiters:r2||be$3.inline})),e2.block.ruler.after("blockquote","math_block",mt({delimiters:n2||be$3.block}),{alt:["paragraph","reference","blockquote","list"]}),e2.renderer.rules.math_inline=o2,e2.renderer.rules.math_block=m2},ht=(e2,t2)=>{const r2=e2.renderer.rules.fence.bind(e2.renderer.rules);e2.renderer.rules.fence=(n2,o2,m2,d2,c2)=>{const i=n2[o2],u2=i.content.trim();if(i.info==="mermaid"){if(i.attrSet("class",`${p$2}-mermaid`),i.attrSet("data-mermaid-theme",t2.themeRef.value),i.map&&i.level===0){const a2=i.map[1]-1,g2=!!d2.srcLines[a2]?.trim()?.startsWith("```");i.attrSet("data-closed",`${g2}`),i.attrSet("data-line",String(i.map[0]))}const l2=Y$1.get(u2);return l2?(i.attrSet("data-processed",""),i.attrSet("data-content",u2),`<p ${c2.renderAttrs(i)}>${l2}</p>`):`<div ${c2.renderAttrs(i)}>${e2.utils.escapeHtml(u2)}</div>`}return r2(n2,o2,m2,d2,c2)}},$e=(e2,t2,r2)=>{const n2=e2.attrIndex(t2),o2=[t2,r2];n2<0?e2.attrPush(o2):(e2.attrs=e2.attrs||[],e2.attrs[n2]=o2)},pt=e2=>e2.type==="inline",gt=e2=>e2.type==="paragraph_open",vt=e2=>e2.type==="list_item_open",yt=e2=>e2.content.indexOf("[ ] ")===0||e2.content.indexOf("[x] ")===0||e2.content.indexOf("[X] ")===0,bt=(e2,t2)=>pt(e2[t2])&&gt(e2[t2-1])&&vt(e2[t2-2])&&yt(e2[t2]),$t=(e2,t2)=>{const r2=e2[t2].level-1;for(let n2=t2-1;n2>=0;n2--)if(e2[n2].level===r2)return n2;return-1},wt=e2=>{const t2=new e2("html_inline","",0);return t2.content="<label>",t2},Ct=e2=>{const t2=new e2("html_inline","",0);return t2.content="</label>",t2},kt=(e2,t2,r2)=>{const n2=new r2("html_inline","",0);return n2.content='<label class="task-list-item-label" for="'+t2+'">'+e2+"</label>",n2.attrs=[["for",t2]],n2},Et=(e2,t2,r2)=>{const n2=new t2("html_inline","",0),o2=r2.enabled?" ":' disabled="" ';return e2.content.indexOf("[ ] ")===0?n2.content='<input class="task-list-item-checkbox"'+o2+'type="checkbox">':(e2.content.indexOf("[x] ")===0||e2.content.indexOf("[X] ")===0)&&(n2.content='<input class="task-list-item-checkbox" checked=""'+o2+'type="checkbox">'),n2},Tt=(e2,t2,r2)=>{if(e2.children=e2.children||[],e2.children.unshift(Et(e2,t2,r2)),e2.children[1].content=e2.children[1].content.slice(3),e2.content=e2.content.slice(3),r2.label)if(r2.labelAfter){e2.children.pop();const n2="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e2.children[0].content=e2.children[0].content.slice(0,-1)+' id="'+n2+'">',e2.children.push(kt(e2.content,n2,t2))}else e2.children.unshift(wt(t2)),e2.children.push(Ct(t2))},It=(e2,t2={})=>{e2.core.ruler.after("inline","github-task-lists",r2=>{const n2=r2.tokens;for(let o2=2;o2<n2.length;o2++)bt(n2,o2)&&(Tt(n2[o2],r2.Token,t2),$e(n2[o2-2],"class","task-list-item"+(t2.enabled?" enabled":" ")),$e(n2[$t(n2,o2-2)],"class","contains-task-list"))})},St=e2=>{e2.core.ruler.push("init-line-number",t2=>(t2.tokens.forEach(r2=>{r2.map&&(r2.attrs||(r2.attrs=[]),r2.attrs.push(["data-line",r2.map[0].toString()]))}),!0))},xt=(e2,t2)=>{const{editorConfig:r$12,markdownItConfig:n2,markdownItPlugins:o2,editorExtensions:m2}=h$2,d2=inject("editorId"),c2=inject("language"),i=inject("usedLanguageText"),u2=inject("showCodeRowNumber"),l$12=inject("theme"),a2=inject("customIcon"),s2=inject("rootRef"),g2=inject("setting"),f2=ref([]),p2=at(e2),b2=rt(e2),{reRenderRef:S2,replaceMermaid:v2}=lt$1(e2),{reRenderEcharts:C2,replaceEcharts:x2}=ot(e2),w2=MarkdownIt({html:!0,breaks:!0,linkify:!0});n2(w2,{editorId:d2});const H$1=[{type:"image",plugin:r,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:it,options:{}},{type:"taskList",plugin:It,options:{}},{type:"heading",plugin:dt,options:{mdHeadingId:e2.mdHeadingId,headsRef:f2}},{type:"code",plugin:st,options:{editorId:d2,usedLanguageTextRef:i,codeFoldable:e2.codeFoldable,autoFoldThreshold:e2.autoFoldThreshold,customIconRef:a2}},{type:"sub",plugin:sub_plugin,options:{}},{type:"sup",plugin:sup_plugin,options:{}}];e2.noKatex||H$1.push({type:"katex",plugin:ft,options:{katexRef:b2}}),e2.noMermaid||H$1.push({type:"mermaid",plugin:ht,options:{themeRef:l$12}}),e2.noEcharts||H$1.push({type:"echarts",plugin:ct,options:{themeRef:l$12}}),o2(H$1,{editorId:d2}).forEach(E2=>{w2.use(E2.plugin,E2.options)});const I2=w2.options.highlight;w2.set({highlight:(E2,F2,J2)=>{if(I2){const W2=I2(E2,F2,J2);if(W2)return W2}let j2;!e2.noHighlight&&p2.value?p2.value.getLanguage(F2)?j2=p2.value.highlight(E2,{language:F2,ignoreIllegals:!0}).value:j2=p2.value.highlightAuto(E2).value:j2=w2.utils.escapeHtml(E2);const oe2=u2?l(j2.replace(/^\n+|\n+$/g,""),E2.replace(/^\n+|\n+$/g,"")):`<span class="${p$2}-code-block">${j2.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${F2}" language=${F2}>${oe2}</code></pre>`}}),St(w2);const _2=ref(`_article-key_${U()}`),N2=ref(e2.sanitize(w2.render(e2.modelValue,{srcLines:e2.modelValue.split(`
`)})));let B2=()=>{},D2=()=>{};const q=()=>{const E2=s2.value?.querySelectorAll(`#${d2} p.${p$2}-mermaid:not([data-closed=false])`);D2(),D2=V(E2,{customIcon:a2.value}),m2.mermaid?.enableZoom&&(B2(),B2=R(E2,{customIcon:a2.value}))},V$12=()=>{F$1.emit(d2,L,N2.value),e2.onHtmlChanged(N2.value),e2.onGetCatalog(f2.value),F$1.emit(d2,S$1,f2.value),nextTick(()=>{v2().then(q),x2()})},z2=()=>{f2.value=[],N2.value=e2.sanitize(w2.render(e2.modelValue,{srcLines:e2.modelValue.split(`
`)}))},K2=computed(()=>(e2.noKatex||!!b2.value)&&(e2.noHighlight||!!p2.value));let Z2=-1;return watch([toRef(e2,"modelValue"),K2,S2,c2],()=>{Z2=window.setTimeout(()=>{z2()},t2?0:r$12.renderDelay)}),watch(()=>g2.value.preview,()=>{g2.value.preview&&nextTick(()=>{v2().then(q),x2(),F$1.emit(d2,S$1,f2.value)})}),watch([N2,C2],()=>{V$12()}),onMounted(V$12),onMounted(()=>{F$1.on(d2,{name:H,callback(){F$1.emit(d2,S$1,f2.value)}}),F$1.on(d2,{name:D$1,callback:()=>{_2.value=`_article-key_${U()}`,z2()}})}),onBeforeUnmount(()=>{B2(),D2(),clearTimeout(Z2)}),{html:N2,key:_2}},Ft=(e2,t2)=>{const r2=inject("editorId"),n2=inject("setting"),{noImgZoomIn:o2}=e2,m2=k$1(()=>{const d2=document.querySelectorAll(`#${r2}-preview img:not(.not-zoom):not(.medium-zoom-image)`);d2.length!==0&&et(d2,{background:"#00000073"})});onMounted(async()=>{!o2&&n2.value.preview&&await m2()}),watch([t2,()=>n2.value.preview],async()=>{!o2&&n2.value.preview&&await m2()})},we={checked:{regexp:/- \[x\]/,value:"- [ ]"},unChecked:{regexp:/- \[\s\]/,value:"- [x]"}},At=(e2,t2)=>{const r2=inject("editorId"),n2=inject("rootRef");let o2=()=>{};const m2=()=>{if(!n2.value)return!1;const d2=n2.value.querySelectorAll(".task-list-item.enabled"),c2=i=>{i.preventDefault();const u2=i.target.checked?"unChecked":"checked",l2=i.target.parentElement?.dataset.line;if(!l2)return;const a2=Number(l2),s2=e2.modelValue.split(`
`),g2=s2[Number(a2)].replace(we[u2].regexp,we[u2].value);e2.previewOnly?(s2[Number(a2)]=g2,e2.onChange(s2.join(`
`))):F$1.emit(r2,O,a2+1,g2)};d2.forEach(i=>{i.addEventListener("click",c2)}),o2=()=>{d2.forEach(i=>{i.removeEventListener("click",c2)})}};onBeforeUnmount(()=>{o2()}),watch([t2],()=>{o2(),nextTick(m2)},{immediate:!0})},Rt=(e2,t2,r2)=>{const n2=inject("setting"),o2=()=>{nextTick(()=>{e2.onRemount?.()})},m2=d2=>{d2&&o2()};watch([t2,r2],o2),watch(()=>n2.value.preview,m2),watch(()=>n2.value.htmlPreview,m2),onMounted(o2)},Se$2={modelValue:{type:String,default:""},onChange:{type:Function,default:()=>{}},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e2=>e2},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e2=>e2},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number},onRemount:{type:Function},noEcharts:{type:Boolean}},nn={...Se$2,updateModelValue:{type:Function,default:()=>{}},placeholder:{type:String,default:""},scrollAuto:{type:Boolean},autofocus:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},completions:{type:Array},onInput:{type:Function},onDrop:{type:Function,default:()=>{}},inputBoxWidth:{type:String},oninputBoxWidthChange:{type:Function},transformImgUrl:{type:Function,default:e2=>e2},catalogLayout:{type:String},catalogMaxDepth:{type:Number}},Ce$1=e2=>{const r2=new DOMParser().parseFromString(e2,"text/html");return Array.from(r2.body.childNodes)},Ht=(e2,t2)=>e2.nodeType!==t2.nodeType?!1:e2.nodeType===Node.TEXT_NODE||e2.nodeType===Node.COMMENT_NODE?e2.textContent===t2.textContent:e2.nodeType===Node.ELEMENT_NODE?e2.outerHTML===t2.outerHTML:e2.isEqualNode?e2.isEqualNode(t2):!1,ke$2=defineComponent({name:"UpdateOnDemand",props:{html:{type:String,required:!0}},setup(e2){const t2=inject("editorId"),r2=inject("previewTheme"),n2=inject("showCodeRowNumber"),o2=ref(),m2=e2.html,d2=(c2,i)=>{if(!o2.value)return;const u2=o2.value,l2=Array.from(u2.childNodes),a2=Math.min(c2.length,i.length);let s2=-1;for(let f2=0;f2<a2;f2++)if(!Ht(c2[f2],i[f2])){s2=f2;break}if(s2===-1)if(i.length>c2.length)s2=c2.length;else if(c2.length>i.length)s2=i.length;else return;const g2=Math.min(s2,l2.length);for(let f2=l2.length-1;f2>=g2;f2--)l2[f2].remove();for(let f2=s2;f2<c2.length;f2++)u2.appendChild(c2[f2].cloneNode(!0))};return watch(()=>e2.html,(c2,i)=>{const u2=Ce$1(c2),l2=Ce$1(i||"");d2(u2,l2)}),()=>createVNode("div",{id:`${t2}-preview`,class:[`${p$2}-preview`,`${r2?.value}-theme`,n2&&`${p$2}-scrn`],innerHTML:m2,ref:o2},null)}}),Mt=defineComponent({name:"ContentPreview",props:Se$2,setup(e2){const t2=inject("editorId"),r2=inject("setting"),{html:n2,key:o2}=xt(e2,e2.previewOnly);return nt(e2,n2,o2),Ft(e2,n2),At(e2,n2),Rt(e2,n2,o2),()=>createVNode(Fragment,null,[r2.value.preview&&(e2.previewOnly?createVNode(ke$2,{key:o2.value,html:n2.value},null):createVNode("div",{id:`${t2}-preview-wrapper`,class:`${p$2}-preview-wrapper`,key:"content-preview-wrapper"},[createVNode(ke$2,{key:o2.value,html:n2.value},null)])),r2.value.htmlPreview&&createVNode("div",{id:`${t2}-html-wrapper`,class:`${p$2}-preview-wrapper`,key:"html-preview-wrapper"},[createVNode("div",{class:`${p$2}-html`},[n2.value])])])}}),Pt=({text:e2})=>e2,xe$1={modelValue:{type:String,default:""},onChange:{type:Function,default:void 0},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function,default:void 0},onGetCatalog:{type:Function,default:void 0},editorId:{type:String,default:void 0},id:{type:String,default:void 0},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:Pt},sanitize:{type:Function,default:e2=>e2},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},formatCopiedText:{type:Function,default:e2=>e2},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e2=>Promise.resolve(e2)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30},onRemount:{type:Function,default:void 0},noEcharts:{type:Boolean,default:!1}},on={...xe$1,onSave:{type:Function,default:void 0},onUploadImg:{type:Function,default:void 0},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},toolbars:{type:Array,default:k},floatingToolbars:{type:Array,default:[]},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},tabWidth:{type:Number,default:2},tableShape:{type:Array,default:[6,4]},placeholder:{type:String,default:""},defToolbars:{type:[String,Object],default:void 0},onError:{type:Function,default:void 0},footers:{type:Array,default:b$1},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object],default:void 0},noUploadImg:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},maxLength:{type:Number,default:void 0},autoDetectCode:{type:Boolean,default:!1},onBlur:{type:Function,default:void 0},onFocus:{type:Function,default:void 0},completions:{type:Array,default:void 0},showToolbarName:{type:Boolean,default:!1},onInput:{type:Function,default:void 0},onDrop:{type:Function,default:void 0},inputBoxWidth:{type:String,default:"50%"},oninputBoxWidthChange:{type:Function,default:void 0},transformImgUrl:{type:Function,default:e2=>e2},catalogLayout:{type:String,default:"fixed"},catalogMaxDepth:{type:Number,default:void 0}},Fe$1=["onHtmlChanged","onGetCatalog","onChange","onRemount","update:modelValue"],an=[...Fe$1,"onSave","onUploadImg","onError","onBlur","onFocus","onInput","onDrop","oninputBoxWidthChange"],Lt=(e2,t2,r2)=>{const{editorId:n2}=r2,o2={rerender(){F$1.emit(n2,D$1)}};t2.expose(o2)},re$1=defineComponent({name:"MdPreview",props:xe$1,emits:Fe$1,setup(e2,t2){const{noKatex:r2,noMermaid:n2,noHighlight:o2}=e2,m2=ref(),d2=tt(e2);return Ie$1(e2,{rootRef:m2,editorId:d2}),Lt(e2,t2,{editorId:d2}),onBeforeUnmount(()=>{F$1.clear(d2)}),()=>createVNode("div",{id:d2,class:[p$2,e2.class,e2.theme==="dark"&&`${p$2}-dark`,`${p$2}-previewOnly`],style:e2.style,ref:m2},[createVNode(Mt,{modelValue:e2.modelValue,onChange:c2=>{e2.onChange?.(c2),t2.emit("onChange",c2),t2.emit("update:modelValue",c2)},onHtmlChanged:c2=>{e2.onHtmlChanged?.(c2),t2.emit("onHtmlChanged",c2)},onGetCatalog:c2=>{e2.onGetCatalog?.(c2),t2.emit("onGetCatalog",c2)},mdHeadingId:e2.mdHeadingId,noMermaid:n2,sanitize:e2.sanitize,noKatex:r2,formatCopiedText:e2.formatCopiedText,noHighlight:o2,noImgZoomIn:e2.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e2.sanitizeMermaid,codeFoldable:e2.codeFoldable,autoFoldThreshold:e2.autoFoldThreshold,onRemount:()=>{e2.onRemount?.(),t2.emit("onRemount")},noEcharts:e2.noEcharts},null)])}});re$1.install=e2=>(e2.component(re$1.name,re$1),e2);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=string2=>string2.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=string2=>string2.replace(/^([A-Z])|[\s-_]+(\w)/g,(match2,p1,p2)=>p2?p2.toUpperCase():p1.toLowerCase()),toPascalCase=string2=>{const camelCase=toCamelCase(string2);return camelCase.charAt(0).toUpperCase()+camelCase.slice(1)},mergeClasses=(...classes)=>classes.filter((className,index2,array)=>!!className&&className.trim()!==""&&array.indexOf(className)===index2).join(" ").trim(),isEmptyString=value=>value==="";/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=({name:name2,iconNode,absoluteStrokeWidth,"absolute-stroke-width":absoluteStrokeWidthKebabCase,strokeWidth,"stroke-width":strokeWidthKebabCase,size=defaultAttributes.width,color=defaultAttributes.stroke,...props},{slots})=>h$3("svg",{...defaultAttributes,...props,width:size,height:size,stroke:color,"stroke-width":isEmptyString(absoluteStrokeWidth)||isEmptyString(absoluteStrokeWidthKebabCase)||absoluteStrokeWidth===!0||absoluteStrokeWidthKebabCase===!0?Number(strokeWidth||strokeWidthKebabCase||defaultAttributes["stroke-width"])*24/Number(size):strokeWidth||strokeWidthKebabCase||defaultAttributes["stroke-width"],class:mergeClasses("lucide",props.class,...name2?[`lucide-${toKebabCase(toPascalCase(name2))}-icon`,`lucide-${toKebabCase(name2)}`]:["lucide-icon"])},[...iconNode.map(child=>h$3(...child)),...slots.default?[slots.default()]:[]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(iconName,iconNode)=>(props,{slots,attrs})=>h$3(Icon,{...attrs,...props,iconNode,name:iconName},slots);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bold=createLucideIcon("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartArea=createLucideIcon("chart-area",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CodeXml=createLucideIcon("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Code=createLucideIcon("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Expand=createLucideIcon("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Forward=createLucideIcon("forward",[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heading=createLucideIcon("heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image=createLucideIcon("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Italic=createLucideIcon("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Link=createLucideIcon("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListOrdered=createLucideIcon("list-ordered",[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListTodo=createLucideIcon("list-todo",[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListTree=createLucideIcon("list-tree",[["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"M3 10a2 2 0 0 0 2 2h3",key:"1npucw"}],["path",{d:"M3 5v12a2 2 0 0 0 2 2h3",key:"x1gjn2"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize2=createLucideIcon("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minimize2=createLucideIcon("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Quote=createLucideIcon("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Reply=createLucideIcon("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shrink=createLucideIcon("shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquareCode=createLucideIcon("square-code",[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquareSigma=createLucideIcon("square-sigma",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M16 8.9V7H8l4 5-4 5h8v-1.9",key:"9nih0i"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Strikethrough$1=createLucideIcon("strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Subscript$1=createLucideIcon("subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Superscript$1=createLucideIcon("superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Table$1=createLucideIcon("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Underline=createLucideIcon("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const View=createLucideIcon("view",[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]]);/**
 * @license lucide-vue-next v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Se$1=()=>createVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-github-icon"},[createVNode("path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"},null),createVNode("path",{d:"M9 18c-4.51 2-5-2-7-2"},null)]),ke$1={bold:Bold,underline:Underline,italic:Italic,"strike-through":Strikethrough$1,title:Heading,sub:Subscript$1,sup:Superscript$1,quote:Quote,"unordered-list":List,"ordered-list":ListOrdered,task:ListTodo,"code-row":Code,code:SquareCode,link:Link,image:Image,table:Table$1,revoke:Reply,next:Forward,save:Save,prettier:SquareCode,minimize:Minimize2,maximize:Maximize2,"fullscreen-exit":Shrink,fullscreen:Expand,"preview-only":View,preview:Eye,"preview-html":CodeXml,catalog:ListTree,github:Se$1,mermaid:ChartArea,formula:SquareSigma,close:X$1,delete:Trash2,upload:Upload},xe=defineComponent({name:`${p$2}-icon-set`,props:{name:{type:String,default:""}},setup(e2){return()=>h$3(ke$1[e2.name],{class:`${p$2}-icon`})}}),j$1=defineComponent({name:`${p$2}-icon`,props:{name:{type:String,default:""}},setup(e2){const d2=inject("customIcon");return()=>{const a2=d2.value[e2.name];return typeof a2=="object"?typeof a2.component=="object"?h$3(a2.component,a2.props):createVNode("span",{innerHTML:a2.component},null):createVNode(xe,{name:e2.name},null)}}}),be$2={title:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String,default:void 0},style:{type:[Object,String],default:()=>({})},showMask:{type:Boolean,default:!0}},g$1=defineComponent({name:"MdModal",props:be$2,emits:["onClose"],setup(e2,d2){const a2=inject("theme"),$2=inject("rootRef"),m2=ref(e2.visible),u2=ref([`${p$2}-modal`]),f2=ref(),h2=ref(),v2=ref(),F2=shallowRef();let c2=()=>{};const o2=reactive({maskStyle:{zIndex:-1},modalStyle:{zIndex:-1},initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),R2=computed(()=>e2.isFullscreen?{width:"100%",height:"100%"}:{width:e2.width,height:e2.height});watch(()=>e2.isFullscreen,l2=>{l2?c2():nextTick(()=>{c2=z$2(h2.value,(n2,s2)=>{o2.initPos.left=n2+"px",o2.initPos.top=s2+"px"})})}),watch(()=>e2.visible,l2=>{l2?(o2.maskStyle.zIndex=h$2.editorConfig.zIndex+m$1(),o2.modalStyle.zIndex=h$2.editorConfig.zIndex+m$1(),u2.value.push("zoom-in"),m2.value=l2,nextTick(()=>{const n2=f2.value.offsetWidth/2,s2=f2.value.offsetHeight/2,H2=document.documentElement.clientWidth/2,A2=document.documentElement.clientHeight/2;o2.initPos.left=H2-n2+"px",o2.initPos.top=A2-s2+"px",e2.isFullscreen||(c2=z$2(h2.value,(B2,L2)=>{o2.initPos.left=B2+"px",o2.initPos.top=L2+"px"}))}),setTimeout(()=>{u2.value=u2.value.filter(n2=>n2!=="zoom-in")},140)):(u2.value.push("zoom-out"),c2(),setTimeout(()=>{u2.value=u2.value.filter(n2=>n2!=="zoom-out"),m2.value=l2},130))});const y2=computed(()=>({display:m2.value?"block":"none"})),T2=computed(()=>{if(typeof e2.style=="string"){const l2=Object.entries(y2.value).map(([n2,s2])=>`${n2}: ${s2}`).join("; ");return[e2.style,l2].join("; ")}else return e2.style instanceof Object?{...y2.value,...e2.style}:y2.value});return onMounted(()=>{const l2=$2.value?.getRootNode();v2.value=l2 instanceof Document?document.body:l2}),()=>{const l2=g$4({ctx:d2}),n2=g$4({props:e2,ctx:d2},"title");return v2.value?createVNode(Teleport,{to:v2.value},{default:()=>[createVNode("div",{ref:F2,class:`${p$2}-modal-container`,"data-theme":a2.value},[createVNode("div",{class:e2.class,style:T2.value},[e2.showMask&&createVNode("div",{class:`${p$2}-modal-mask`,style:o2.maskStyle,onClick:()=>{e2.onClose?.(),d2.emit("onClose")}},null),createVNode("div",{class:u2.value,style:{...o2.modalStyle,...o2.initPos,...R2.value},ref:f2},[createVNode("div",{class:`${p$2}-modal-header`,ref:h2},[n2||""]),createVNode("div",{class:`${p$2}-modal-body`},[l2]),createVNode("div",{class:`${p$2}-modal-func`},[e2.showAdjust&&createVNode("div",{class:`${p$2}-modal-adjust`,onClick:s2=>{s2.stopPropagation(),e2.isFullscreen?o2.initPos=o2.historyPos:(o2.historyPos=o2.initPos,o2.initPos={left:"0",top:"0"}),e2.onAdjust(!e2.isFullscreen)}},[createVNode(j$1,{name:e2.isFullscreen?"minimize":"maximize"},null)]),createVNode("div",{class:`${p$2}-modal-close`,onClick:s2=>{s2.stopPropagation(),e2.onClose?.(),d2.emit("onClose")}},[createVNode(j$1,{name:"close"},null)])])])])])]}):""}}});g$1.install=e2=>(e2.component(g$1.name,g$1),e2);function g(e2){return typeof e2=="function"||Object.prototype.toString.call(e2)==="[object Object]"&&!isVNode(e2)}const m={title:{type:String,default:""},modalTitle:{type:[String,Object],default:""},visible:{type:Boolean,default:void 0},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object],default:void 0},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:void 0},class:{type:String,default:void 0},style:{type:[Object,String],default:void 0},showMask:{type:Boolean,default:!0},insert:{type:Function,default:void 0},language:{type:String,default:void 0},theme:{type:String,default:void 0},previewTheme:{type:String,default:void 0},codeTheme:{type:String,default:void 0},disabled:{type:Boolean,default:void 0},showToolbarName:{type:Boolean,default:void 0}},i$1=defineComponent({name:"ModalToolbar",props:m,emits:["onClick","onClose","onAdjust"],setup(e2,t2){return()=>{const u2=g$4({props:e2,ctx:t2},"trigger"),f2=g$4({props:e2,ctx:t2},"modalTitle"),n2=g$4({props:e2,ctx:t2});return createVNode(Fragment,null,[createVNode("button",{class:[`${p$2}-toolbar-item`,e2.disabled&&`${p$2}-disabled`],title:e2.title,disabled:e2.disabled,onClick:()=>{e2.onClick?.(),t2.emit("onClick")},type:"button"},[u2]),createVNode(g$1,{style:e2.style,class:e2.class,width:e2.width,height:e2.height,title:f2,visible:e2.visible,showMask:e2.showMask,onClose:()=>{e2.onClose?.(),t2.emit("onClose")},showAdjust:e2.showAdjust,isFullscreen:e2.isFullscreen,onAdjust:o2=>{e2.onAdjust?.(o2),t2.emit("onAdjust",o2)}},g(n2)?n2:{default:()=>[n2]})])}}});i$1.install=e2=>(e2.component(i$1.name,i$1),e2);const f={title:{type:String,default:""},trigger:{type:[String,Object],default:void 0},onClick:{type:Function,default:void 0},insert:{type:Function,default:void 0},language:{type:String,default:void 0},theme:{type:String,default:void 0},previewTheme:{type:String,default:void 0},codeTheme:{type:String,default:void 0},disabled:{type:Boolean,default:void 0},showToolbarName:{type:Boolean,default:void 0}},n=defineComponent({name:"NormalToolbar",props:f,emits:["onClick"],setup(e2,t2){return()=>{const o2=g$4({props:e2,ctx:t2},"trigger"),a2=g$4({props:e2,ctx:t2});return createVNode("button",{class:[`${p$2}-toolbar-item`,e2.disabled&&`${p$2}-disabled`],title:e2.title,disabled:e2.disabled,onClick:i=>{e2.onClick?.(i),t2.emit("onClick",i)},type:"button"},[a2||o2])}}});n.install=e2=>(e2.component(n.name,n),e2);let rangeFrom=[],rangeTo=[];(()=>{let numbers="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(s2=>s2?parseInt(s2,36):1);for(let i=0,n2=0;i<numbers.length;i++)(i%2?rangeTo:rangeFrom).push(n2=n2+numbers[i])})();function isExtendingChar(code){if(code<768)return!1;for(let from=0,to=rangeFrom.length;;){let mid=from+to>>1;if(code<rangeFrom[mid])to=mid;else if(code>=rangeTo[mid])from=mid+1;else return!0;if(from==to)return!1}}function isRegionalIndicator(code){return code>=127462&&code<=127487}const ZWJ=8205;function findClusterBreak$1(str,pos,forward=!0,includeExtending=!0){return(forward?nextClusterBreak:prevClusterBreak)(str,pos,includeExtending)}function nextClusterBreak(str,pos,includeExtending){if(pos==str.length)return pos;pos&&surrogateLow$1(str.charCodeAt(pos))&&surrogateHigh$1(str.charCodeAt(pos-1))&&pos--;let prev=codePointAt$1(str,pos);for(pos+=codePointSize$1(prev);pos<str.length;){let next=codePointAt$1(str,pos);if(prev==ZWJ||next==ZWJ||includeExtending&&isExtendingChar(next))pos+=codePointSize$1(next),prev=next;else if(isRegionalIndicator(next)){let countBefore=0,i=pos-2;for(;i>=0&&isRegionalIndicator(codePointAt$1(str,i));)countBefore++,i-=2;if(countBefore%2==0)break;pos+=2}else break}return pos}function prevClusterBreak(str,pos,includeExtending){for(;pos>0;){let found=nextClusterBreak(str,pos-2,includeExtending);if(found<pos)return found;pos--}return 0}function codePointAt$1(str,pos){let code0=str.charCodeAt(pos);if(!surrogateHigh$1(code0)||pos+1==str.length)return code0;let code1=str.charCodeAt(pos+1);return surrogateLow$1(code1)?(code0-55296<<10)+(code1-56320)+65536:code0}function surrogateLow$1(ch){return ch>=56320&&ch<57344}function surrogateHigh$1(ch){return ch>=55296&&ch<56320}function codePointSize$1(code){return code<65536?1:2}class Text{lineAt(pos){if(pos<0||pos>this.length)throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);return this.lineInner(pos,!1,1,0)}line(n2){if(n2<1||n2>this.lines)throw new RangeError(`Invalid line number ${n2} in ${this.lines}-line document`);return this.lineInner(n2,!0,1,0)}replace(from,to,text2){[from,to]=clip(this,from,to);let parts=[];return this.decompose(0,from,parts,2),text2.length&&text2.decompose(0,text2.length,parts,3),this.decompose(to,this.length,parts,1),TextNode.from(parts,this.length-(to-from)+text2.length)}append(other){return this.replace(this.length,this.length,other)}slice(from,to=this.length){[from,to]=clip(this,from,to);let parts=[];return this.decompose(from,to,parts,0),TextNode.from(parts,to-from)}eq(other){if(other==this)return!0;if(other.length!=this.length||other.lines!=this.lines)return!1;let start=this.scanIdentical(other,1),end=this.length-this.scanIdentical(other,-1),a2=new RawTextCursor(this),b2=new RawTextCursor(other);for(let skip=start,pos=start;;){if(a2.next(skip),b2.next(skip),skip=0,a2.lineBreak!=b2.lineBreak||a2.done!=b2.done||a2.value!=b2.value)return!1;if(pos+=a2.value.length,a2.done||pos>=end)return!0}}iter(dir=1){return new RawTextCursor(this,dir)}iterRange(from,to=this.length){return new PartialTextCursor(this,from,to)}iterLines(from,to){let inner;if(from==null)inner=this.iter();else{to==null&&(to=this.lines+1);let start=this.line(from).from;inner=this.iterRange(start,Math.max(start,to==this.lines+1?this.length:to<=1?0:this.line(to-1).to))}return new LineCursor(inner)}toString(){return this.sliceString(0)}toJSON(){let lines=[];return this.flatten(lines),lines}constructor(){}static of(text2){if(text2.length==0)throw new RangeError("A document must have at least one line");return text2.length==1&&!text2[0]?Text.empty:text2.length<=32?new TextLeaf(text2):TextNode.from(TextLeaf.split(text2,[]))}}class TextLeaf extends Text{constructor(text2,length=textLength(text2)){super(),this.text=text2,this.length=length}get lines(){return this.text.length}get children(){return null}lineInner(target,isLine,line,offset){for(let i=0;;i++){let string2=this.text[i],end=offset+string2.length;if((isLine?line:end)>=target)return new Line$1(offset,end,line,string2);offset=end+1,line++}}decompose(from,to,target,open){let text2=from<=0&&to>=this.length?this:new TextLeaf(sliceText(this.text,from,to),Math.min(to,this.length)-Math.max(0,from));if(open&1){let prev=target.pop(),joined=appendText(text2.text,prev.text.slice(),0,text2.length);if(joined.length<=32)target.push(new TextLeaf(joined,prev.length+text2.length));else{let mid=joined.length>>1;target.push(new TextLeaf(joined.slice(0,mid)),new TextLeaf(joined.slice(mid)))}}else target.push(text2)}replace(from,to,text2){if(!(text2 instanceof TextLeaf))return super.replace(from,to,text2);[from,to]=clip(this,from,to);let lines=appendText(this.text,appendText(text2.text,sliceText(this.text,0,from)),to),newLen=this.length+text2.length-(to-from);return lines.length<=32?new TextLeaf(lines,newLen):TextNode.from(TextLeaf.split(lines,[]),newLen)}sliceString(from,to=this.length,lineSep=`
`){[from,to]=clip(this,from,to);let result="";for(let pos=0,i=0;pos<=to&&i<this.text.length;i++){let line=this.text[i],end=pos+line.length;pos>from&&i&&(result+=lineSep),from<end&&to>pos&&(result+=line.slice(Math.max(0,from-pos),to-pos)),pos=end+1}return result}flatten(target){for(let line of this.text)target.push(line)}scanIdentical(){return 0}static split(text2,target){let part=[],len=-1;for(let line of text2)part.push(line),len+=line.length+1,part.length==32&&(target.push(new TextLeaf(part,len)),part=[],len=-1);return len>-1&&target.push(new TextLeaf(part,len)),target}}class TextNode extends Text{constructor(children,length){super(),this.children=children,this.length=length,this.lines=0;for(let child of children)this.lines+=child.lines}lineInner(target,isLine,line,offset){for(let i=0;;i++){let child=this.children[i],end=offset+child.length,endLine=line+child.lines-1;if((isLine?endLine:end)>=target)return child.lineInner(target,isLine,line,offset);offset=end+1,line=endLine+1}}decompose(from,to,target,open){for(let i=0,pos=0;pos<=to&&i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(from<=end&&to>=pos){let childOpen=open&((pos<=from?1:0)|(end>=to?2:0));pos>=from&&end<=to&&!childOpen?target.push(child):child.decompose(from-pos,to-pos,target,childOpen)}pos=end+1}}replace(from,to,text2){if([from,to]=clip(this,from,to),text2.lines<this.lines)for(let i=0,pos=0;i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(from>=pos&&to<=end){let updated=child.replace(from-pos,to-pos,text2),totalLines=this.lines-child.lines+updated.lines;if(updated.lines<totalLines>>5-1&&updated.lines>totalLines>>5+1){let copy=this.children.slice();return copy[i]=updated,new TextNode(copy,this.length-(to-from)+text2.length)}return super.replace(pos,end,updated)}pos=end+1}return super.replace(from,to,text2)}sliceString(from,to=this.length,lineSep=`
`){[from,to]=clip(this,from,to);let result="";for(let i=0,pos=0;i<this.children.length&&pos<=to;i++){let child=this.children[i],end=pos+child.length;pos>from&&i&&(result+=lineSep),from<end&&to>pos&&(result+=child.sliceString(from-pos,to-pos,lineSep)),pos=end+1}return result}flatten(target){for(let child of this.children)child.flatten(target)}scanIdentical(other,dir){if(!(other instanceof TextNode))return 0;let length=0,[iA,iB,eA,eB]=dir>0?[0,0,this.children.length,other.children.length]:[this.children.length-1,other.children.length-1,-1,-1];for(;;iA+=dir,iB+=dir){if(iA==eA||iB==eB)return length;let chA=this.children[iA],chB=other.children[iB];if(chA!=chB)return length+chA.scanIdentical(chB,dir);length+=chA.length+1}}static from(children,length=children.reduce((l2,ch)=>l2+ch.length+1,-1)){let lines=0;for(let ch of children)lines+=ch.lines;if(lines<32){let flat=[];for(let ch of children)ch.flatten(flat);return new TextLeaf(flat,length)}let chunk=Math.max(32,lines>>5),maxChunk=chunk<<1,minChunk=chunk>>1,chunked=[],currentLines=0,currentLen=-1,currentChunk=[];function add3(child){let last;if(child.lines>maxChunk&&child instanceof TextNode)for(let node of child.children)add3(node);else child.lines>minChunk&&(currentLines>minChunk||!currentLines)?(flush(),chunked.push(child)):child instanceof TextLeaf&&currentLines&&(last=currentChunk[currentChunk.length-1])instanceof TextLeaf&&child.lines+last.lines<=32?(currentLines+=child.lines,currentLen+=child.length+1,currentChunk[currentChunk.length-1]=new TextLeaf(last.text.concat(child.text),last.length+1+child.length)):(currentLines+child.lines>chunk&&flush(),currentLines+=child.lines,currentLen+=child.length+1,currentChunk.push(child))}function flush(){currentLines!=0&&(chunked.push(currentChunk.length==1?currentChunk[0]:TextNode.from(currentChunk,currentLen)),currentLen=-1,currentLines=currentChunk.length=0)}for(let child of children)add3(child);return flush(),chunked.length==1?chunked[0]:new TextNode(chunked,length)}}Text.empty=new TextLeaf([""],0);function textLength(text2){let length=-1;for(let line of text2)length+=line.length+1;return length}function appendText(text2,target,from=0,to=1e9){for(let pos=0,i=0,first=!0;i<text2.length&&pos<=to;i++){let line=text2[i],end=pos+line.length;end>=from&&(end>to&&(line=line.slice(0,to-pos)),pos<from&&(line=line.slice(from-pos)),first?(target[target.length-1]+=line,first=!1):target.push(line)),pos=end+1}return target}function sliceText(text2,from,to){return appendText(text2,[""],from,to)}class RawTextCursor{constructor(text2,dir=1){this.dir=dir,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[text2],this.offsets=[dir>0?1:(text2 instanceof TextLeaf?text2.text.length:text2.children.length)<<1]}nextInner(skip,dir){for(this.done=this.lineBreak=!1;;){let last=this.nodes.length-1,top2=this.nodes[last],offsetValue=this.offsets[last],offset=offsetValue>>1,size=top2 instanceof TextLeaf?top2.text.length:top2.children.length;if(offset==(dir>0?size:0)){if(last==0)return this.done=!0,this.value="",this;dir>0&&this.offsets[last-1]++,this.nodes.pop(),this.offsets.pop()}else if((offsetValue&1)==(dir>0?0:1)){if(this.offsets[last]+=dir,skip==0)return this.lineBreak=!0,this.value=`
`,this;skip--}else if(top2 instanceof TextLeaf){let next=top2.text[offset+(dir<0?-1:0)];if(this.offsets[last]+=dir,next.length>Math.max(0,skip))return this.value=skip==0?next:dir>0?next.slice(skip):next.slice(0,next.length-skip),this;skip-=next.length}else{let next=top2.children[offset+(dir<0?-1:0)];skip>next.length?(skip-=next.length,this.offsets[last]+=dir):(dir<0&&this.offsets[last]--,this.nodes.push(next),this.offsets.push(dir>0?1:(next instanceof TextLeaf?next.text.length:next.children.length)<<1))}}}next(skip=0){return skip<0&&(this.nextInner(-skip,-this.dir),skip=this.value.length),this.nextInner(skip,this.dir)}}class PartialTextCursor{constructor(text2,start,end){this.value="",this.done=!1,this.cursor=new RawTextCursor(text2,start>end?-1:1),this.pos=start>end?text2.length:0,this.from=Math.min(start,end),this.to=Math.max(start,end)}nextInner(skip,dir){if(dir<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;skip+=Math.max(0,dir<0?this.pos-this.to:this.from-this.pos);let limit=dir<0?this.pos-this.from:this.to-this.pos;skip>limit&&(skip=limit),limit-=skip;let{value}=this.cursor.next(skip);return this.pos+=(value.length+skip)*dir,this.value=value.length<=limit?value:dir<0?value.slice(value.length-limit):value.slice(0,limit),this.done=!this.value,this}next(skip=0){return skip<0?skip=Math.max(skip,this.from-this.pos):skip>0&&(skip=Math.min(skip,this.to-this.pos)),this.nextInner(skip,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(inner){this.inner=inner,this.afterBreak=!0,this.value="",this.done=!1}next(skip=0){let{done,lineBreak,value}=this.inner.next(skip);return done&&this.afterBreak?(this.value="",this.afterBreak=!1):done?(this.done=!0,this.value=""):lineBreak?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=value,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});let Line$1=class{constructor(from,to,number2,text2){this.from=from,this.to=to,this.number=number2,this.text=text2}get length(){return this.to-this.from}};function clip(text2,from,to){return from=Math.max(0,Math.min(text2.length,from)),[from,Math.max(from,Math.min(text2.length,to))]}function findClusterBreak(str,pos,forward=!0,includeExtending=!0){return findClusterBreak$1(str,pos,forward,includeExtending)}function surrogateLow(ch){return ch>=56320&&ch<57344}function surrogateHigh(ch){return ch>=55296&&ch<56320}function codePointAt(str,pos){let code0=str.charCodeAt(pos);if(!surrogateHigh(code0)||pos+1==str.length)return code0;let code1=str.charCodeAt(pos+1);return surrogateLow(code1)?(code0-55296<<10)+(code1-56320)+65536:code0}function fromCodePoint(code){return code<=65535?String.fromCharCode(code):(code-=65536,String.fromCharCode((code>>10)+55296,(code&1023)+56320))}function codePointSize(code){return code<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(MapMode2){return MapMode2[MapMode2.Simple=0]="Simple",MapMode2[MapMode2.TrackDel=1]="TrackDel",MapMode2[MapMode2.TrackBefore=2]="TrackBefore",MapMode2[MapMode2.TrackAfter=3]="TrackAfter",MapMode2}(MapMode||(MapMode={}));class ChangeDesc{constructor(sections){this.sections=sections}get length(){let result=0;for(let i=0;i<this.sections.length;i+=2)result+=this.sections[i];return result}get newLength(){let result=0;for(let i=0;i<this.sections.length;i+=2){let ins=this.sections[i+1];result+=ins<0?this.sections[i]:ins}return result}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(f2){for(let i=0,posA=0,posB=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++];ins<0?(f2(posA,posB,len),posB+=len):posB+=ins,posA+=len}}iterChangedRanges(f2,individual=!1){iterChanges(this,f2,individual)}get invertedDesc(){let sections=[];for(let i=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++];ins<0?sections.push(len,ins):sections.push(ins,len)}return new ChangeDesc(sections)}composeDesc(other){return this.empty?other:other.empty?this:composeSets(this,other)}mapDesc(other,before=!1){return other.empty?this:mapSet(this,other,before)}mapPos(pos,assoc=-1,mode=MapMode.Simple){let posA=0,posB=0;for(let i=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++],endA=posA+len;if(ins<0){if(endA>pos)return posB+(pos-posA);posB+=len}else{if(mode!=MapMode.Simple&&endA>=pos&&(mode==MapMode.TrackDel&&posA<pos&&endA>pos||mode==MapMode.TrackBefore&&posA<pos||mode==MapMode.TrackAfter&&endA>pos))return null;if(endA>pos||endA==pos&&assoc<0&&!len)return pos==posA||assoc<0?posB:posB+ins;posB+=ins}posA=endA}if(pos>posA)throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);return posB}touchesRange(from,to=from){for(let i=0,pos=0;i<this.sections.length&&pos<=to;){let len=this.sections[i++],ins=this.sections[i++],end=pos+len;if(ins>=0&&pos<=to&&end>=from)return pos<from&&end>to?"cover":!0;pos=end}return!1}toString(){let result="";for(let i=0;i<this.sections.length;){let len=this.sections[i++],ins=this.sections[i++];result+=(result?" ":"")+len+(ins>=0?":"+ins:"")}return result}toJSON(){return this.sections}static fromJSON(json){if(!Array.isArray(json)||json.length%2||json.some(a2=>typeof a2!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(json)}static create(sections){return new ChangeDesc(sections)}}class ChangeSet extends ChangeDesc{constructor(sections,inserted){super(sections),this.inserted=inserted}apply(doc2){if(this.length!=doc2.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(fromA,toA,fromB,_toB,text2)=>doc2=doc2.replace(fromB,fromB+(toA-fromA),text2),!1),doc2}mapDesc(other,before=!1){return mapSet(this,other,before,!0)}invert(doc2){let sections=this.sections.slice(),inserted=[];for(let i=0,pos=0;i<sections.length;i+=2){let len=sections[i],ins=sections[i+1];if(ins>=0){sections[i]=ins,sections[i+1]=len;let index2=i>>1;for(;inserted.length<index2;)inserted.push(Text.empty);inserted.push(len?doc2.slice(pos,pos+len):Text.empty)}pos+=len}return new ChangeSet(sections,inserted)}compose(other){return this.empty?other:other.empty?this:composeSets(this,other,!0)}map(other,before=!1){return other.empty?this:mapSet(this,other,before,!0)}iterChanges(f2,individual=!1){iterChanges(this,f2,individual)}get desc(){return ChangeDesc.create(this.sections)}filter(ranges){let resultSections=[],resultInserted=[],filteredSections=[],iter=new SectionIter(this);done:for(let i=0,pos=0;;){let next=i==ranges.length?1e9:ranges[i++];for(;pos<next||pos==next&&iter.len==0;){if(iter.done)break done;let len=Math.min(iter.len,next-pos);addSection(filteredSections,len,-1);let ins=iter.ins==-1?-1:iter.off==0?iter.ins:0;addSection(resultSections,len,ins),ins>0&&addInsert(resultInserted,resultSections,iter.text),iter.forward(len),pos+=len}let end=ranges[i++];for(;pos<end;){if(iter.done)break done;let len=Math.min(iter.len,end-pos);addSection(resultSections,len,-1),addSection(filteredSections,len,iter.ins==-1?-1:iter.off==0?iter.ins:0),iter.forward(len),pos+=len}}return{changes:new ChangeSet(resultSections,resultInserted),filtered:ChangeDesc.create(filteredSections)}}toJSON(){let parts=[];for(let i=0;i<this.sections.length;i+=2){let len=this.sections[i],ins=this.sections[i+1];ins<0?parts.push(len):ins==0?parts.push([len]):parts.push([len].concat(this.inserted[i>>1].toJSON()))}return parts}static of(changes,length,lineSep){let sections=[],inserted=[],pos=0,total=null;function flush(force=!1){if(!force&&!sections.length)return;pos<length&&addSection(sections,length-pos,-1);let set2=new ChangeSet(sections,inserted);total=total?total.compose(set2.map(total)):set2,sections=[],inserted=[],pos=0}function process2(spec){if(Array.isArray(spec))for(let sub of spec)process2(sub);else if(spec instanceof ChangeSet){if(spec.length!=length)throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);flush(),total=total?total.compose(spec.map(total)):spec}else{let{from,to=from,insert:insert2}=spec;if(from>to||from<0||to>length)throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);let insText=insert2?typeof insert2=="string"?Text.of(insert2.split(lineSep||DefaultSplit)):insert2:Text.empty,insLen=insText.length;if(from==to&&insLen==0)return;from<pos&&flush(),from>pos&&addSection(sections,from-pos,-1),addSection(sections,to-from,insLen),addInsert(inserted,sections,insText),pos=to}}return process2(changes),flush(!total),total}static empty(length){return new ChangeSet(length?[length,-1]:[],[])}static fromJSON(json){if(!Array.isArray(json))throw new RangeError("Invalid JSON representation of ChangeSet");let sections=[],inserted=[];for(let i=0;i<json.length;i++){let part=json[i];if(typeof part=="number")sections.push(part,-1);else{if(!Array.isArray(part)||typeof part[0]!="number"||part.some((e2,i2)=>i2&&typeof e2!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(part.length==1)sections.push(part[0],0);else{for(;inserted.length<i;)inserted.push(Text.empty);inserted[i]=Text.of(part.slice(1)),sections.push(part[0],inserted[i].length)}}}return new ChangeSet(sections,inserted)}static createSet(sections,inserted){return new ChangeSet(sections,inserted)}}function addSection(sections,len,ins,forceJoin=!1){if(len==0&&ins<=0)return;let last=sections.length-2;last>=0&&ins<=0&&ins==sections[last+1]?sections[last]+=len:last>=0&&len==0&&sections[last]==0?sections[last+1]+=ins:forceJoin?(sections[last]+=len,sections[last+1]+=ins):sections.push(len,ins)}function addInsert(values2,sections,value){if(value.length==0)return;let index2=sections.length-2>>1;if(index2<values2.length)values2[values2.length-1]=values2[values2.length-1].append(value);else{for(;values2.length<index2;)values2.push(Text.empty);values2.push(value)}}function iterChanges(desc,f2,individual){let inserted=desc.inserted;for(let posA=0,posB=0,i=0;i<desc.sections.length;){let len=desc.sections[i++],ins=desc.sections[i++];if(ins<0)posA+=len,posB+=len;else{let endA=posA,endB=posB,text2=Text.empty;for(;endA+=len,endB+=ins,ins&&inserted&&(text2=text2.append(inserted[i-2>>1])),!(individual||i==desc.sections.length||desc.sections[i+1]<0);)len=desc.sections[i++],ins=desc.sections[i++];f2(posA,endA,posB,endB,text2),posA=endA,posB=endB}}}function mapSet(setA,setB,before,mkSet=!1){let sections=[],insert2=mkSet?[]:null,a2=new SectionIter(setA),b2=new SectionIter(setB);for(let inserted=-1;;){if(a2.done&&b2.len||b2.done&&a2.len)throw new Error("Mismatched change set lengths");if(a2.ins==-1&&b2.ins==-1){let len=Math.min(a2.len,b2.len);addSection(sections,len,-1),a2.forward(len),b2.forward(len)}else if(b2.ins>=0&&(a2.ins<0||inserted==a2.i||a2.off==0&&(b2.len<a2.len||b2.len==a2.len&&!before))){let len=b2.len;for(addSection(sections,b2.ins,-1);len;){let piece=Math.min(a2.len,len);a2.ins>=0&&inserted<a2.i&&a2.len<=piece&&(addSection(sections,0,a2.ins),insert2&&addInsert(insert2,sections,a2.text),inserted=a2.i),a2.forward(piece),len-=piece}b2.next()}else if(a2.ins>=0){let len=0,left=a2.len;for(;left;)if(b2.ins==-1){let piece=Math.min(left,b2.len);len+=piece,left-=piece,b2.forward(piece)}else if(b2.ins==0&&b2.len<left)left-=b2.len,b2.next();else break;addSection(sections,len,inserted<a2.i?a2.ins:0),insert2&&inserted<a2.i&&addInsert(insert2,sections,a2.text),inserted=a2.i,a2.forward(a2.len-left)}else{if(a2.done&&b2.done)return insert2?ChangeSet.createSet(sections,insert2):ChangeDesc.create(sections);throw new Error("Mismatched change set lengths")}}}function composeSets(setA,setB,mkSet=!1){let sections=[],insert2=mkSet?[]:null,a2=new SectionIter(setA),b2=new SectionIter(setB);for(let open=!1;;){if(a2.done&&b2.done)return insert2?ChangeSet.createSet(sections,insert2):ChangeDesc.create(sections);if(a2.ins==0)addSection(sections,a2.len,0,open),a2.next();else if(b2.len==0&&!b2.done)addSection(sections,0,b2.ins,open),insert2&&addInsert(insert2,sections,b2.text),b2.next();else{if(a2.done||b2.done)throw new Error("Mismatched change set lengths");{let len=Math.min(a2.len2,b2.len),sectionLen=sections.length;if(a2.ins==-1){let insB=b2.ins==-1?-1:b2.off?0:b2.ins;addSection(sections,len,insB,open),insert2&&insB&&addInsert(insert2,sections,b2.text)}else b2.ins==-1?(addSection(sections,a2.off?0:a2.len,len,open),insert2&&addInsert(insert2,sections,a2.textBit(len))):(addSection(sections,a2.off?0:a2.len,b2.off?0:b2.ins,open),insert2&&!b2.off&&addInsert(insert2,sections,b2.text));open=(a2.ins>len||b2.ins>=0&&b2.len>len)&&(open||sections.length>sectionLen),a2.forward2(len),b2.forward(len)}}}}class SectionIter{constructor(set2){this.set=set2,this.i=0,this.next()}next(){let{sections}=this.set;this.i<sections.length?(this.len=sections[this.i++],this.ins=sections[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted}=this.set,index2=this.i-2>>1;return index2>=inserted.length?Text.empty:inserted[index2]}textBit(len){let{inserted}=this.set,index2=this.i-2>>1;return index2>=inserted.length&&!len?Text.empty:inserted[index2].slice(this.off,len==null?void 0:this.off+len)}forward(len){len==this.len?this.next():(this.len-=len,this.off+=len)}forward2(len){this.ins==-1?this.forward(len):len==this.ins?this.next():(this.ins-=len,this.off+=len)}}class SelectionRange{constructor(from,to,flags){this.from=from,this.to=to,this.flags=flags}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let level=this.flags&7;return level==7?null:level}get goalColumn(){let value=this.flags>>6;return value==16777215?void 0:value}map(change,assoc=-1){let from,to;return this.empty?from=to=change.mapPos(this.from,assoc):(from=change.mapPos(this.from,1),to=change.mapPos(this.to,-1)),from==this.from&&to==this.to?this:new SelectionRange(from,to,this.flags)}extend(from,to=from){if(from<=this.anchor&&to>=this.anchor)return EditorSelection.range(from,to);let head=Math.abs(from-this.anchor)>Math.abs(to-this.anchor)?from:to;return EditorSelection.range(this.anchor,head)}eq(other,includeAssoc=!1){return this.anchor==other.anchor&&this.head==other.head&&(!includeAssoc||!this.empty||this.assoc==other.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(json){if(!json||typeof json.anchor!="number"||typeof json.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(json.anchor,json.head)}static create(from,to,flags){return new SelectionRange(from,to,flags)}}class EditorSelection{constructor(ranges,mainIndex){this.ranges=ranges,this.mainIndex=mainIndex}map(change,assoc=-1){return change.empty?this:EditorSelection.create(this.ranges.map(r2=>r2.map(change,assoc)),this.mainIndex)}eq(other,includeAssoc=!1){if(this.ranges.length!=other.ranges.length||this.mainIndex!=other.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(other.ranges[i],includeAssoc))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(range,main=!0){return EditorSelection.create([range].concat(this.ranges),main?0:this.mainIndex+1)}replaceRange(range,which=this.mainIndex){let ranges=this.ranges.slice();return ranges[which]=range,EditorSelection.create(ranges,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(r2=>r2.toJSON()),main:this.mainIndex}}static fromJSON(json){if(!json||!Array.isArray(json.ranges)||typeof json.main!="number"||json.main>=json.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(json.ranges.map(r2=>SelectionRange.fromJSON(r2)),json.main)}static single(anchor,head=anchor){return new EditorSelection([EditorSelection.range(anchor,head)],0)}static create(ranges,mainIndex=0){if(ranges.length==0)throw new RangeError("A selection needs at least one range");for(let pos=0,i=0;i<ranges.length;i++){let range=ranges[i];if(range.empty?range.from<=pos:range.from<pos)return EditorSelection.normalized(ranges.slice(),mainIndex);pos=range.to}return new EditorSelection(ranges,mainIndex)}static cursor(pos,assoc=0,bidiLevel,goalColumn){return SelectionRange.create(pos,pos,(assoc==0?0:assoc<0?8:16)|(bidiLevel==null?7:Math.min(6,bidiLevel))|(goalColumn??16777215)<<6)}static range(anchor,head,goalColumn,bidiLevel){let flags=(goalColumn??16777215)<<6|(bidiLevel==null?7:Math.min(6,bidiLevel));return head<anchor?SelectionRange.create(head,anchor,48|flags):SelectionRange.create(anchor,head,(head>anchor?8:0)|flags)}static normalized(ranges,mainIndex=0){let main=ranges[mainIndex];ranges.sort((a2,b2)=>a2.from-b2.from),mainIndex=ranges.indexOf(main);for(let i=1;i<ranges.length;i++){let range=ranges[i],prev=ranges[i-1];if(range.empty?range.from<=prev.to:range.from<prev.to){let from=prev.from,to=Math.max(range.to,prev.to);i<=mainIndex&&mainIndex--,ranges.splice(--i,2,range.anchor>range.head?EditorSelection.range(to,from):EditorSelection.range(from,to))}}return new EditorSelection(ranges,mainIndex)}}function checkSelection(selection,docLength){for(let range of selection.ranges)if(range.to>docLength)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(combine,compareInput,compare2,isStatic,enables){this.combine=combine,this.compareInput=compareInput,this.compare=compare2,this.isStatic=isStatic,this.id=nextID++,this.default=combine([]),this.extensions=typeof enables=="function"?enables(this):enables}get reader(){return this}static define(config2={}){return new Facet(config2.combine||(a2=>a2),config2.compareInput||((a2,b2)=>a2===b2),config2.compare||(config2.combine?(a2,b2)=>a2===b2:sameArray$1),!!config2.static,config2.enables)}of(value){return new FacetProvider([],this,0,value)}compute(deps,get){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(deps,this,1,get)}computeN(deps,get){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(deps,this,2,get)}from(field,get){return get||(get=x2=>x2),this.compute([field],state=>get(state.field(field)))}}function sameArray$1(a2,b2){return a2==b2||a2.length==b2.length&&a2.every((e2,i)=>e2===b2[i])}class FacetProvider{constructor(dependencies,facet,type,value){this.dependencies=dependencies,this.facet=facet,this.type=type,this.value=value,this.id=nextID++}dynamicSlot(addresses){var _a4;let getter=this.value,compare2=this.facet.compareInput,id2=this.id,idx=addresses[id2]>>1,multi=this.type==2,depDoc=!1,depSel=!1,depAddrs=[];for(let dep of this.dependencies)dep=="doc"?depDoc=!0:dep=="selection"?depSel=!0:((_a4=addresses[dep.id])!==null&&_a4!==void 0?_a4:1)&1||depAddrs.push(addresses[dep.id]);return{create(state){return state.values[idx]=getter(state),1},update(state,tr){if(depDoc&&tr.docChanged||depSel&&(tr.docChanged||tr.selection)||ensureAll(state,depAddrs)){let newVal=getter(state);if(multi?!compareArray(newVal,state.values[idx],compare2):!compare2(newVal,state.values[idx]))return state.values[idx]=newVal,1}return 0},reconfigure:(state,oldState)=>{let newVal,oldAddr=oldState.config.address[id2];if(oldAddr!=null){let oldVal=getAddr(oldState,oldAddr);if(this.dependencies.every(dep=>dep instanceof Facet?oldState.facet(dep)===state.facet(dep):dep instanceof StateField?oldState.field(dep,!1)==state.field(dep,!1):!0)||(multi?compareArray(newVal=getter(state),oldVal,compare2):compare2(newVal=getter(state),oldVal)))return state.values[idx]=oldVal,0}else newVal=getter(state);return state.values[idx]=newVal,1}}}}function compareArray(a2,b2,compare2){if(a2.length!=b2.length)return!1;for(let i=0;i<a2.length;i++)if(!compare2(a2[i],b2[i]))return!1;return!0}function ensureAll(state,addrs){let changed=!1;for(let addr of addrs)ensureAddr(state,addr)&1&&(changed=!0);return changed}function dynamicFacetSlot(addresses,facet,providers){let providerAddrs=providers.map(p2=>addresses[p2.id]),providerTypes=providers.map(p2=>p2.type),dynamic=providerAddrs.filter(p2=>!(p2&1)),idx=addresses[facet.id]>>1;function get(state){let values2=[];for(let i=0;i<providerAddrs.length;i++){let value=getAddr(state,providerAddrs[i]);if(providerTypes[i]==2)for(let val of value)values2.push(val);else values2.push(value)}return facet.combine(values2)}return{create(state){for(let addr of providerAddrs)ensureAddr(state,addr);return state.values[idx]=get(state),1},update(state,tr){if(!ensureAll(state,dynamic))return 0;let value=get(state);return facet.compare(value,state.values[idx])?0:(state.values[idx]=value,1)},reconfigure(state,oldState){let depChanged=ensureAll(state,providerAddrs),oldProviders=oldState.config.facets[facet.id],oldValue=oldState.facet(facet);if(oldProviders&&!depChanged&&sameArray$1(providers,oldProviders))return state.values[idx]=oldValue,0;let value=get(state);return facet.compare(value,oldValue)?(state.values[idx]=oldValue,0):(state.values[idx]=value,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(id2,createF,updateF,compareF,spec){this.id=id2,this.createF=createF,this.updateF=updateF,this.compareF=compareF,this.spec=spec,this.provides=void 0}static define(config2){let field=new StateField(nextID++,config2.create,config2.update,config2.compare||((a2,b2)=>a2===b2),config2);return config2.provide&&(field.provides=config2.provide(field)),field}create(state){let init=state.facet(initField).find(i=>i.field==this);return(init?.create||this.createF)(state)}slot(addresses){let idx=addresses[this.id]>>1;return{create:state=>(state.values[idx]=this.create(state),1),update:(state,tr)=>{let oldVal=state.values[idx],value=this.updateF(oldVal,tr);return this.compareF(oldVal,value)?0:(state.values[idx]=value,1)},reconfigure:(state,oldState)=>{let init=state.facet(initField),oldInit=oldState.facet(initField),reInit;return(reInit=init.find(i=>i.field==this))&&reInit!=oldInit.find(i=>i.field==this)?(state.values[idx]=reInit.create(state),1):oldState.config.address[this.id]!=null?(state.values[idx]=oldState.field(this),0):(state.values[idx]=this.create(state),1)}}}init(create){return[this,initField.of({field:this,create})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(value){return ext=>new PrecExtension(ext,value)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(inner,prec2){this.inner=inner,this.prec=prec2}}class Compartment{of(ext){return new CompartmentInstance(this,ext)}reconfigure(content2){return Compartment.reconfigure.of({compartment:this,extension:content2})}get(state){return state.config.compartments.get(this)}}class CompartmentInstance{constructor(compartment,inner){this.compartment=compartment,this.inner=inner}}class Configuration{constructor(base2,compartments,dynamicSlots,address,staticValues,facets){for(this.base=base2,this.compartments=compartments,this.dynamicSlots=dynamicSlots,this.address=address,this.staticValues=staticValues,this.facets=facets,this.statusTemplate=[];this.statusTemplate.length<dynamicSlots.length;)this.statusTemplate.push(0)}staticFacet(facet){let addr=this.address[facet.id];return addr==null?facet.default:this.staticValues[addr>>1]}static resolve(base2,compartments,oldState){let fields=[],facets=Object.create(null),newCompartments=new Map;for(let ext of flatten(base2,compartments,newCompartments))ext instanceof StateField?fields.push(ext):(facets[ext.facet.id]||(facets[ext.facet.id]=[])).push(ext);let address=Object.create(null),staticValues=[],dynamicSlots=[];for(let field of fields)address[field.id]=dynamicSlots.length<<1,dynamicSlots.push(a2=>field.slot(a2));let oldFacets=oldState?.config.facets;for(let id2 in facets){let providers=facets[id2],facet=providers[0].facet,oldProviders=oldFacets&&oldFacets[id2]||[];if(providers.every(p2=>p2.type==0))if(address[facet.id]=staticValues.length<<1|1,sameArray$1(oldProviders,providers))staticValues.push(oldState.facet(facet));else{let value=facet.combine(providers.map(p2=>p2.value));staticValues.push(oldState&&facet.compare(value,oldState.facet(facet))?oldState.facet(facet):value)}else{for(let p2 of providers)p2.type==0?(address[p2.id]=staticValues.length<<1|1,staticValues.push(p2.value)):(address[p2.id]=dynamicSlots.length<<1,dynamicSlots.push(a2=>p2.dynamicSlot(a2)));address[facet.id]=dynamicSlots.length<<1,dynamicSlots.push(a2=>dynamicFacetSlot(a2,facet,providers))}}let dynamic=dynamicSlots.map(f2=>f2(address));return new Configuration(base2,newCompartments,dynamic,address,staticValues,facets)}}function flatten(extension,compartments,newCompartments){let result=[[],[],[],[],[]],seen2=new Map;function inner(ext,prec2){let known=seen2.get(ext);if(known!=null){if(known<=prec2)return;let found=result[known].indexOf(ext);found>-1&&result[known].splice(found,1),ext instanceof CompartmentInstance&&newCompartments.delete(ext.compartment)}if(seen2.set(ext,prec2),Array.isArray(ext))for(let e2 of ext)inner(e2,prec2);else if(ext instanceof CompartmentInstance){if(newCompartments.has(ext.compartment))throw new RangeError("Duplicate use of compartment in extensions");let content2=compartments.get(ext.compartment)||ext.inner;newCompartments.set(ext.compartment,content2),inner(content2,prec2)}else if(ext instanceof PrecExtension)inner(ext.inner,ext.prec);else if(ext instanceof StateField)result[prec2].push(ext),ext.provides&&inner(ext.provides,prec2);else if(ext instanceof FacetProvider)result[prec2].push(ext),ext.facet.extensions&&inner(ext.facet.extensions,Prec_.default);else{let content2=ext.extension;if(!content2)throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);inner(content2,prec2)}}return inner(extension,Prec_.default),result.reduce((a2,b2)=>a2.concat(b2))}function ensureAddr(state,addr){if(addr&1)return 2;let idx=addr>>1,status=state.status[idx];if(status==4)throw new Error("Cyclic dependency between fields and/or facets");if(status&2)return status;state.status[idx]=4;let changed=state.computeSlot(state,state.config.dynamicSlots[idx]);return state.status[idx]=2|changed}function getAddr(state,addr){return addr&1?state.config.staticValues[addr>>1]:state.values[addr>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:values2=>values2.some(v2=>v2),static:!0}),lineSeparator=Facet.define({combine:values2=>values2.length?values2[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:values2=>values2.length?values2[0]:!1});class Annotation{constructor(type,value){this.type=type,this.value=value}static define(){return new AnnotationType}}class AnnotationType{of(value){return new Annotation(this,value)}}class StateEffectType{constructor(map2){this.map=map2}of(value){return new StateEffect(this,value)}}class StateEffect{constructor(type,value){this.type=type,this.value=value}map(mapping){let mapped=this.type.map(this.value,mapping);return mapped===void 0?void 0:mapped==this.value?this:new StateEffect(this.type,mapped)}is(type){return this.type==type}static define(spec={}){return new StateEffectType(spec.map||(v2=>v2))}static mapEffects(effects,mapping){if(!effects.length)return effects;let result=[];for(let effect of effects){let mapped=effect.map(mapping);mapped&&result.push(mapped)}return result}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(startState,changes,selection,effects,annotations,scrollIntoView2){this.startState=startState,this.changes=changes,this.selection=selection,this.effects=effects,this.annotations=annotations,this.scrollIntoView=scrollIntoView2,this._doc=null,this._state=null,selection&&checkSelection(selection,changes.newLength),annotations.some(a2=>a2.type==Transaction.time)||(this.annotations=annotations.concat(Transaction.time.of(Date.now())))}static create(startState,changes,selection,effects,annotations,scrollIntoView2){return new Transaction(startState,changes,selection,effects,annotations,scrollIntoView2)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(type){for(let ann of this.annotations)if(ann.type==type)return ann.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(event){let e2=this.annotation(Transaction.userEvent);return!!(e2&&(e2==event||e2.length>event.length&&e2.slice(0,event.length)==event&&e2[event.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(a2,b2){let result=[];for(let iA=0,iB=0;;){let from,to;if(iA<a2.length&&(iB==b2.length||b2[iB]>=a2[iA]))from=a2[iA++],to=a2[iA++];else if(iB<b2.length)from=b2[iB++],to=b2[iB++];else return result;!result.length||result[result.length-1]<from?result.push(from,to):result[result.length-1]<to&&(result[result.length-1]=to)}}function mergeTransaction(a2,b2,sequential){var _a4;let mapForA,mapForB,changes;return sequential?(mapForA=b2.changes,mapForB=ChangeSet.empty(b2.changes.length),changes=a2.changes.compose(b2.changes)):(mapForA=b2.changes.map(a2.changes),mapForB=a2.changes.mapDesc(b2.changes,!0),changes=a2.changes.compose(mapForA)),{changes,selection:b2.selection?b2.selection.map(mapForB):(_a4=a2.selection)===null||_a4===void 0?void 0:_a4.map(mapForA),effects:StateEffect.mapEffects(a2.effects,mapForA).concat(StateEffect.mapEffects(b2.effects,mapForB)),annotations:a2.annotations.length?a2.annotations.concat(b2.annotations):b2.annotations,scrollIntoView:a2.scrollIntoView||b2.scrollIntoView}}function resolveTransactionInner(state,spec,docSize){let sel=spec.selection,annotations=asArray(spec.annotations);return spec.userEvent&&(annotations=annotations.concat(Transaction.userEvent.of(spec.userEvent))),{changes:spec.changes instanceof ChangeSet?spec.changes:ChangeSet.of(spec.changes||[],docSize,state.facet(lineSeparator)),selection:sel&&(sel instanceof EditorSelection?sel:EditorSelection.single(sel.anchor,sel.head)),effects:asArray(spec.effects),annotations,scrollIntoView:!!spec.scrollIntoView}}function resolveTransaction(state,specs,filter){let s2=resolveTransactionInner(state,specs.length?specs[0]:{},state.doc.length);specs.length&&specs[0].filter===!1&&(filter=!1);for(let i=1;i<specs.length;i++){specs[i].filter===!1&&(filter=!1);let seq=!!specs[i].sequential;s2=mergeTransaction(s2,resolveTransactionInner(state,specs[i],seq?s2.changes.newLength:state.doc.length),seq)}let tr=Transaction.create(state,s2.changes,s2.selection,s2.effects,s2.annotations,s2.scrollIntoView);return extendTransaction(filter?filterTransaction(tr):tr)}function filterTransaction(tr){let state=tr.startState,result=!0;for(let filter of state.facet(changeFilter)){let value=filter(tr);if(value===!1){result=!1;break}Array.isArray(value)&&(result=result===!0?value:joinRanges(result,value))}if(result!==!0){let changes,back;if(result===!1)back=tr.changes.invertedDesc,changes=ChangeSet.empty(state.doc.length);else{let filtered=tr.changes.filter(result);changes=filtered.changes,back=filtered.filtered.mapDesc(filtered.changes).invertedDesc}tr=Transaction.create(state,changes,tr.selection&&tr.selection.map(back),StateEffect.mapEffects(tr.effects,back),tr.annotations,tr.scrollIntoView)}let filters=state.facet(transactionFilter);for(let i=filters.length-1;i>=0;i--){let filtered=filters[i](tr);filtered instanceof Transaction?tr=filtered:Array.isArray(filtered)&&filtered.length==1&&filtered[0]instanceof Transaction?tr=filtered[0]:tr=resolveTransaction(state,asArray(filtered),!1)}return tr}function extendTransaction(tr){let state=tr.startState,extenders=state.facet(transactionExtender),spec=tr;for(let i=extenders.length-1;i>=0;i--){let extension=extenders[i](tr);extension&&Object.keys(extension).length&&(spec=mergeTransaction(spec,resolveTransactionInner(state,extension,tr.changes.newLength),!0))}return spec==tr?tr:Transaction.create(state,tr.changes,tr.selection,spec.effects,spec.annotations,spec.scrollIntoView)}const none$3=[];function asArray(value){return value==null?none$3:Array.isArray(value)?value:[value]}var CharCategory=function(CharCategory2){return CharCategory2[CharCategory2.Word=0]="Word",CharCategory2[CharCategory2.Space=1]="Space",CharCategory2[CharCategory2.Other=2]="Other",CharCategory2}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(str){if(wordChar)return wordChar.test(str);for(let i=0;i<str.length;i++){let ch=str[i];if(/\w/.test(ch)||ch>"¬Ä"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch)))return!0}return!1}function makeCategorizer(wordChars){return char=>{if(!/\S/.test(char))return CharCategory.Space;if(hasWordChar(char))return CharCategory.Word;for(let i=0;i<wordChars.length;i++)if(char.indexOf(wordChars[i])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(config2,doc2,selection,values2,computeSlot,tr){this.config=config2,this.doc=doc2,this.selection=selection,this.values=values2,this.status=config2.statusTemplate.slice(),this.computeSlot=computeSlot,tr&&(tr._state=this);for(let i=0;i<this.config.dynamicSlots.length;i++)ensureAddr(this,i<<1);this.computeSlot=null}field(field,require2=!0){let addr=this.config.address[field.id];if(addr==null){if(require2)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,addr),getAddr(this,addr)}update(...specs){return resolveTransaction(this,specs,!0)}applyTransaction(tr){let conf=this.config,{base:base2,compartments}=conf;for(let effect of tr.effects)effect.is(Compartment.reconfigure)?(conf&&(compartments=new Map,conf.compartments.forEach((val,key)=>compartments.set(key,val)),conf=null),compartments.set(effect.value.compartment,effect.value.extension)):effect.is(StateEffect.reconfigure)?(conf=null,base2=effect.value):effect.is(StateEffect.appendConfig)&&(conf=null,base2=asArray(base2).concat(effect.value));let startValues;conf?startValues=tr.startState.values.slice():(conf=Configuration.resolve(base2,compartments,this),startValues=new EditorState(conf,this.doc,this.selection,conf.dynamicSlots.map(()=>null),(state,slot)=>slot.reconfigure(state,this),null).values);let selection=tr.startState.facet(allowMultipleSelections)?tr.newSelection:tr.newSelection.asSingle();new EditorState(conf,tr.newDoc,selection,startValues,(state,slot)=>slot.update(state,tr),tr)}replaceSelection(text2){return typeof text2=="string"&&(text2=this.toText(text2)),this.changeByRange(range=>({changes:{from:range.from,to:range.to,insert:text2},range:EditorSelection.cursor(range.from+text2.length)}))}changeByRange(f2){let sel=this.selection,result1=f2(sel.ranges[0]),changes=this.changes(result1.changes),ranges=[result1.range],effects=asArray(result1.effects);for(let i=1;i<sel.ranges.length;i++){let result=f2(sel.ranges[i]),newChanges=this.changes(result.changes),newMapped=newChanges.map(changes);for(let j2=0;j2<i;j2++)ranges[j2]=ranges[j2].map(newMapped);let mapBy=changes.mapDesc(newChanges,!0);ranges.push(result.range.map(mapBy)),changes=changes.compose(newMapped),effects=StateEffect.mapEffects(effects,newMapped).concat(StateEffect.mapEffects(asArray(result.effects),mapBy))}return{changes,selection:EditorSelection.create(ranges,sel.mainIndex),effects}}changes(spec=[]){return spec instanceof ChangeSet?spec:ChangeSet.of(spec,this.doc.length,this.facet(EditorState.lineSeparator))}toText(string2){return Text.of(string2.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(from=0,to=this.doc.length){return this.doc.sliceString(from,to,this.lineBreak)}facet(facet){let addr=this.config.address[facet.id];return addr==null?facet.default:(ensureAddr(this,addr),getAddr(this,addr))}toJSON(fields){let result={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(fields)for(let prop in fields){let value=fields[prop];value instanceof StateField&&this.config.address[value.id]!=null&&(result[prop]=value.spec.toJSON(this.field(fields[prop]),this))}return result}static fromJSON(json,config2={},fields){if(!json||typeof json.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let fieldInit=[];if(fields){for(let prop in fields)if(Object.prototype.hasOwnProperty.call(json,prop)){let field=fields[prop],value=json[prop];fieldInit.push(field.init(state=>field.spec.fromJSON(value,state)))}}return EditorState.create({doc:json.doc,selection:EditorSelection.fromJSON(json.selection),extensions:config2.extensions?fieldInit.concat([config2.extensions]):fieldInit})}static create(config2={}){let configuration=Configuration.resolve(config2.extensions||[],new Map),doc2=config2.doc instanceof Text?config2.doc:Text.of((config2.doc||"").split(configuration.staticFacet(EditorState.lineSeparator)||DefaultSplit)),selection=config2.selection?config2.selection instanceof EditorSelection?config2.selection:EditorSelection.single(config2.selection.anchor,config2.selection.head):EditorSelection.single(0);return checkSelection(selection,doc2.length),configuration.staticFacet(allowMultipleSelections)||(selection=selection.asSingle()),new EditorState(configuration,doc2,selection,configuration.dynamicSlots.map(()=>null),(state,slot)=>slot.create(state),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(phrase2,...insert2){for(let map2 of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(map2,phrase2)){phrase2=map2[phrase2];break}return insert2.length&&(phrase2=phrase2.replace(/\$(\$|\d*)/g,(m2,i)=>{if(i=="$")return"$";let n2=+(i||1);return!n2||n2>insert2.length?m2:insert2[n2-1]})),phrase2}languageDataAt(name2,pos,side=-1){let values2=[];for(let provider of this.facet(languageData))for(let result of provider(this,pos,side))Object.prototype.hasOwnProperty.call(result,name2)&&values2.push(result[name2]);return values2}charCategorizer(at2){return makeCategorizer(this.languageDataAt("wordChars",at2).join(""))}wordAt(pos){let{text:text2,from,length}=this.doc.lineAt(pos),cat=this.charCategorizer(pos),start=pos-from,end=pos-from;for(;start>0;){let prev=findClusterBreak(text2,start,!1);if(cat(text2.slice(prev,start))!=CharCategory.Word)break;start=prev}for(;end<length;){let next=findClusterBreak(text2,end);if(cat(text2.slice(end,next))!=CharCategory.Word)break;end=next}return start==end?null:EditorSelection.range(start+from,end+from)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:values2=>values2.length?values2[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(a2,b2){let kA=Object.keys(a2),kB=Object.keys(b2);return kA.length==kB.length&&kA.every(k2=>a2[k2]==b2[k2])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(configs,defaults,combine={}){let result={};for(let config2 of configs)for(let key of Object.keys(config2)){let value=config2[key],current=result[key];if(current===void 0)result[key]=value;else if(!(current===value||value===void 0))if(Object.hasOwnProperty.call(combine,key))result[key]=combine[key](current,value);else throw new Error("Config merge conflict for field "+key)}for(let key in defaults)result[key]===void 0&&(result[key]=defaults[key]);return result}class RangeValue{eq(other){return this==other}range(from,to=from){return Range$1.create(from,to,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Range{constructor(from,to,value){this.from=from,this.to=to,this.value=value}static create(from,to,value){return new Range(from,to,value)}};function cmpRange(a2,b2){return a2.from-b2.from||a2.value.startSide-b2.value.startSide}class Chunk{constructor(from,to,value,maxPoint){this.from=from,this.to=to,this.value=value,this.maxPoint=maxPoint}get length(){return this.to[this.to.length-1]}findIndex(pos,side,end,startAt=0){let arr=end?this.to:this.from;for(let lo2=startAt,hi=arr.length;;){if(lo2==hi)return lo2;let mid=lo2+hi>>1,diff=arr[mid]-pos||(end?this.value[mid].endSide:this.value[mid].startSide)-side;if(mid==lo2)return diff>=0?lo2:hi;diff>=0?hi=mid:lo2=mid+1}}between(offset,from,to,f2){for(let i=this.findIndex(from,-1e9,!0),e2=this.findIndex(to,1e9,!1,i);i<e2;i++)if(f2(this.from[i]+offset,this.to[i]+offset,this.value[i])===!1)return!1}map(offset,changes){let value=[],from=[],to=[],newPos=-1,maxPoint=-1;for(let i=0;i<this.value.length;i++){let val=this.value[i],curFrom=this.from[i]+offset,curTo=this.to[i]+offset,newFrom,newTo;if(curFrom==curTo){let mapped=changes.mapPos(curFrom,val.startSide,val.mapMode);if(mapped==null||(newFrom=newTo=mapped,val.startSide!=val.endSide&&(newTo=changes.mapPos(curFrom,val.endSide),newTo<newFrom)))continue}else if(newFrom=changes.mapPos(curFrom,val.startSide),newTo=changes.mapPos(curTo,val.endSide),newFrom>newTo||newFrom==newTo&&val.startSide>0&&val.endSide<=0)continue;(newTo-newFrom||val.endSide-val.startSide)<0||(newPos<0&&(newPos=newFrom),val.point&&(maxPoint=Math.max(maxPoint,newTo-newFrom)),value.push(val),from.push(newFrom-newPos),to.push(newTo-newPos))}return{mapped:value.length?new Chunk(from,to,value,maxPoint):null,pos:newPos}}}class RangeSet{constructor(chunkPos,chunk,nextLayer,maxPoint){this.chunkPos=chunkPos,this.chunk=chunk,this.nextLayer=nextLayer,this.maxPoint=maxPoint}static create(chunkPos,chunk,nextLayer,maxPoint){return new RangeSet(chunkPos,chunk,nextLayer,maxPoint)}get length(){let last=this.chunk.length-1;return last<0?0:Math.max(this.chunkEnd(last),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let size=this.nextLayer.size;for(let chunk of this.chunk)size+=chunk.value.length;return size}chunkEnd(index2){return this.chunkPos[index2]+this.chunk[index2].length}update(updateSpec){let{add:add3=[],sort=!1,filterFrom=0,filterTo=this.length}=updateSpec,filter=updateSpec.filter;if(add3.length==0&&!filter)return this;if(sort&&(add3=add3.slice().sort(cmpRange)),this.isEmpty)return add3.length?RangeSet.of(add3):this;let cur2=new LayerCursor(this,null,-1).goto(0),i=0,spill=[],builder=new RangeSetBuilder;for(;cur2.value||i<add3.length;)if(i<add3.length&&(cur2.from-add3[i].from||cur2.startSide-add3[i].value.startSide)>=0){let range=add3[i++];builder.addInner(range.from,range.to,range.value)||spill.push(range)}else cur2.rangeIndex==1&&cur2.chunkIndex<this.chunk.length&&(i==add3.length||this.chunkEnd(cur2.chunkIndex)<add3[i].from)&&(!filter||filterFrom>this.chunkEnd(cur2.chunkIndex)||filterTo<this.chunkPos[cur2.chunkIndex])&&builder.addChunk(this.chunkPos[cur2.chunkIndex],this.chunk[cur2.chunkIndex])?cur2.nextChunk():((!filter||filterFrom>cur2.to||filterTo<cur2.from||filter(cur2.from,cur2.to,cur2.value))&&(builder.addInner(cur2.from,cur2.to,cur2.value)||spill.push(Range$1.create(cur2.from,cur2.to,cur2.value))),cur2.next());return builder.finishInner(this.nextLayer.isEmpty&&!spill.length?RangeSet.empty:this.nextLayer.update({add:spill,filter,filterFrom,filterTo}))}map(changes){if(changes.empty||this.isEmpty)return this;let chunks=[],chunkPos=[],maxPoint=-1;for(let i=0;i<this.chunk.length;i++){let start=this.chunkPos[i],chunk=this.chunk[i],touch=changes.touchesRange(start,start+chunk.length);if(touch===!1)maxPoint=Math.max(maxPoint,chunk.maxPoint),chunks.push(chunk),chunkPos.push(changes.mapPos(start));else if(touch===!0){let{mapped,pos}=chunk.map(start,changes);mapped&&(maxPoint=Math.max(maxPoint,mapped.maxPoint),chunks.push(mapped),chunkPos.push(pos))}}let next=this.nextLayer.map(changes);return chunks.length==0?next:new RangeSet(chunkPos,chunks,next||RangeSet.empty,maxPoint)}between(from,to,f2){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let start=this.chunkPos[i],chunk=this.chunk[i];if(to>=start&&from<=start+chunk.length&&chunk.between(start,from-start,to-start,f2)===!1)return}this.nextLayer.between(from,to,f2)}}iter(from=0){return HeapCursor.from([this]).goto(from)}get isEmpty(){return this.nextLayer==this}static iter(sets,from=0){return HeapCursor.from(sets).goto(from)}static compare(oldSets,newSets,textDiff,comparator,minPointSize=-1){let a2=oldSets.filter(set2=>set2.maxPoint>0||!set2.isEmpty&&set2.maxPoint>=minPointSize),b2=newSets.filter(set2=>set2.maxPoint>0||!set2.isEmpty&&set2.maxPoint>=minPointSize),sharedChunks=findSharedChunks(a2,b2,textDiff),sideA=new SpanCursor(a2,sharedChunks,minPointSize),sideB=new SpanCursor(b2,sharedChunks,minPointSize);textDiff.iterGaps((fromA,fromB,length)=>compare(sideA,fromA,sideB,fromB,length,comparator)),textDiff.empty&&textDiff.length==0&&compare(sideA,0,sideB,0,0,comparator)}static eq(oldSets,newSets,from=0,to){to==null&&(to=1e9-1);let a2=oldSets.filter(set2=>!set2.isEmpty&&newSets.indexOf(set2)<0),b2=newSets.filter(set2=>!set2.isEmpty&&oldSets.indexOf(set2)<0);if(a2.length!=b2.length)return!1;if(!a2.length)return!0;let sharedChunks=findSharedChunks(a2,b2),sideA=new SpanCursor(a2,sharedChunks,0).goto(from),sideB=new SpanCursor(b2,sharedChunks,0).goto(from);for(;;){if(sideA.to!=sideB.to||!sameValues(sideA.active,sideB.active)||sideA.point&&(!sideB.point||!sideA.point.eq(sideB.point)))return!1;if(sideA.to>to)return!0;sideA.next(),sideB.next()}}static spans(sets,from,to,iterator,minPointSize=-1){let cursor=new SpanCursor(sets,null,minPointSize).goto(from),pos=from,openRanges=cursor.openStart;for(;;){let curTo=Math.min(cursor.to,to);if(cursor.point){let active=cursor.activeForPoint(cursor.to),openCount=cursor.pointFrom<from?active.length+1:cursor.point.startSide<0?active.length:Math.min(active.length,openRanges);iterator.point(pos,curTo,cursor.point,active,openCount,cursor.pointRank),openRanges=Math.min(cursor.openEnd(curTo),active.length)}else curTo>pos&&(iterator.span(pos,curTo,cursor.active,openRanges),openRanges=cursor.openEnd(curTo));if(cursor.to>to)return openRanges+(cursor.point&&cursor.to>to?1:0);pos=cursor.to,cursor.next()}}static of(ranges,sort=!1){let build=new RangeSetBuilder;for(let range of ranges instanceof Range$1?[ranges]:sort?lazySort(ranges):ranges)build.add(range.from,range.to,range.value);return build.finish()}static join(sets){if(!sets.length)return RangeSet.empty;let result=sets[sets.length-1];for(let i=sets.length-2;i>=0;i--)for(let layer2=sets[i];layer2!=RangeSet.empty;layer2=layer2.nextLayer)result=new RangeSet(layer2.chunkPos,layer2.chunk,result,Math.max(layer2.maxPoint,result.maxPoint));return result}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(ranges){if(ranges.length>1)for(let prev=ranges[0],i=1;i<ranges.length;i++){let cur2=ranges[i];if(cmpRange(prev,cur2)>0)return ranges.slice().sort(cmpRange);prev=cur2}return ranges}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(newArrays){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,newArrays&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(from,to,value){this.addInner(from,to,value)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(from,to,value)}addInner(from,to,value){let diff=from-this.lastTo||value.startSide-this.last.endSide;if(diff<=0&&(from-this.lastFrom||value.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return diff<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=from),this.from.push(from-this.chunkStart),this.to.push(to-this.chunkStart),this.last=value,this.lastFrom=from,this.lastTo=to,this.value.push(value),value.point&&(this.maxPoint=Math.max(this.maxPoint,to-from)),!0)}addChunk(from,chunk){if((from-this.lastTo||chunk.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,chunk.maxPoint),this.chunks.push(chunk),this.chunkPos.push(from);let last=chunk.value.length-1;return this.last=chunk.value[last],this.lastFrom=chunk.from[last]+from,this.lastTo=chunk.to[last]+from,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(next){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return next;let result=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(next):next,this.setMaxPoint);return this.from=null,result}}function findSharedChunks(a2,b2,textDiff){let inA=new Map;for(let set2 of a2)for(let i=0;i<set2.chunk.length;i++)set2.chunk[i].maxPoint<=0&&inA.set(set2.chunk[i],set2.chunkPos[i]);let shared=new Set;for(let set2 of b2)for(let i=0;i<set2.chunk.length;i++){let known=inA.get(set2.chunk[i]);known!=null&&(textDiff?textDiff.mapPos(known):known)==set2.chunkPos[i]&&!textDiff?.touchesRange(known,known+set2.chunk[i].length)&&shared.add(set2.chunk[i])}return shared}class LayerCursor{constructor(layer2,skip,minPoint,rank=0){this.layer=layer2,this.skip=skip,this.minPoint=minPoint,this.rank=rank}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(pos,side=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(pos,side,!1),this}gotoInner(pos,side,forward){for(;this.chunkIndex<this.layer.chunk.length;){let next=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(next)||this.layer.chunkEnd(this.chunkIndex)<pos||next.maxPoint<this.minPoint))break;this.chunkIndex++,forward=!1}if(this.chunkIndex<this.layer.chunk.length){let rangeIndex=this.layer.chunk[this.chunkIndex].findIndex(pos-this.layer.chunkPos[this.chunkIndex],side,!0);(!forward||this.rangeIndex<rangeIndex)&&this.setRangeIndex(rangeIndex)}this.next()}forward(pos,side){(this.to-pos||this.endSide-side)<0&&this.gotoInner(pos,side,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let chunkPos=this.layer.chunkPos[this.chunkIndex],chunk=this.layer.chunk[this.chunkIndex],from=chunkPos+chunk.from[this.rangeIndex];if(this.from=from,this.to=chunkPos+chunk.to[this.rangeIndex],this.value=chunk.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(index2){if(index2==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=index2}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(other){return this.from-other.from||this.startSide-other.startSide||this.rank-other.rank||this.to-other.to||this.endSide-other.endSide}}class HeapCursor{constructor(heap){this.heap=heap}static from(sets,skip=null,minPoint=-1){let heap=[];for(let i=0;i<sets.length;i++)for(let cur2=sets[i];!cur2.isEmpty;cur2=cur2.nextLayer)cur2.maxPoint>=minPoint&&heap.push(new LayerCursor(cur2,skip,minPoint,i));return heap.length==1?heap[0]:new HeapCursor(heap)}get startSide(){return this.value?this.value.startSide:0}goto(pos,side=-1e9){for(let cur2 of this.heap)cur2.goto(pos,side);for(let i=this.heap.length>>1;i>=0;i--)heapBubble(this.heap,i);return this.next(),this}forward(pos,side){for(let cur2 of this.heap)cur2.forward(pos,side);for(let i=this.heap.length>>1;i>=0;i--)heapBubble(this.heap,i);(this.to-pos||this.value.endSide-side)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let top2=this.heap[0];this.from=top2.from,this.to=top2.to,this.value=top2.value,this.rank=top2.rank,top2.value&&top2.next(),heapBubble(this.heap,0)}}}function heapBubble(heap,index2){for(let cur2=heap[index2];;){let childIndex=(index2<<1)+1;if(childIndex>=heap.length)break;let child=heap[childIndex];if(childIndex+1<heap.length&&child.compare(heap[childIndex+1])>=0&&(child=heap[childIndex+1],childIndex++),cur2.compare(child)<0)break;heap[childIndex]=cur2,heap[index2]=child,index2=childIndex}}class SpanCursor{constructor(sets,skip,minPoint){this.minPoint=minPoint,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(sets,skip,minPoint)}goto(pos,side=-1e9){return this.cursor.goto(pos,side),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=pos,this.endSide=side,this.openStart=-1,this.next(),this}forward(pos,side){for(;this.minActive>-1&&(this.activeTo[this.minActive]-pos||this.active[this.minActive].endSide-side)<0;)this.removeActive(this.minActive);this.cursor.forward(pos,side)}removeActive(index2){remove(this.active,index2),remove(this.activeTo,index2),remove(this.activeRank,index2),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(trackOpen){let i=0,{value,to,rank}=this.cursor;for(;i<this.activeRank.length&&(rank-this.activeRank[i]||to-this.activeTo[i])>0;)i++;insert(this.active,i,value),insert(this.activeTo,i,to),insert(this.activeRank,i,rank),trackOpen&&insert(trackOpen,i,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let from=this.to,wasPoint=this.point;this.point=null;let trackOpen=this.openStart<0?[]:null;for(;;){let a2=this.minActive;if(a2>-1&&(this.activeTo[a2]-this.cursor.from||this.active[a2].endSide-this.cursor.startSide)<0){if(this.activeTo[a2]>from){this.to=this.activeTo[a2],this.endSide=this.active[a2].endSide;break}this.removeActive(a2),trackOpen&&remove(trackOpen,a2)}else if(this.cursor.value)if(this.cursor.from>from){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let nextVal=this.cursor.value;if(!nextVal.point)this.addActive(trackOpen),this.cursor.next();else if(wasPoint&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=nextVal,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=nextVal.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(trackOpen){this.openStart=0;for(let i=trackOpen.length-1;i>=0&&trackOpen[i]<from;i--)this.openStart++}}activeForPoint(to){if(!this.active.length)return this.active;let active=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>to||this.activeTo[i]==to&&this.active[i].endSide>=this.point.endSide)&&active.push(this.active[i]);return active.reverse()}openEnd(to){let open=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>to;i--)open++;return open}}function compare(a2,startA,b2,startB,length,comparator){a2.goto(startA),b2.goto(startB);let endB=startB+length,pos=startB,dPos=startB-startA;for(;;){let dEnd=a2.to+dPos-b2.to,diff=dEnd||a2.endSide-b2.endSide,end=diff<0?a2.to+dPos:b2.to,clipEnd=Math.min(end,endB);if(a2.point||b2.point?a2.point&&b2.point&&(a2.point==b2.point||a2.point.eq(b2.point))&&sameValues(a2.activeForPoint(a2.to),b2.activeForPoint(b2.to))||comparator.comparePoint(pos,clipEnd,a2.point,b2.point):clipEnd>pos&&!sameValues(a2.active,b2.active)&&comparator.compareRange(pos,clipEnd,a2.active,b2.active),end>endB)break;(dEnd||a2.openEnd!=b2.openEnd)&&comparator.boundChange&&comparator.boundChange(end),pos=end,diff<=0&&a2.next(),diff>=0&&b2.next()}}function sameValues(a2,b2){if(a2.length!=b2.length)return!1;for(let i=0;i<a2.length;i++)if(a2[i]!=b2[i]&&!a2[i].eq(b2[i]))return!1;return!0}function remove(array,index2){for(let i=index2,e2=array.length-1;i<e2;i++)array[i]=array[i+1];array.pop()}function insert(array,index2,value){for(let i=array.length-1;i>=index2;i--)array[i+1]=array[i];array[index2]=value}function findMinIndex(value,array){let found=-1,foundPos=1e9;for(let i=0;i<array.length;i++)(array[i]-foundPos||value[i].endSide-value[found].endSide)<0&&(found=i,foundPos=array[i]);return found}function countColumn(string2,tabSize,to=string2.length){let n2=0;for(let i=0;i<to&&i<string2.length;)string2.charCodeAt(i)==9?(n2+=tabSize-n2%tabSize,i++):(n2++,i=findClusterBreak(string2,i));return n2}function findColumn(string2,col,tabSize,strict){for(let i=0,n2=0;;){if(n2>=col)return i;if(i==string2.length)break;n2+=string2.charCodeAt(i)==9?tabSize-n2%tabSize:1,i=findClusterBreak(string2,i)}return strict===!0?-1:string2.length}const C="Õº",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(spec,options){this.rules=[];let{finish}=options||{};function splitSelector(selector){return/^@/.test(selector)?[selector]:selector.split(/,\s*/)}function render(selectors,spec2,target,isKeyframes){let local=[],isAt=/^@(\w+)\b/.exec(selectors[0]),keyframes=isAt&&isAt[1]=="keyframes";if(isAt&&spec2==null)return target.push(selectors[0]+";");for(let prop in spec2){let value=spec2[prop];if(/&/.test(prop))render(prop.split(/,\s*/).map(part=>selectors.map(sel=>part.replace(/&/,sel))).reduce((a2,b2)=>a2.concat(b2)),value,target);else if(value&&typeof value=="object"){if(!isAt)throw new RangeError("The value of a property ("+prop+") should be a primitive value.");render(splitSelector(prop),value,local,keyframes)}else value!=null&&local.push(prop.replace(/_.*/,"").replace(/[A-Z]/g,l2=>"-"+l2.toLowerCase())+": "+value+";")}(local.length||keyframes)&&target.push((finish&&!isAt&&!isKeyframes?selectors.map(finish):selectors).join(", ")+" {"+local.join(" ")+"}")}for(let prop in spec)render(splitSelector(prop),spec[prop],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let id2=top[COUNT]||1;return top[COUNT]=id2+1,C+id2.toString(36)}static mount(root,modules,options){let set2=root[SET],nonce=options&&options.nonce;set2?nonce&&set2.setNonce(nonce):set2=new StyleSet(root,nonce),set2.mount(Array.isArray(modules)?modules:[modules],root)}}let adoptedSet=new Map;class StyleSet{constructor(root,nonce){let doc2=root.ownerDocument||root,win=doc2.defaultView;if(!root.head&&root.adoptedStyleSheets&&win.CSSStyleSheet){let adopted=adoptedSet.get(doc2);if(adopted)return root[SET]=adopted;this.sheet=new win.CSSStyleSheet,adoptedSet.set(doc2,this)}else this.styleTag=doc2.createElement("style"),nonce&&this.styleTag.setAttribute("nonce",nonce);this.modules=[],root[SET]=this}mount(modules,root){let sheet=this.sheet,pos=0,j2=0;for(let i=0;i<modules.length;i++){let mod=modules[i],index2=this.modules.indexOf(mod);if(index2<j2&&index2>-1&&(this.modules.splice(index2,1),j2--,index2=-1),index2==-1){if(this.modules.splice(j2++,0,mod),sheet)for(let k2=0;k2<mod.rules.length;k2++)sheet.insertRule(mod.rules[k2],pos++)}else{for(;j2<index2;)pos+=this.modules[j2++].rules.length;pos+=mod.rules.length,j2++}}if(sheet)root.adoptedStyleSheets.indexOf(this.sheet)<0&&(root.adoptedStyleSheets=[this.sheet,...root.adoptedStyleSheets]);else{let text2="";for(let i=0;i<this.modules.length;i++)text2+=this.modules[i].getRules()+`
`;this.styleTag.textContent=text2;let target=root.head||root;this.styleTag.parentNode!=target&&target.insertBefore(this.styleTag,target.firstChild)}}setNonce(nonce){this.styleTag&&this.styleTag.getAttribute("nonce")!=nonce&&this.styleTag.setAttribute("nonce",nonce)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(event){var ignoreKey=mac&&event.metaKey&&event.shiftKey&&!event.ctrlKey&&!event.altKey||ie$2&&event.shiftKey&&event.key&&event.key.length==1||event.key=="Unidentified",name2=!ignoreKey&&event.key||(event.shiftKey?shift:base)[event.keyCode]||event.key||"Unidentified";return name2=="Esc"&&(name2="Escape"),name2=="Del"&&(name2="Delete"),name2=="Left"&&(name2="ArrowLeft"),name2=="Up"&&(name2="ArrowUp"),name2=="Right"&&(name2="ArrowRight"),name2=="Down"&&(name2="ArrowDown"),name2}function crelt(){var elt2=arguments[0];typeof elt2=="string"&&(elt2=document.createElement(elt2));var i=1,next=arguments[1];if(next&&typeof next=="object"&&next.nodeType==null&&!Array.isArray(next)){for(var name2 in next)if(Object.prototype.hasOwnProperty.call(next,name2)){var value=next[name2];typeof value=="string"?elt2.setAttribute(name2,value):value!=null&&(elt2[name2]=value)}i++}for(;i<arguments.length;i++)add2(elt2,arguments[i]);return elt2}function add2(elt2,child){if(typeof child=="string")elt2.appendChild(document.createTextNode(child));else if(child!=null)if(child.nodeType!=null)elt2.appendChild(child);else if(Array.isArray(child))for(var i=0;i<child.length;i++)add2(elt2,child[i]);else throw new RangeError("Unsupported child node: "+child)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie$1=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie$1&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie$1&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie$1&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie:ie$1,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,safari,safari_version:safari?+(/\bVersion\/(\d+(\.\d+)?)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function getSelection(root){let target;return root.nodeType==11?target=root.getSelection?root:root.ownerDocument:target=root,target.getSelection()}function contains(dom,node){return node?dom==node||dom.contains(node.nodeType!=1?node.parentNode:node):!1}function hasSelection(dom,selection){if(!selection.anchorNode)return!1;try{return contains(dom,selection.anchorNode)}catch{return!1}}function clientRectsFor(dom){return dom.nodeType==3?textRange(dom,0,dom.nodeValue.length).getClientRects():dom.nodeType==1?dom.getClientRects():[]}function isEquivalentPosition(node,off,targetNode,targetOff){return targetNode?scanFor(node,off,targetNode,targetOff,-1)||scanFor(node,off,targetNode,targetOff,1):!1}function domIndex(node){for(var index2=0;;index2++)if(node=node.previousSibling,!node)return index2}function isBlockElement(node){return node.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(node.nodeName)}function scanFor(node,off,targetNode,targetOff,dir){for(;;){if(node==targetNode&&off==targetOff)return!0;if(off==(dir<0?0:maxOffset(node))){if(node.nodeName=="DIV")return!1;let parent=node.parentNode;if(!parent||parent.nodeType!=1)return!1;off=domIndex(node)+(dir<0?0:1),node=parent}else if(node.nodeType==1){if(node=node.childNodes[off+(dir<0?-1:0)],node.nodeType==1&&node.contentEditable=="false")return!1;off=dir<0?maxOffset(node):0}else return!1}}function maxOffset(node){return node.nodeType==3?node.nodeValue.length:node.childNodes.length}function flattenRect(rect,left){let x2=left?rect.left:rect.right;return{left:x2,right:x2,top:rect.top,bottom:rect.bottom}}function windowRect(win){let vp=win.visualViewport;return vp?{left:0,right:vp.width,top:0,bottom:vp.height}:{left:0,right:win.innerWidth,top:0,bottom:win.innerHeight}}function getScale(elt2,rect){let scaleX=rect.width/elt2.offsetWidth,scaleY=rect.height/elt2.offsetHeight;return(scaleX>.995&&scaleX<1.005||!isFinite(scaleX)||Math.abs(rect.width-elt2.offsetWidth)<1)&&(scaleX=1),(scaleY>.995&&scaleY<1.005||!isFinite(scaleY)||Math.abs(rect.height-elt2.offsetHeight)<1)&&(scaleY=1),{scaleX,scaleY}}function scrollRectIntoView(dom,rect,side,x2,y2,xMargin,yMargin,ltr){let doc2=dom.ownerDocument,win=doc2.defaultView||window;for(let cur2=dom,stop=!1;cur2&&!stop;)if(cur2.nodeType==1){let bounding,top2=cur2==doc2.body,scaleX=1,scaleY=1;if(top2)bounding=windowRect(win);else{if(/^(fixed|sticky)$/.test(getComputedStyle(cur2).position)&&(stop=!0),cur2.scrollHeight<=cur2.clientHeight&&cur2.scrollWidth<=cur2.clientWidth){cur2=cur2.assignedSlot||cur2.parentNode;continue}let rect2=cur2.getBoundingClientRect();({scaleX,scaleY}=getScale(cur2,rect2)),bounding={left:rect2.left,right:rect2.left+cur2.clientWidth*scaleX,top:rect2.top,bottom:rect2.top+cur2.clientHeight*scaleY}}let moveX=0,moveY=0;if(y2=="nearest")rect.top<bounding.top?(moveY=rect.top-(bounding.top+yMargin),side>0&&rect.bottom>bounding.bottom+moveY&&(moveY=rect.bottom-bounding.bottom+yMargin)):rect.bottom>bounding.bottom&&(moveY=rect.bottom-bounding.bottom+yMargin,side<0&&rect.top-moveY<bounding.top&&(moveY=rect.top-(bounding.top+yMargin)));else{let rectHeight=rect.bottom-rect.top,boundingHeight=bounding.bottom-bounding.top;moveY=(y2=="center"&&rectHeight<=boundingHeight?rect.top+rectHeight/2-boundingHeight/2:y2=="start"||y2=="center"&&side<0?rect.top-yMargin:rect.bottom-boundingHeight+yMargin)-bounding.top}if(x2=="nearest"?rect.left<bounding.left?(moveX=rect.left-(bounding.left+xMargin),side>0&&rect.right>bounding.right+moveX&&(moveX=rect.right-bounding.right+xMargin)):rect.right>bounding.right&&(moveX=rect.right-bounding.right+xMargin,side<0&&rect.left<bounding.left+moveX&&(moveX=rect.left-(bounding.left+xMargin))):moveX=(x2=="center"?rect.left+(rect.right-rect.left)/2-(bounding.right-bounding.left)/2:x2=="start"==ltr?rect.left-xMargin:rect.right-(bounding.right-bounding.left)+xMargin)-bounding.left,moveX||moveY)if(top2)win.scrollBy(moveX,moveY);else{let movedX=0,movedY=0;if(moveY){let start=cur2.scrollTop;cur2.scrollTop+=moveY/scaleY,movedY=(cur2.scrollTop-start)*scaleY}if(moveX){let start=cur2.scrollLeft;cur2.scrollLeft+=moveX/scaleX,movedX=(cur2.scrollLeft-start)*scaleX}rect={left:rect.left-movedX,top:rect.top-movedY,right:rect.right-movedX,bottom:rect.bottom-movedY},movedX&&Math.abs(movedX-moveX)<1&&(x2="nearest"),movedY&&Math.abs(movedY-moveY)<1&&(y2="nearest")}if(top2)break;(rect.top<bounding.top||rect.bottom>bounding.bottom||rect.left<bounding.left||rect.right>bounding.right)&&(rect={left:Math.max(rect.left,bounding.left),right:Math.min(rect.right,bounding.right),top:Math.max(rect.top,bounding.top),bottom:Math.min(rect.bottom,bounding.bottom)}),cur2=cur2.assignedSlot||cur2.parentNode}else if(cur2.nodeType==11)cur2=cur2.host;else break}function scrollableParents(dom){let doc2=dom.ownerDocument,x2,y2;for(let cur2=dom.parentNode;cur2&&!(cur2==doc2.body||x2&&y2);)if(cur2.nodeType==1)!y2&&cur2.scrollHeight>cur2.clientHeight&&(y2=cur2),!x2&&cur2.scrollWidth>cur2.clientWidth&&(x2=cur2),cur2=cur2.assignedSlot||cur2.parentNode;else if(cur2.nodeType==11)cur2=cur2.host;else break;return{x:x2,y:y2}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(domSel){return this.anchorNode==domSel.anchorNode&&this.anchorOffset==domSel.anchorOffset&&this.focusNode==domSel.focusNode&&this.focusOffset==domSel.focusOffset}setRange(range){let{anchorNode,focusNode}=range;this.set(anchorNode,Math.min(range.anchorOffset,anchorNode?maxOffset(anchorNode):0),focusNode,Math.min(range.focusOffset,focusNode?maxOffset(focusNode):0))}set(anchorNode,anchorOffset,focusNode,focusOffset){this.anchorNode=anchorNode,this.anchorOffset=anchorOffset,this.focusNode=focusNode,this.focusOffset=focusOffset}}let preventScrollSupported=null;browser.safari&&browser.safari_version>=26&&(preventScrollSupported=!1);function focusPreventScroll(dom){if(dom.setActive)return dom.setActive();if(preventScrollSupported)return dom.focus(preventScrollSupported);let stack=[];for(let cur2=dom;cur2&&(stack.push(cur2,cur2.scrollTop,cur2.scrollLeft),cur2!=cur2.ownerDocument);cur2=cur2.parentNode);if(dom.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let i=0;i<stack.length;){let elt2=stack[i++],top2=stack[i++],left=stack[i++];elt2.scrollTop!=top2&&(elt2.scrollTop=top2),elt2.scrollLeft!=left&&(elt2.scrollLeft=left)}}}let scratchRange;function textRange(node,from,to=from){let range=scratchRange||(scratchRange=document.createRange());return range.setEnd(node,to),range.setStart(node,from),range}function dispatchKey(elt2,name2,code,mods){let options={key:name2,code:name2,keyCode:code,which:code,cancelable:!0};mods&&({altKey:options.altKey,ctrlKey:options.ctrlKey,shiftKey:options.shiftKey,metaKey:options.metaKey}=mods);let down=new KeyboardEvent("keydown",options);down.synthetic=!0,elt2.dispatchEvent(down);let up=new KeyboardEvent("keyup",options);return up.synthetic=!0,elt2.dispatchEvent(up),down.defaultPrevented||up.defaultPrevented}function getRoot(node){for(;node;){if(node&&(node.nodeType==9||node.nodeType==11&&node.host))return node;node=node.assignedSlot||node.parentNode}return null}function clearAttributes(node){for(;node.attributes.length;)node.removeAttributeNode(node.attributes[0])}function atElementStart(doc2,selection){let node=selection.focusNode,offset=selection.focusOffset;if(!node||selection.anchorNode!=node||selection.anchorOffset!=offset)return!1;for(offset=Math.min(offset,maxOffset(node));;)if(offset){if(node.nodeType!=1)return!1;let prev=node.childNodes[offset-1];prev.contentEditable=="false"?offset--:(node=prev,offset=maxOffset(node))}else{if(node==doc2)return!0;offset=domIndex(node),node=node.parentNode}}function isScrolledToBottom(elt2){return elt2.scrollTop>Math.max(1,elt2.scrollHeight-elt2.clientHeight-4)}function textNodeBefore(startNode,startOffset){for(let node=startNode,offset=startOffset;;){if(node.nodeType==3&&offset>0)return{node,offset};if(node.nodeType==1&&offset>0){if(node.contentEditable=="false")return null;node=node.childNodes[offset-1],offset=maxOffset(node)}else if(node.parentNode&&!isBlockElement(node))offset=domIndex(node),node=node.parentNode;else return null}}function textNodeAfter(startNode,startOffset){for(let node=startNode,offset=startOffset;;){if(node.nodeType==3&&offset<node.nodeValue.length)return{node,offset};if(node.nodeType==1&&offset<node.childNodes.length){if(node.contentEditable=="false")return null;node=node.childNodes[offset],offset=0}else if(node.parentNode&&!isBlockElement(node))offset=domIndex(node)+1,node=node.parentNode;else return null}}class DOMPos{constructor(node,offset,precise=!0){this.node=node,this.offset=offset,this.precise=precise}static before(dom,precise){return new DOMPos(dom.parentNode,domIndex(dom),precise)}static after(dom,precise){return new DOMPos(dom.parentNode,domIndex(dom)+1,precise)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(view){let pos=this.posAtStart;for(let child of this.children){if(child==view)return pos;pos+=child.length+child.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(view){return this.posBefore(view)+view.length}sync(view,track){if(this.flags&2){let parent=this.dom,prev=null,next;for(let child of this.children){if(child.flags&7){if(!child.dom&&(next=prev?prev.nextSibling:parent.firstChild)){let contentView=ContentView.get(next);(!contentView||!contentView.parent&&contentView.canReuseDOM(child))&&child.reuseDOM(next)}child.sync(view,track),child.flags&=-8}if(next=prev?prev.nextSibling:parent.firstChild,track&&!track.written&&track.node==parent&&next!=child.dom&&(track.written=!0),child.dom.parentNode==parent)for(;next&&next!=child.dom;)next=rm$1(next);else parent.insertBefore(child.dom,next);prev=child.dom}for(next=prev?prev.nextSibling:parent.firstChild,next&&track&&track.node==parent&&(track.written=!0);next;)next=rm$1(next)}else if(this.flags&1)for(let child of this.children)child.flags&7&&(child.sync(view,track),child.flags&=-8)}reuseDOM(_dom){}localPosFromDOM(node,offset){let after;if(node==this.dom)after=this.dom.childNodes[offset];else{let bias=maxOffset(node)==0?0:offset==0?-1:1;for(;;){let parent=node.parentNode;if(parent==this.dom)break;bias==0&&parent.firstChild!=parent.lastChild&&(node==parent.firstChild?bias=-1:bias=1),node=parent}bias<0?after=node:after=node.nextSibling}if(after==this.dom.firstChild)return 0;for(;after&&!ContentView.get(after);)after=after.nextSibling;if(!after)return this.length;for(let i=0,pos=0;;i++){let child=this.children[i];if(child.dom==after)return pos;pos+=child.length+child.breakAfter}}domBoundsAround(from,to,offset=0){let fromI=-1,fromStart=-1,toI=-1,toEnd=-1;for(let i=0,pos=offset,prevEnd=offset;i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(pos<from&&end>to)return child.domBoundsAround(from,to,pos);if(end>=from&&fromI==-1&&(fromI=i,fromStart=pos),pos>to&&child.dom.parentNode==this.dom){toI=i,toEnd=prevEnd;break}prevEnd=end,pos=end+child.breakAfter}return{from:fromStart,to:toEnd<0?offset+this.length:toEnd,startDOM:(fromI?this.children[fromI-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:toI<this.children.length&&toI>=0?this.children[toI].dom:null}}markDirty(andParent=!1){this.flags|=2,this.markParentsDirty(andParent)}markParentsDirty(childList){for(let parent=this.parent;parent;parent=parent.parent){if(childList&&(parent.flags|=2),parent.flags&1)return;parent.flags|=1,childList=!1}}setParent(parent){this.parent!=parent&&(this.parent=parent,this.flags&7&&this.markParentsDirty(!0))}setDOM(dom){this.dom!=dom&&(this.dom&&(this.dom.cmView=null),this.dom=dom,dom.cmView=this)}get rootView(){for(let v2=this;;){let parent=v2.parent;if(!parent)return v2;v2=parent}}replaceChildren(from,to,children=noChildren){this.markDirty();for(let i=from;i<to;i++){let child=this.children[i];child.parent==this&&children.indexOf(child)<0&&child.destroy()}children.length<250?this.children.splice(from,to-from,...children):this.children=[].concat(this.children.slice(0,from),children,this.children.slice(to));for(let i=0;i<children.length;i++)children[i].setParent(this)}ignoreMutation(_rec){return!1}ignoreEvent(_event){return!1}childCursor(pos=this.length){return new ChildCursor(this.children,pos,this.children.length)}childPos(pos,bias=1){return this.childCursor().findPos(pos,bias)}toString(){let name2=this.constructor.name.replace("View","");return name2+(this.children.length?"("+this.children.join()+")":this.length?"["+(name2=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(node){return node.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(from,to,source,hasStart,openStart,openEnd){return!1}become(other){return!1}canReuseDOM(other){return other.constructor==this.constructor&&!((this.flags|other.flags)&8)}getSide(){return 0}destroy(){for(let child of this.children)child.parent==this&&child.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(dom){let next=dom.nextSibling;return dom.parentNode.removeChild(dom),next}class ChildCursor{constructor(children,pos,i){this.children=children,this.pos=pos,this.i=i,this.off=0}findPos(pos,bias=1){for(;;){if(pos>this.pos||pos==this.pos&&(bias>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=pos-this.pos,this;let next=this.children[--this.i];this.pos-=next.length+next.breakAfter}}}function replaceRange(parent,fromI,fromOff,toI,toOff,insert2,breakAtStart,openStart,openEnd){let{children}=parent,before=children.length?children[fromI]:null,last=insert2.length?insert2[insert2.length-1]:null,breakAtEnd=last?last.breakAfter:breakAtStart;if(!(fromI==toI&&before&&!breakAtStart&&!breakAtEnd&&insert2.length<2&&before.merge(fromOff,toOff,insert2.length?last:null,fromOff==0,openStart,openEnd))){if(toI<children.length){let after=children[toI];after&&(toOff<after.length||after.breakAfter&&last?.breakAfter)?(fromI==toI&&(after=after.split(toOff),toOff=0),!breakAtEnd&&last&&after.merge(0,toOff,last,!0,0,openEnd)?insert2[insert2.length-1]=after:((toOff||after.children.length&&!after.children[0].length)&&after.merge(0,toOff,null,!1,0,openEnd),insert2.push(after))):after?.breakAfter&&(last?last.breakAfter=1:breakAtStart=1),toI++}for(before&&(before.breakAfter=breakAtStart,fromOff>0&&(!breakAtStart&&insert2.length&&before.merge(fromOff,before.length,insert2[0],!1,openStart,0)?before.breakAfter=insert2.shift().breakAfter:(fromOff<before.length||before.children.length&&before.children[before.children.length-1].length==0)&&before.merge(fromOff,before.length,null,!1,openStart,0),fromI++));fromI<toI&&insert2.length;)if(children[toI-1].become(insert2[insert2.length-1]))toI--,insert2.pop(),openEnd=insert2.length?0:openStart;else if(children[fromI].become(insert2[0]))fromI++,insert2.shift(),openStart=insert2.length?0:openEnd;else break;!insert2.length&&fromI&&toI<children.length&&!children[fromI-1].breakAfter&&children[toI].merge(0,0,children[fromI-1],!1,openStart,openEnd)&&fromI--,(fromI<toI||insert2.length)&&parent.replaceChildren(fromI,toI,insert2)}}function mergeChildrenInto(parent,from,to,insert2,openStart,openEnd){let cur2=parent.childCursor(),{i:toI,off:toOff}=cur2.findPos(to,1),{i:fromI,off:fromOff}=cur2.findPos(from,-1),dLen=from-to;for(let view of insert2)dLen+=view.length;parent.length+=dLen,replaceRange(parent,fromI,fromOff,toI,toOff,insert2,0,openStart,openEnd)}const MaxJoinLen=256;class TextView extends ContentView{constructor(text2){super(),this.text=text2}get length(){return this.text.length}createDOM(textDOM){this.setDOM(textDOM||document.createTextNode(this.text))}sync(view,track){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(track&&track.node==this.dom&&(track.written=!0),this.dom.nodeValue=this.text)}reuseDOM(dom){dom.nodeType==3&&this.createDOM(dom)}merge(from,to,source){return this.flags&8||source&&(!(source instanceof TextView)||this.length-(to-from)+source.length>MaxJoinLen||source.flags&8)?!1:(this.text=this.text.slice(0,from)+(source?source.text:"")+this.text.slice(to),this.markDirty(),!0)}split(from){let result=new TextView(this.text.slice(from));return this.text=this.text.slice(0,from),this.markDirty(),result.flags|=this.flags&8,result}localPosFromDOM(node,offset){return node==this.dom?offset:offset?this.text.length:0}domAtPos(pos){return new DOMPos(this.dom,pos)}domBoundsAround(_from,_to,offset){return{from:offset,to:offset+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(pos,side){return textCoords(this.dom,pos,side)}}class MarkView extends ContentView{constructor(mark,children=[],length=0){super(),this.mark=mark,this.children=children,this.length=length;for(let ch of children)ch.setParent(this)}setAttrs(dom){if(clearAttributes(dom),this.mark.class&&(dom.className=this.mark.class),this.mark.attrs)for(let name2 in this.mark.attrs)dom.setAttribute(name2,this.mark.attrs[name2]);return dom}canReuseDOM(other){return super.canReuseDOM(other)&&!((this.flags|other.flags)&8)}reuseDOM(node){node.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(node),this.flags|=6)}sync(view,track){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(view,track)}merge(from,to,source,_hasStart,openStart,openEnd){return source&&(!(source instanceof MarkView&&source.mark.eq(this.mark))||from&&openStart<=0||to<this.length&&openEnd<=0)?!1:(mergeChildrenInto(this,from,to,source?source.children.slice():[],openStart-1,openEnd-1),this.markDirty(),!0)}split(from){let result=[],off=0,detachFrom=-1,i=0;for(let elt2 of this.children){let end=off+elt2.length;end>from&&result.push(off<from?elt2.split(from-off):elt2),detachFrom<0&&off>=from&&(detachFrom=i),off=end,i++}let length=this.length-from;return this.length=from,detachFrom>-1&&(this.children.length=detachFrom,this.markDirty()),new MarkView(this.mark,result,length)}domAtPos(pos){return inlineDOMAtPos(this,pos)}coordsAt(pos,side){return coordsInChildren(this,pos,side)}}function textCoords(text2,pos,side){let length=text2.nodeValue.length;pos>length&&(pos=length);let from=pos,to=pos,flatten2=0;pos==0&&side<0||pos==length&&side>=0?browser.chrome||browser.gecko||(pos?(from--,flatten2=1):to<length&&(to++,flatten2=-1)):side<0?from--:to<length&&to++;let rects=textRange(text2,from,to).getClientRects();if(!rects.length)return null;let rect=rects[(flatten2?flatten2<0:side>=0)?0:rects.length-1];return browser.safari&&!flatten2&&rect.width==0&&(rect=Array.prototype.find.call(rects,r2=>r2.width)||rect),flatten2?flattenRect(rect,flatten2<0):rect||null}class WidgetView extends ContentView{static create(widget,length,side){return new WidgetView(widget,length,side)}constructor(widget,length,side){super(),this.widget=widget,this.length=length,this.side=side,this.prevWidget=null}split(from){let result=WidgetView.create(this.widget,this.length-from,this.side);return this.length-=from,result}sync(view){(!this.dom||!this.widget.updateDOM(this.dom,view))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(view)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(from,to,source,hasStart,openStart,openEnd){return source&&(!(source instanceof WidgetView)||!this.widget.compare(source.widget)||from>0&&openStart<=0||to<this.length&&openEnd<=0)?!1:(this.length=from+(source?source.length:0)+(this.length-to),!0)}become(other){return other instanceof WidgetView&&other.side==this.side&&this.widget.constructor==other.widget.constructor?(this.widget.compare(other.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=other.widget,this.length=other.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(event){return this.widget.ignoreEvent(event)}get overrideDOMText(){if(this.length==0)return Text.empty;let top2=this;for(;top2.parent;)top2=top2.parent;let{view}=top2,text2=view&&view.state.doc,start=this.posAtStart;return text2?text2.slice(start,start+this.length):Text.empty}domAtPos(pos){return(this.length?pos==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,pos==this.length)}domBoundsAround(){return null}coordsAt(pos,side){let custom=this.widget.coordsAt(this.dom,pos,side);if(custom)return custom;let rects=this.dom.getClientRects(),rect=null;if(!rects.length)return null;let fromBack=this.side?this.side<0:pos>0;for(let i=fromBack?rects.length-1:0;rect=rects[i],!(pos>0?i==0:i==rects.length-1||rect.top<rect.bottom);i+=fromBack?-1:1);return flattenRect(rect,!fromBack)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(side){super(),this.side=side}get length(){return 0}merge(){return!1}become(other){return other instanceof WidgetBufferView&&other.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let dom=document.createElement("img");dom.className="cm-widgetBuffer",dom.setAttribute("aria-hidden","true"),this.setDOM(dom)}}getSide(){return this.side}domAtPos(pos){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(pos){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(parent,pos){let dom=parent.dom,{children}=parent,i=0;for(let off=0;i<children.length;i++){let child=children[i],end=off+child.length;if(!(end==off&&child.getSide()<=0)){if(pos>off&&pos<end&&child.dom.parentNode==dom)return child.domAtPos(pos-off);if(pos<=off)break;off=end}}for(let j2=i;j2>0;j2--){let prev=children[j2-1];if(prev.dom.parentNode==dom)return prev.domAtPos(prev.length)}for(let j2=i;j2<children.length;j2++){let next=children[j2];if(next.dom.parentNode==dom)return next.domAtPos(0)}return new DOMPos(dom,0)}function joinInlineInto(parent,view,open){let last,{children}=parent;open>0&&view instanceof MarkView&&children.length&&(last=children[children.length-1])instanceof MarkView&&last.mark.eq(view.mark)?joinInlineInto(last,view.children[0],open-1):(children.push(view),view.setParent(parent)),parent.length+=view.length}function coordsInChildren(view,pos,side){let before=null,beforePos=-1,after=null,afterPos=-1;function scan(view2,pos2){for(let i=0,off=0;i<view2.children.length&&off<=pos2;i++){let child=view2.children[i],end=off+child.length;end>=pos2&&(child.children.length?scan(child,pos2-off):(!after||after.isHidden&&(side>0||onSameLine(after,child)))&&(end>pos2||off==end&&child.getSide()>0)?(after=child,afterPos=pos2-off):(off<pos2||off==end&&child.getSide()<0&&!child.isHidden)&&(before=child,beforePos=pos2-off)),off=end}}scan(view,pos);let target=(side<0?before:after)||before||after;return target?target.coordsAt(Math.max(0,target==before?beforePos:afterPos),side):fallbackRect(view)}function fallbackRect(view){let last=view.dom.lastChild;if(!last)return view.dom.getBoundingClientRect();let rects=clientRectsFor(last);return rects[rects.length-1]||null}function onSameLine(a2,b2){let posA=a2.coordsAt(0,1),posB=b2.coordsAt(0,1);return posA&&posB&&posB.top<posA.bottom}function combineAttrs(source,target){for(let name2 in source)name2=="class"&&target.class?target.class+=" "+source.class:name2=="style"&&target.style?target.style+=";"+source.style:target[name2]=source[name2];return target}const noAttrs$1=Object.create(null);function attrsEq(a2,b2,ignore){if(a2==b2)return!0;a2||(a2=noAttrs$1),b2||(b2=noAttrs$1);let keysA=Object.keys(a2),keysB=Object.keys(b2);if(keysA.length-(ignore&&keysA.indexOf(ignore)>-1?1:0)!=keysB.length-(ignore&&keysB.indexOf(ignore)>-1?1:0))return!1;for(let key of keysA)if(key!=ignore&&(keysB.indexOf(key)==-1||a2[key]!==b2[key]))return!1;return!0}function updateAttrs(dom,prev,attrs){let changed=!1;if(prev)for(let name2 in prev)attrs&&name2 in attrs||(changed=!0,name2=="style"?dom.style.cssText="":dom.removeAttribute(name2));if(attrs)for(let name2 in attrs)prev&&prev[name2]==attrs[name2]||(changed=!0,name2=="style"?dom.style.cssText=attrs[name2]:dom.setAttribute(name2,attrs[name2]));return changed}function getAttrs$1(dom){let attrs=Object.create(null);for(let i=0;i<dom.attributes.length;i++){let attr=dom.attributes[i];attrs[attr.name]=attr.value}return attrs}class WidgetType{eq(widget){return!1}updateDOM(dom,view){return!1}compare(other){return this==other||this.constructor==other.constructor&&this.eq(other)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(event){return!0}coordsAt(dom,pos,side){return null}get isHidden(){return!1}get editable(){return!1}destroy(dom){}}var BlockType=function(BlockType2){return BlockType2[BlockType2.Text=0]="Text",BlockType2[BlockType2.WidgetBefore=1]="WidgetBefore",BlockType2[BlockType2.WidgetAfter=2]="WidgetAfter",BlockType2[BlockType2.WidgetRange=3]="WidgetRange",BlockType2}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(startSide,endSide,widget,spec){super(),this.startSide=startSide,this.endSide=endSide,this.widget=widget,this.spec=spec}get heightRelevant(){return!1}static mark(spec){return new MarkDecoration(spec)}static widget(spec){let side=Math.max(-1e4,Math.min(1e4,spec.side||0)),block2=!!spec.block;return side+=block2&&!spec.inlineOrder?side>0?3e8:-4e8:side>0?1e8:-1e8,new PointDecoration(spec,side,side,block2,spec.widget||null,!1)}static replace(spec){let block2=!!spec.block,startSide,endSide;if(spec.isBlockGap)startSide=-5e8,endSide=4e8;else{let{start,end}=getInclusive(spec,block2);startSide=(start?block2?-3e8:-1:5e8)-1,endSide=(end?block2?2e8:1:-6e8)+1}return new PointDecoration(spec,startSide,endSide,block2,spec.widget||null,!0)}static line(spec){return new LineDecoration(spec)}static set(of,sort=!1){return RangeSet.of(of,sort)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(spec){let{start,end}=getInclusive(spec);super(start?-1:5e8,end?1:-6e8,null,spec),this.tagName=spec.tagName||"span",this.class=spec.class||"",this.attrs=spec.attributes||null}eq(other){var _a4,_b;return this==other||other instanceof MarkDecoration&&this.tagName==other.tagName&&(this.class||((_a4=this.attrs)===null||_a4===void 0?void 0:_a4.class))==(other.class||((_b=other.attrs)===null||_b===void 0?void 0:_b.class))&&attrsEq(this.attrs,other.attrs,"class")}range(from,to=from){if(from>=to)throw new RangeError("Mark decorations may not be empty");return super.range(from,to)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(spec){super(-2e8,-2e8,null,spec)}eq(other){return other instanceof LineDecoration&&this.spec.class==other.spec.class&&attrsEq(this.spec.attributes,other.spec.attributes)}range(from,to=from){if(to!=from)throw new RangeError("Line decoration ranges must be zero-length");return super.range(from,to)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(spec,startSide,endSide,block2,widget,isReplace){super(startSide,endSide,widget,spec),this.block=block2,this.isReplace=isReplace,this.mapMode=block2?startSide<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(other){return other instanceof PointDecoration&&widgetsEq(this.widget,other.widget)&&this.block==other.block&&this.startSide==other.startSide&&this.endSide==other.endSide}range(from,to=from){if(this.isReplace&&(from>to||from==to&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&to!=from)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(from,to)}}PointDecoration.prototype.point=!0;function getInclusive(spec,block2=!1){let{inclusiveStart:start,inclusiveEnd:end}=spec;return start==null&&(start=spec.inclusive),end==null&&(end=spec.inclusive),{start:start??block2,end:end??block2}}function widgetsEq(a2,b2){return a2==b2||!!(a2&&b2&&a2.compare(b2))}function addRange(from,to,ranges,margin=0){let last=ranges.length-1;last>=0&&ranges[last]+margin>=from?ranges[last]=Math.max(ranges[last],to):ranges.push(from,to)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(from,to,source,hasStart,openStart,openEnd){if(source){if(!(source instanceof LineView))return!1;this.dom||source.transferDOM(this)}return hasStart&&this.setDeco(source?source.attrs:null),mergeChildrenInto(this,from,to,source?source.children.slice():[],openStart,openEnd),!0}split(at2){let end=new LineView;if(end.breakAfter=this.breakAfter,this.length==0)return end;let{i,off}=this.childPos(at2);off&&(end.append(this.children[i].split(off),0),this.children[i].merge(off,this.children[i].length,null,!1,0,0),i++);for(let j2=i;j2<this.children.length;j2++)end.append(this.children[j2],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=at2,end}transferDOM(other){this.dom&&(this.markDirty(),other.setDOM(this.dom),other.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(attrs){attrsEq(this.attrs,attrs)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=attrs)}append(child,openStart){joinInlineInto(this,child,openStart)}addLineDeco(deco){let attrs=deco.spec.attributes,cls=deco.spec.class;attrs&&(this.attrs=combineAttrs(attrs,this.attrs||{})),cls&&(this.attrs=combineAttrs({class:cls},this.attrs||{}))}domAtPos(pos){return inlineDOMAtPos(this,pos)}reuseDOM(node){node.nodeName=="DIV"&&(this.setDOM(node),this.flags|=6)}sync(view,track){var _a4;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(view,track);let last=this.dom.lastChild;for(;last&&ContentView.get(last)instanceof MarkView;)last=last.lastChild;if(!last||!this.length||last.nodeName!="BR"&&((_a4=ContentView.get(last))===null||_a4===void 0?void 0:_a4.isEditable)==!1&&(!browser.ios||!this.children.some(ch=>ch instanceof TextView))){let hack=document.createElement("BR");hack.cmIgnore=!0,this.dom.appendChild(hack)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let totalWidth=0,textHeight;for(let child of this.children){if(!(child instanceof TextView)||/[^ -~]/.test(child.text))return null;let rects=clientRectsFor(child.dom);if(rects.length!=1)return null;totalWidth+=rects[0].width,textHeight=rects[0].height}return totalWidth?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:totalWidth/this.length,textHeight}:null}coordsAt(pos,side){let rect=coordsInChildren(this,pos,side);if(!this.children.length&&rect&&this.parent){let{heightOracle}=this.parent.view.viewState,height=rect.bottom-rect.top;if(Math.abs(height-heightOracle.lineHeight)<2&&heightOracle.textHeight<height){let dist2=(height-heightOracle.textHeight)/2;return{top:rect.top+dist2,bottom:rect.bottom-dist2,left:rect.left,right:rect.left}}}return rect}become(other){return other instanceof LineView&&this.children.length==0&&other.children.length==0&&attrsEq(this.attrs,other.attrs)&&this.breakAfter==other.breakAfter}covers(){return!0}static find(docView,pos){for(let i=0,off=0;i<docView.children.length;i++){let block2=docView.children[i],end=off+block2.length;if(end>=pos){if(block2 instanceof LineView)return block2;if(end>pos)break}off=end+block2.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(widget,length,deco){super(),this.widget=widget,this.length=length,this.deco=deco,this.breakAfter=0,this.prevWidget=null}merge(from,to,source,_takeDeco,openStart,openEnd){return source&&(!(source instanceof BlockWidgetView)||!this.widget.compare(source.widget)||from>0&&openStart<=0||to<this.length&&openEnd<=0)?!1:(this.length=from+(source?source.length:0)+(this.length-to),!0)}domAtPos(pos){return pos==0?DOMPos.before(this.dom):DOMPos.after(this.dom,pos==this.length)}split(at2){let len=this.length-at2;this.length=at2;let end=new BlockWidgetView(this.widget,len,this.deco);return end.breakAfter=this.breakAfter,end}get children(){return noChildren}sync(view){(!this.dom||!this.widget.updateDOM(this.dom,view))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(view)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(other){return other instanceof BlockWidgetView&&other.widget.constructor==this.widget.constructor?(other.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=other.widget,this.length=other.length,this.deco=other.deco,this.breakAfter=other.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(event){return this.widget.ignoreEvent(event)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(pos,side){let custom=this.widget.coordsAt(this.dom,pos,side);return custom||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?pos==0:side<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(side){let{startSide,endSide}=this.deco;return startSide==endSide?!1:side<0?startSide<0:endSide>0}}class BlockGapWidget extends WidgetType{constructor(height){super(),this.height=height}toDOM(){let elt2=document.createElement("div");return elt2.className="cm-gap",this.updateDOM(elt2),elt2}eq(other){return other.height==this.height}updateDOM(elt2){return elt2.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(doc2,pos,end,disallowBlockEffectsFor){this.doc=doc2,this.pos=pos,this.end=end,this.disallowBlockEffectsFor=disallowBlockEffectsFor,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=doc2.iter(),this.skip=pos}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let last=this.content[this.content.length-1];return!(last.breakAfter||last instanceof BlockWidgetView&&last.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(active=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),active),active.length),this.pendingBuffer=0)}addBlockWidget(view){this.flushBuffer(),this.curLine=null,this.content.push(view)}finish(openEnd){this.pendingBuffer&&openEnd<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(openEnd&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(length,active,openStart){for(;length>0;){if(this.textOff==this.text.length){let{value,lineBreak,done}=this.cursor.next(this.skip);if(this.skip=0,done)throw new Error("Ran out of text content when drawing inline views");if(lineBreak){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,length--;continue}else this.text=value,this.textOff=0}let remaining=Math.min(this.text.length-this.textOff,length),take=Math.min(remaining,512);this.flushBuffer(active.slice(active.length-openStart)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+take)),active),openStart),this.atCursorPos=!0,this.textOff+=take,length-=take,openStart=remaining<=take?0:active.length}}span(from,to,active,openStart){this.buildText(to-from,active,openStart),this.pos=to,this.openStart<0&&(this.openStart=openStart)}point(from,to,deco,active,openStart,index2){if(this.disallowBlockEffectsFor[index2]&&deco instanceof PointDecoration){if(deco.block)throw new RangeError("Block decorations may not be specified via plugins");if(to>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let len=to-from;if(deco instanceof PointDecoration)if(deco.block)deco.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(deco.widget||NullWidget.block,len,deco));else{let view=WidgetView.create(deco.widget||NullWidget.inline,len,len?0:deco.startSide),cursorBefore=this.atCursorPos&&!view.isEditable&&openStart<=active.length&&(from<to||deco.startSide>0),cursorAfter=!view.isEditable&&(from<to||openStart>active.length||deco.startSide<=0),line=this.getLine();this.pendingBuffer==2&&!cursorBefore&&!view.isEditable&&(this.pendingBuffer=0),this.flushBuffer(active),cursorBefore&&(line.append(wrapMarks(new WidgetBufferView(1),active),openStart),openStart=active.length+Math.max(0,openStart-active.length)),line.append(wrapMarks(view,active),openStart),this.atCursorPos=cursorAfter,this.pendingBuffer=cursorAfter?from<to||openStart>active.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=active.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(deco);len&&(this.textOff+len<=this.text.length?this.textOff+=len:(this.skip+=len-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=to),this.openStart<0&&(this.openStart=openStart)}static build(text2,from,to,decorations2,dynamicDecorationMap){let builder=new ContentBuilder(text2,from,to,dynamicDecorationMap);return builder.openEnd=RangeSet.spans(decorations2,from,to,builder),builder.openStart<0&&(builder.openStart=builder.openEnd),builder.finish(builder.openEnd),builder}}function wrapMarks(view,active){for(let mark of active)view=new MarkView(mark,[view],view.length);return view}class NullWidget extends WidgetType{constructor(tag){super(),this.tag=tag}eq(other){return other.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(elt2){return elt2.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(Direction2){return Direction2[Direction2.LTR=0]="LTR",Direction2[Direction2.RTL=1]="RTL",Direction2}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(str){let result=[];for(let i=0;i<str.length;i++)result.push(1<<+str[i]);return result}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let p2 of["()","[]","{}"]){let l2=p2.charCodeAt(0),r2=p2.charCodeAt(1);Brackets[l2]=r2,Brackets[r2]=-l2}function charType(ch){return ch<=247?LowTypes[ch]:1424<=ch&&ch<=1524?2:1536<=ch&&ch<=1785?ArabicTypes[ch-1536]:1774<=ch&&ch<=2220?4:8192<=ch&&ch<=8204?256:64336<=ch&&ch<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(from,to,level){this.from=from,this.to=to,this.level=level}side(end,dir){return this.dir==dir==end?this.to:this.from}forward(forward,dir){return forward==(this.dir==dir)}static find(order,index2,level,assoc){let maybe=-1;for(let i=0;i<order.length;i++){let span=order[i];if(span.from<=index2&&span.to>=index2){if(span.level==level)return i;(maybe<0||(assoc!=0?assoc<0?span.from<index2:span.to>index2:order[maybe].level>span.level))&&(maybe=i)}}if(maybe<0)throw new RangeError("Index out of range");return maybe}}function isolatesEq(a2,b2){if(a2.length!=b2.length)return!1;for(let i=0;i<a2.length;i++){let iA=a2[i],iB=b2[i];if(iA.from!=iB.from||iA.to!=iB.to||iA.direction!=iB.direction||!isolatesEq(iA.inner,iB.inner))return!1}return!0}const types=[];function computeCharTypes(line,rFrom,rTo,isolates,outerType){for(let iI=0;iI<=isolates.length;iI++){let from=iI?isolates[iI-1].to:rFrom,to=iI<isolates.length?isolates[iI].from:rTo,prevType=iI?256:outerType;for(let i=from,prev=prevType,prevStrong=prevType;i<to;i++){let type=charType(line.charCodeAt(i));type==512?type=prev:type==8&&prevStrong==4&&(type=16),types[i]=type==4?2:type,type&7&&(prevStrong=type),prev=type}for(let i=from,prev=prevType,prevStrong=prevType;i<to;i++){let type=types[i];if(type==128)i<to-1&&prev==types[i+1]&&prev&24?type=types[i]=prev:types[i]=256;else if(type==64){let end=i+1;for(;end<to&&types[end]==64;)end++;let replace2=i&&prev==8||end<rTo&&types[end]==8?prevStrong==1?1:8:256;for(let j2=i;j2<end;j2++)types[j2]=replace2;i=end-1}else type==8&&prevStrong==1&&(types[i]=1);prev=type,type&7&&(prevStrong=type)}}}function processBracketPairs(line,rFrom,rTo,isolates,outerType){let oppositeType=outerType==1?2:1;for(let iI=0,sI=0,context=0;iI<=isolates.length;iI++){let from=iI?isolates[iI-1].to:rFrom,to=iI<isolates.length?isolates[iI].from:rTo;for(let i=from,ch,br,type;i<to;i++)if(br=Brackets[ch=line.charCodeAt(i)])if(br<0){for(let sJ=sI-3;sJ>=0;sJ-=3)if(BracketStack[sJ+1]==-br){let flags=BracketStack[sJ+2],type2=flags&2?outerType:flags&4?flags&1?oppositeType:outerType:0;type2&&(types[i]=types[BracketStack[sJ]]=type2),sI=sJ;break}}else{if(BracketStack.length==189)break;BracketStack[sI++]=i,BracketStack[sI++]=ch,BracketStack[sI++]=context}else if((type=types[i])==2||type==1){let embed=type==outerType;context=embed?0:1;for(let sJ=sI-3;sJ>=0;sJ-=3){let cur2=BracketStack[sJ+2];if(cur2&2)break;if(embed)BracketStack[sJ+2]|=2;else{if(cur2&4)break;BracketStack[sJ+2]|=4}}}}}function processNeutrals(rFrom,rTo,isolates,outerType){for(let iI=0,prev=outerType;iI<=isolates.length;iI++){let from=iI?isolates[iI-1].to:rFrom,to=iI<isolates.length?isolates[iI].from:rTo;for(let i=from;i<to;){let type=types[i];if(type==256){let end=i+1;for(;;)if(end==to){if(iI==isolates.length)break;end=isolates[iI++].to,to=iI<isolates.length?isolates[iI].from:rTo}else if(types[end]==256)end++;else break;let beforeL=prev==1,afterL=(end<rTo?types[end]:outerType)==1,replace2=beforeL==afterL?beforeL?1:2:outerType;for(let j2=end,jI=iI,fromJ=jI?isolates[jI-1].to:rFrom;j2>i;)j2==fromJ&&(j2=isolates[--jI].from,fromJ=jI?isolates[jI-1].to:rFrom),types[--j2]=replace2;i=end}else prev=type,i++}}}function emitSpans(line,from,to,level,baseLevel,isolates,order){let ourType=level%2?2:1;if(level%2==baseLevel%2)for(let iCh=from,iI=0;iCh<to;){let sameDir=!0,isNum=!1;if(iI==isolates.length||iCh<isolates[iI].from){let next=types[iCh];next!=ourType&&(sameDir=!1,isNum=next==16)}let recurse=!sameDir&&ourType==1?[]:null,localLevel=sameDir?level:level+1,iScan=iCh;run:for(;;)if(iI<isolates.length&&iScan==isolates[iI].from){if(isNum)break run;let iso=isolates[iI];if(!sameDir)for(let upto=iso.to,jI=iI+1;;){if(upto==to)break run;if(jI<isolates.length&&isolates[jI].from==upto)upto=isolates[jI++].to;else{if(types[upto]==ourType)break run;break}}if(iI++,recurse)recurse.push(iso);else{iso.from>iCh&&order.push(new BidiSpan(iCh,iso.from,localLevel));let dirSwap=iso.direction==LTR!=!(localLevel%2);computeSectionOrder(line,dirSwap?level+1:level,baseLevel,iso.inner,iso.from,iso.to,order),iCh=iso.to}iScan=iso.to}else{if(iScan==to||(sameDir?types[iScan]!=ourType:types[iScan]==ourType))break;iScan++}recurse?emitSpans(line,iCh,iScan,level+1,baseLevel,recurse,order):iCh<iScan&&order.push(new BidiSpan(iCh,iScan,localLevel)),iCh=iScan}else for(let iCh=to,iI=isolates.length;iCh>from;){let sameDir=!0,isNum=!1;if(!iI||iCh>isolates[iI-1].to){let next=types[iCh-1];next!=ourType&&(sameDir=!1,isNum=next==16)}let recurse=!sameDir&&ourType==1?[]:null,localLevel=sameDir?level:level+1,iScan=iCh;run:for(;;)if(iI&&iScan==isolates[iI-1].to){if(isNum)break run;let iso=isolates[--iI];if(!sameDir)for(let upto=iso.from,jI=iI;;){if(upto==from)break run;if(jI&&isolates[jI-1].to==upto)upto=isolates[--jI].from;else{if(types[upto-1]==ourType)break run;break}}if(recurse)recurse.push(iso);else{iso.to<iCh&&order.push(new BidiSpan(iso.to,iCh,localLevel));let dirSwap=iso.direction==LTR!=!(localLevel%2);computeSectionOrder(line,dirSwap?level+1:level,baseLevel,iso.inner,iso.from,iso.to,order),iCh=iso.from}iScan=iso.from}else{if(iScan==from||(sameDir?types[iScan-1]!=ourType:types[iScan-1]==ourType))break;iScan--}recurse?emitSpans(line,iScan,iCh,level+1,baseLevel,recurse,order):iScan<iCh&&order.push(new BidiSpan(iScan,iCh,localLevel)),iCh=iScan}}function computeSectionOrder(line,level,baseLevel,isolates,from,to,order){let outerType=level%2?2:1;computeCharTypes(line,from,to,isolates,outerType),processBracketPairs(line,from,to,isolates,outerType),processNeutrals(from,to,isolates,outerType),emitSpans(line,from,to,level,baseLevel,isolates,order)}function computeOrder(line,direction,isolates){if(!line)return[new BidiSpan(0,0,direction==RTL?1:0)];if(direction==LTR&&!isolates.length&&!BidiRE.test(line))return trivialOrder(line.length);if(isolates.length)for(;line.length>types.length;)types[types.length]=256;let order=[],level=direction==LTR?0:1;return computeSectionOrder(line,level,level,isolates,0,line.length,order),order}function trivialOrder(length){return[new BidiSpan(0,length,0)]}let movedOver="";function moveVisually(line,order,dir,start,forward){var _a4;let startIndex=start.head-line.from,spanI=BidiSpan.find(order,startIndex,(_a4=start.bidiLevel)!==null&&_a4!==void 0?_a4:-1,start.assoc),span=order[spanI],spanEnd=span.side(forward,dir);if(startIndex==spanEnd){let nextI=spanI+=forward?1:-1;if(nextI<0||nextI>=order.length)return null;span=order[spanI=nextI],startIndex=span.side(!forward,dir),spanEnd=span.side(forward,dir)}let nextIndex=findClusterBreak(line.text,startIndex,span.forward(forward,dir));(nextIndex<span.from||nextIndex>span.to)&&(nextIndex=spanEnd),movedOver=line.text.slice(Math.min(startIndex,nextIndex),Math.max(startIndex,nextIndex));let nextSpan=spanI==(forward?order.length-1:0)?null:order[spanI+(forward?1:-1)];return nextSpan&&nextIndex==spanEnd&&nextSpan.level+(forward?0:1)<span.level?EditorSelection.cursor(nextSpan.side(!forward,dir)+line.from,nextSpan.forward(forward,dir)?1:-1,nextSpan.level):EditorSelection.cursor(nextIndex+line.from,span.forward(forward,dir)?-1:1,span.level)}function autoDirection(text2,from,to){for(let i=from;i<to;i++){let type=charType(text2.charCodeAt(i));if(type==1)return LTR;if(type==2||type==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:values2=>values2.some(x2=>x2)}),nativeSelectionHidden=Facet.define({combine:values2=>values2.some(x2=>x2)}),scrollHandler=Facet.define();class ScrollTarget{constructor(range,y2="nearest",x2="nearest",yMargin=5,xMargin=5,isSnapshot=!1){this.range=range,this.y=y2,this.x=x2,this.yMargin=yMargin,this.xMargin=xMargin,this.isSnapshot=isSnapshot}map(changes){return changes.empty?this:new ScrollTarget(this.range.map(changes),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(state){return this.range.to<=state.doc.length?this:new ScrollTarget(EditorSelection.cursor(state.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(t2,ch)=>t2.map(ch)}),setEditContextFormatting=StateEffect.define();function logException(state,exception,context){let handler=state.facet(exceptionSink);handler.length?handler[0](exception):window.onerror&&window.onerror(String(exception),context,void 0,void 0,exception)||(context?console.error(context+":",exception):console.error(exception))}const editable=Facet.define({combine:values2=>values2.length?values2[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(plugins){return plugins.filter((p2,i)=>{for(let j2=0;j2<i;j2++)if(plugins[j2].plugin==p2.plugin)return!1;return!0})}});class ViewPlugin{constructor(id2,create,domEventHandlers,domEventObservers,buildExtensions){this.id=id2,this.create=create,this.domEventHandlers=domEventHandlers,this.domEventObservers=domEventObservers,this.baseExtensions=buildExtensions(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(arg){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg}))}static define(create,spec){const{eventHandlers,eventObservers,provide:provide2,decorations:deco}=spec||{};return new ViewPlugin(nextPluginID++,create,eventHandlers,eventObservers,plugin=>{let ext=[];return deco&&ext.push(decorations.of(view=>{let pluginInst=view.plugin(plugin);return pluginInst?deco(pluginInst):Decoration.none})),provide2&&ext.push(provide2(plugin)),ext})}static fromClass(cls,spec){return ViewPlugin.define((view,arg)=>new cls(view,arg),spec)}}class PluginInstance{constructor(spec){this.spec=spec,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(view){if(this.value){if(this.mustUpdate){let update=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(update)}catch(e2){if(logException(update.state,e2,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(view,this.spec.arg)}catch(e2){logException(view.state,e2,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(view){var _a4;if(!((_a4=this.value)===null||_a4===void 0)&&_a4.destroy)try{this.value.destroy()}catch(e2){logException(view.state,e2,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(view,line){let isolates=view.state.facet(bidiIsolatedRanges);if(!isolates.length)return isolates;let sets=isolates.map(i=>i instanceof Function?i(view):i),result=[];return RangeSet.spans(sets,line.from,line.to,{point(){},span(fromDoc,toDoc,active,open){let from=fromDoc-line.from,to=toDoc-line.from,level=result;for(let i=active.length-1;i>=0;i--,open--){let direction=active[i].spec.bidiIsolate,update;if(direction==null&&(direction=autoDirection(line.text,from,to)),open>0&&level.length&&(update=level[level.length-1]).to==from&&update.direction==direction)update.to=to,level=update.inner;else{let add3={from,to,direction,inner:[]};level.push(add3),level=add3.inner}}}}),result}const scrollMargins=Facet.define();function getScrollMargins(view){let left=0,right=0,top2=0,bottom=0;for(let source of view.state.facet(scrollMargins)){let m2=source(view);m2&&(m2.left!=null&&(left=Math.max(left,m2.left)),m2.right!=null&&(right=Math.max(right,m2.right)),m2.top!=null&&(top2=Math.max(top2,m2.top)),m2.bottom!=null&&(bottom=Math.max(bottom,m2.bottom)))}return{left,right,top:top2,bottom}}const styleModule=Facet.define();class ChangedRange{constructor(fromA,toA,fromB,toB){this.fromA=fromA,this.toA=toA,this.fromB=fromB,this.toB=toB}join(other){return new ChangedRange(Math.min(this.fromA,other.fromA),Math.max(this.toA,other.toA),Math.min(this.fromB,other.fromB),Math.max(this.toB,other.toB))}addToSet(set2){let i=set2.length,me2=this;for(;i>0;i--){let range=set2[i-1];if(!(range.fromA>me2.toA)){if(range.toA<me2.fromA)break;me2=me2.join(range),set2.splice(i-1,1)}}return set2.splice(i,0,me2),set2}static extendWithRanges(diff,ranges){if(ranges.length==0)return diff;let result=[];for(let dI=0,rI=0,posA=0,posB=0;;dI++){let next=dI==diff.length?null:diff[dI],off=posA-posB,end=next?next.fromB:1e9;for(;rI<ranges.length&&ranges[rI]<end;){let from=ranges[rI],to=ranges[rI+1],fromB=Math.max(posB,from),toB=Math.min(end,to);if(fromB<=toB&&new ChangedRange(fromB+off,toB+off,fromB,toB).addToSet(result),to>end)break;rI+=2}if(!next)return result;new ChangedRange(next.fromA,next.toA,next.fromB,next.toB).addToSet(result),posA=next.toA,posB=next.toB}}}class ViewUpdate{constructor(view,state,transactions){this.view=view,this.state=state,this.transactions=transactions,this.flags=0,this.startState=view.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let tr of transactions)this.changes=this.changes.compose(tr.changes);let changedRanges=[];this.changes.iterChangedRanges((fromA,toA,fromB,toB)=>changedRanges.push(new ChangedRange(fromA,toA,fromB,toB))),this.changedRanges=changedRanges}static create(view,state,transactions){return new ViewUpdate(view,state,transactions)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(tr=>tr.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(view){super(),this.view=view,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(view.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,view.state.doc.length)],0,null)}update(update){var _a4;let changedRanges=update.changedRanges;this.minWidth>0&&changedRanges.length&&(changedRanges.every(({fromA,toA})=>toA<this.minWidthFrom||fromA>this.minWidthTo)?(this.minWidthFrom=update.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=update.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(update);let readCompositionAt=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((_a4=this.domChanged)===null||_a4===void 0)&&_a4.newSel?readCompositionAt=this.domChanged.newSel.head:!touchesComposition(update.changes,this.hasComposition)&&!update.selectionSet&&(readCompositionAt=update.state.selection.main.head));let composition=readCompositionAt>-1?findCompositionRange(this.view,update.changes,readCompositionAt):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from,to}=this.hasComposition;changedRanges=new ChangedRange(from,to,update.changes.mapPos(from,-1),update.changes.mapPos(to,1)).addToSet(changedRanges.slice())}this.hasComposition=composition?{from:composition.range.fromB,to:composition.range.toB}:null,(browser.ie||browser.chrome)&&!composition&&update&&update.state.doc.lines!=update.startState.doc.lines&&(this.forceSelection=!0);let prevDeco=this.decorations,deco=this.updateDeco(),decoDiff=findChangedDeco(prevDeco,deco,update.changes);return changedRanges=ChangedRange.extendWithRanges(changedRanges,decoDiff),!(this.flags&7)&&changedRanges.length==0?!1:(this.updateInner(changedRanges,update.startState.doc.length,composition),update.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(changes,oldLength,composition){this.view.viewState.mustMeasureContent=!0,this.updateChildren(changes,oldLength,composition);let{observer}=this.view;observer.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let track=browser.chrome||browser.ios?{node:observer.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,track),this.flags&=-8,track&&(track.written||observer.selectionRange.focusNode!=track.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(cView=>cView.flags&=-9);let gaps=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let child of this.children)child instanceof BlockWidgetView&&child.widget instanceof BlockGapWidget&&gaps.push(child.dom);observer.updateGaps(gaps)}updateChildren(changes,oldLength,composition){let ranges=composition?composition.range.addToSet(changes.slice()):changes,cursor=this.childCursor(oldLength);for(let i=ranges.length-1;;i--){let next=i>=0?ranges[i]:null;if(!next)break;let{fromA,toA,fromB,toB}=next,content2,breakAtStart,openStart,openEnd;if(composition&&composition.range.fromB<toB&&composition.range.toB>fromB){let before=ContentBuilder.build(this.view.state.doc,fromB,composition.range.fromB,this.decorations,this.dynamicDecorationMap),after=ContentBuilder.build(this.view.state.doc,composition.range.toB,toB,this.decorations,this.dynamicDecorationMap);breakAtStart=before.breakAtStart,openStart=before.openStart,openEnd=after.openEnd;let compLine=this.compositionView(composition);after.breakAtStart?compLine.breakAfter=1:after.content.length&&compLine.merge(compLine.length,compLine.length,after.content[0],!1,after.openStart,0)&&(compLine.breakAfter=after.content[0].breakAfter,after.content.shift()),before.content.length&&compLine.merge(0,0,before.content[before.content.length-1],!0,0,before.openEnd)&&before.content.pop(),content2=before.content.concat(compLine).concat(after.content)}else({content:content2,breakAtStart,openStart,openEnd}=ContentBuilder.build(this.view.state.doc,fromB,toB,this.decorations,this.dynamicDecorationMap));let{i:toI,off:toOff}=cursor.findPos(toA,1),{i:fromI,off:fromOff}=cursor.findPos(fromA,-1);replaceRange(this,fromI,fromOff,toI,toOff,content2,breakAtStart,openStart,openEnd)}composition&&this.fixCompositionDOM(composition)}updateEditContextFormatting(update){this.editContextFormatting=this.editContextFormatting.map(update.changes);for(let tr of update.transactions)for(let effect of tr.effects)effect.is(setEditContextFormatting)&&(this.editContextFormatting=effect.value)}compositionView(composition){let cur2=new TextView(composition.text.nodeValue);cur2.flags|=8;for(let{deco}of composition.marks)cur2=new MarkView(deco,[cur2],cur2.length);let line=new LineView;return line.append(cur2,0),line}fixCompositionDOM(composition){let fix=(dom,cView2)=>{cView2.flags|=8|(cView2.children.some(c2=>c2.flags&7)?1:0),this.markedForComposition.add(cView2);let prev=ContentView.get(dom);prev&&prev!=cView2&&(prev.dom=null),cView2.setDOM(dom)},pos=this.childPos(composition.range.fromB,1),cView=this.children[pos.i];fix(composition.line,cView);for(let i=composition.marks.length-1;i>=-1;i--)pos=cView.childPos(pos.off,1),cView=cView.children[pos.i],fix(i>=0?composition.marks[i].node:composition.text,cView)}updateSelection(mustRead=!1,fromPointer=!1){(mustRead||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let activeElt=this.view.root.activeElement,focused=activeElt==this.dom,selectionNotFocus=!focused&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(activeElt&&this.dom.contains(activeElt));if(!(focused||fromPointer||selectionNotFocus))return;let force=this.forceSelection;this.forceSelection=!1;let main=this.view.state.selection.main,anchor=this.moveToLine(this.domAtPos(main.anchor)),head=main.empty?anchor:this.moveToLine(this.domAtPos(main.head));if(browser.gecko&&main.empty&&!this.hasComposition&&betweenUneditable(anchor)){let dummy=document.createTextNode("");this.view.observer.ignore(()=>anchor.node.insertBefore(dummy,anchor.node.childNodes[anchor.offset]||null)),anchor=head=new DOMPos(dummy,0),force=!0}let domSel=this.view.observer.selectionRange;(force||!domSel.focusNode||(!isEquivalentPosition(anchor.node,anchor.offset,domSel.anchorNode,domSel.anchorOffset)||!isEquivalentPosition(head.node,head.offset,domSel.focusNode,domSel.focusOffset))&&!this.suppressWidgetCursorChange(domSel,main))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(domSel.focusNode)&&inUneditable(domSel.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let rawSel=getSelection(this.view.root);if(rawSel)if(main.empty){if(browser.gecko){let nextTo=nextToUneditable(anchor.node,anchor.offset);if(nextTo&&nextTo!=3){let text2=(nextTo==1?textNodeBefore:textNodeAfter)(anchor.node,anchor.offset);text2&&(anchor=new DOMPos(text2.node,text2.offset))}}rawSel.collapse(anchor.node,anchor.offset),main.bidiLevel!=null&&rawSel.caretBidiLevel!==void 0&&(rawSel.caretBidiLevel=main.bidiLevel)}else if(rawSel.extend){rawSel.collapse(anchor.node,anchor.offset);try{rawSel.extend(head.node,head.offset)}catch{}}else{let range=document.createRange();main.anchor>main.head&&([anchor,head]=[head,anchor]),range.setEnd(head.node,head.offset),range.setStart(anchor.node,anchor.offset),rawSel.removeAllRanges(),rawSel.addRange(range)}selectionNotFocus&&this.view.root.activeElement==this.dom&&(this.dom.blur(),activeElt&&activeElt.focus())}),this.view.observer.setSelectionRange(anchor,head)),this.impreciseAnchor=anchor.precise?null:new DOMPos(domSel.anchorNode,domSel.anchorOffset),this.impreciseHead=head.precise?null:new DOMPos(domSel.focusNode,domSel.focusOffset)}suppressWidgetCursorChange(sel,cursor){return this.hasComposition&&cursor.empty&&isEquivalentPosition(sel.focusNode,sel.focusOffset,sel.anchorNode,sel.anchorOffset)&&this.posFromDOM(sel.focusNode,sel.focusOffset)==cursor.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view}=this,cursor=view.state.selection.main,sel=getSelection(view.root),{anchorNode,anchorOffset}=view.observer.selectionRange;if(!sel||!cursor.empty||!cursor.assoc||!sel.modify)return;let line=LineView.find(this,cursor.head);if(!line)return;let lineStart=line.posAtStart;if(cursor.head==lineStart||cursor.head==lineStart+line.length)return;let before=this.coordsAt(cursor.head,-1),after=this.coordsAt(cursor.head,1);if(!before||!after||before.bottom>after.top)return;let dom=this.domAtPos(cursor.head+cursor.assoc);sel.collapse(dom.node,dom.offset),sel.modify("move",cursor.assoc<0?"forward":"backward","lineboundary"),view.observer.readSelectionRange();let newRange=view.observer.selectionRange;view.docView.posFromDOM(newRange.anchorNode,newRange.anchorOffset)!=cursor.from&&sel.collapse(anchorNode,anchorOffset)}moveToLine(pos){let dom=this.dom,newPos;if(pos.node!=dom)return pos;for(let i=pos.offset;!newPos&&i<dom.childNodes.length;i++){let view=ContentView.get(dom.childNodes[i]);view instanceof LineView&&(newPos=view.domAtPos(0))}for(let i=pos.offset-1;!newPos&&i>=0;i--){let view=ContentView.get(dom.childNodes[i]);view instanceof LineView&&(newPos=view.domAtPos(view.length))}return newPos?new DOMPos(newPos.node,newPos.offset,!0):pos}nearest(dom){for(let cur2=dom;cur2;){let domView=ContentView.get(cur2);if(domView&&domView.rootView==this)return domView;cur2=cur2.parentNode}return null}posFromDOM(node,offset){let view=this.nearest(node);if(!view)throw new RangeError("Trying to find position for a DOM position outside of the document");return view.localPosFromDOM(node,offset)+view.posAtStart}domAtPos(pos){let{i,off}=this.childCursor().findPos(pos,-1);for(;i<this.children.length-1;){let child=this.children[i];if(off<child.length||child instanceof LineView)break;i++,off=0}return this.children[i].domAtPos(off)}coordsAt(pos,side){let best=null,bestPos=0;for(let off=this.length,i=this.children.length-1;i>=0;i--){let child=this.children[i],end=off-child.breakAfter,start=end-child.length;if(end<pos)break;if(start<=pos&&(start<pos||child.covers(-1))&&(end>pos||child.covers(1))&&(!best||child instanceof LineView&&!(best instanceof LineView&&side>=0)))best=child,bestPos=start;else if(best&&start==pos&&end==pos&&child instanceof BlockWidgetView&&Math.abs(side)<2){if(child.deco.startSide<0)break;i&&(best=null)}off=start}return best?best.coordsAt(pos-bestPos,side):null}coordsForChar(pos){let{i,off}=this.childPos(pos,1),child=this.children[i];if(!(child instanceof LineView))return null;for(;child.children.length;){let{i:i2,off:childOff}=child.childPos(off,1);for(;;i2++){if(i2==child.children.length)return null;if((child=child.children[i2]).length)break}off=childOff}if(!(child instanceof TextView))return null;let end=findClusterBreak(child.text,off);if(end==off)return null;let rects=textRange(child.dom,off,end).getClientRects();for(let i2=0;i2<rects.length;i2++){let rect=rects[i2];if(i2==rects.length-1||rect.top<rect.bottom&&rect.left<rect.right)return rect}return null}measureVisibleLineHeights(viewport){let result=[],{from,to}=viewport,contentWidth=this.view.contentDOM.clientWidth,isWider=contentWidth>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,widest=-1,ltr=this.view.textDirection==Direction.LTR;for(let pos=0,i=0;i<this.children.length;i++){let child=this.children[i],end=pos+child.length;if(end>to)break;if(pos>=from){let childRect=child.dom.getBoundingClientRect();if(result.push(childRect.height),isWider){let last=child.dom.lastChild,rects=last?clientRectsFor(last):[];if(rects.length){let rect=rects[rects.length-1],width=ltr?rect.right-childRect.left:childRect.right-rect.left;width>widest&&(widest=width,this.minWidth=contentWidth,this.minWidthFrom=pos,this.minWidthTo=end)}}}pos=end+child.breakAfter}return result}textDirectionAt(pos){let{i}=this.childPos(pos,1);return getComputedStyle(this.children[i].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let child of this.children)if(child instanceof LineView){let measure=child.measureTextSize();if(measure)return measure}let dummy=document.createElement("div"),lineHeight,charWidth,textHeight;return dummy.className="cm-line",dummy.style.width="99999px",dummy.style.position="absolute",dummy.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(dummy);let rect=clientRectsFor(dummy.firstChild)[0];lineHeight=dummy.getBoundingClientRect().height,charWidth=rect?rect.width/27:7,textHeight=rect?rect.height:lineHeight,dummy.remove()}),{lineHeight,charWidth,textHeight}}childCursor(pos=this.length){let i=this.children.length;return i&&(pos-=this.children[--i].length),new ChildCursor(this.children,pos,i)}computeBlockGapDeco(){let deco=[],vs=this.view.viewState;for(let pos=0,i=0;;i++){let next=i==vs.viewports.length?null:vs.viewports[i],end=next?next.from-1:this.length;if(end>pos){let height=(vs.lineBlockAt(end).bottom-vs.lineBlockAt(pos).top)/this.view.scaleY;deco.push(Decoration.replace({widget:new BlockGapWidget(height),block:!0,inclusive:!0,isBlockGap:!0}).range(pos,end))}if(!next)break;pos=next.to+1}return Decoration.set(deco)}updateDeco(){let i=1,allDeco=this.view.state.facet(decorations).map(d2=>(this.dynamicDecorationMap[i++]=typeof d2=="function")?d2(this.view):d2),dynamicOuter=!1,outerDeco=this.view.state.facet(outerDecorations).map((d2,i2)=>{let dynamic=typeof d2=="function";return dynamic&&(dynamicOuter=!0),dynamic?d2(this.view):d2});for(outerDeco.length&&(this.dynamicDecorationMap[i++]=dynamicOuter,allDeco.push(RangeSet.join(outerDeco))),this.decorations=[this.editContextFormatting,...allDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];i<this.decorations.length;)this.dynamicDecorationMap[i++]=!1;return this.decorations}scrollIntoView(target){if(target.isSnapshot){let ref2=this.view.viewState.lineBlockAt(target.range.head);this.view.scrollDOM.scrollTop=ref2.top-target.yMargin,this.view.scrollDOM.scrollLeft=target.xMargin;return}for(let handler of this.view.state.facet(scrollHandler))try{if(handler(this.view,target.range,target))return!0}catch(e2){logException(this.view.state,e2,"scroll handler")}let{range}=target,rect=this.coordsAt(range.head,range.empty?range.assoc:range.head>range.anchor?-1:1),other;if(!rect)return;!range.empty&&(other=this.coordsAt(range.anchor,range.anchor>range.head?-1:1))&&(rect={left:Math.min(rect.left,other.left),top:Math.min(rect.top,other.top),right:Math.max(rect.right,other.right),bottom:Math.max(rect.bottom,other.bottom)});let margins=getScrollMargins(this.view),targetRect={left:rect.left-margins.left,top:rect.top-margins.top,right:rect.right+margins.right,bottom:rect.bottom+margins.bottom},{offsetWidth,offsetHeight}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,targetRect,range.head<range.anchor?-1:1,target.x,target.y,Math.max(Math.min(target.xMargin,offsetWidth),-offsetWidth),Math.max(Math.min(target.yMargin,offsetHeight),-offsetHeight),this.view.textDirection==Direction.LTR)}}function betweenUneditable(pos){return pos.node.nodeType==1&&pos.node.firstChild&&(pos.offset==0||pos.node.childNodes[pos.offset-1].contentEditable=="false")&&(pos.offset==pos.node.childNodes.length||pos.node.childNodes[pos.offset].contentEditable=="false")}function findCompositionNode(view,headPos){let sel=view.observer.selectionRange;if(!sel.focusNode)return null;let textBefore=textNodeBefore(sel.focusNode,sel.focusOffset),textAfter=textNodeAfter(sel.focusNode,sel.focusOffset),textNode=textBefore||textAfter;if(textAfter&&textBefore&&textAfter.node!=textBefore.node){let descAfter=ContentView.get(textAfter.node);if(!descAfter||descAfter instanceof TextView&&descAfter.text!=textAfter.node.nodeValue)textNode=textAfter;else if(view.docView.lastCompositionAfterCursor){let descBefore=ContentView.get(textBefore.node);!descBefore||descBefore instanceof TextView&&descBefore.text!=textBefore.node.nodeValue||(textNode=textAfter)}}if(view.docView.lastCompositionAfterCursor=textNode!=textBefore,!textNode)return null;let from=headPos-textNode.offset;return{from,to:from+textNode.node.nodeValue.length,node:textNode.node}}function findCompositionRange(view,changes,headPos){let found=findCompositionNode(view,headPos);if(!found)return null;let{node:textNode,from,to}=found,text2=textNode.nodeValue;if(/[\n\r]/.test(text2)||view.state.doc.sliceString(found.from,found.to)!=text2)return null;let inv=changes.invertedDesc,range=new ChangedRange(inv.mapPos(from),inv.mapPos(to),from,to),marks=[];for(let parent=textNode.parentNode;;parent=parent.parentNode){let parentView=ContentView.get(parent);if(parentView instanceof MarkView)marks.push({node:parent,deco:parentView.mark});else{if(parentView instanceof LineView||parent.nodeName=="DIV"&&parent.parentNode==view.contentDOM)return{range,text:textNode,marks,line:parent};if(parent!=view.contentDOM)marks.push({node:parent,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs$1(parent),tagName:parent.tagName.toLowerCase()})});else return null}}}function nextToUneditable(node,offset){return node.nodeType!=1?0:(offset&&node.childNodes[offset-1].contentEditable=="false"?1:0)|(offset<node.childNodes.length&&node.childNodes[offset].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(from,to){addRange(from,to,this.changes)}comparePoint(from,to){addRange(from,to,this.changes)}boundChange(pos){addRange(pos,pos,this.changes)}};function findChangedDeco(a2,b2,diff){let comp=new DecorationComparator$1;return RangeSet.compare(a2,b2,diff,comp),comp.changes}function inUneditable(node,inside2){for(let cur2=node;cur2&&cur2!=inside2;cur2=cur2.assignedSlot||cur2.parentNode)if(cur2.nodeType==1&&cur2.contentEditable=="false")return!0;return!1}function touchesComposition(changes,composition){let touched=!1;return composition&&changes.iterChangedRanges((from,to)=>{from<composition.to&&to>composition.from&&(touched=!0)}),touched}function groupAt(state,pos,bias=1){let categorize=state.charCategorizer(pos),line=state.doc.lineAt(pos),linePos=pos-line.from;if(line.length==0)return EditorSelection.cursor(pos);linePos==0?bias=1:linePos==line.length&&(bias=-1);let from=linePos,to=linePos;bias<0?from=findClusterBreak(line.text,linePos,!1):to=findClusterBreak(line.text,linePos);let cat=categorize(line.text.slice(from,to));for(;from>0;){let prev=findClusterBreak(line.text,from,!1);if(categorize(line.text.slice(prev,from))!=cat)break;from=prev}for(;to<line.length;){let next=findClusterBreak(line.text,to);if(categorize(line.text.slice(to,next))!=cat)break;to=next}return EditorSelection.range(from+line.from,to+line.from)}function getdx(x2,rect){return rect.left>x2?rect.left-x2:Math.max(0,x2-rect.right)}function getdy(y2,rect){return rect.top>y2?rect.top-y2:Math.max(0,y2-rect.bottom)}function yOverlap(a2,b2){return a2.top<b2.bottom-1&&a2.bottom>b2.top+1}function upTop(rect,top2){return top2<rect.top?{top:top2,left:rect.left,right:rect.right,bottom:rect.bottom}:rect}function upBot(rect,bottom){return bottom>rect.bottom?{top:rect.top,left:rect.left,right:rect.right,bottom}:rect}function domPosAtCoords(parent,x2,y2){let closest,closestRect,closestX,closestY,closestOverlap=!1,above,below,aboveRect,belowRect;for(let child=parent.firstChild;child;child=child.nextSibling){let rects=clientRectsFor(child);for(let i=0;i<rects.length;i++){let rect=rects[i];closestRect&&yOverlap(closestRect,rect)&&(rect=upTop(upBot(rect,closestRect.bottom),closestRect.top));let dx=getdx(x2,rect),dy=getdy(y2,rect);if(dx==0&&dy==0)return child.nodeType==3?domPosInText(child,x2,y2):domPosAtCoords(child,x2,y2);(!closest||closestY>dy||closestY==dy&&closestX>dx)&&(closest=child,closestRect=rect,closestX=dx,closestY=dy,closestOverlap=dx?x2<rect.left?i>0:i<rects.length-1:!0),dx==0?y2>rect.bottom&&(!aboveRect||aboveRect.bottom<rect.bottom)?(above=child,aboveRect=rect):y2<rect.top&&(!belowRect||belowRect.top>rect.top)&&(below=child,belowRect=rect):aboveRect&&yOverlap(aboveRect,rect)?aboveRect=upBot(aboveRect,rect.bottom):belowRect&&yOverlap(belowRect,rect)&&(belowRect=upTop(belowRect,rect.top))}}if(aboveRect&&aboveRect.bottom>=y2?(closest=above,closestRect=aboveRect):belowRect&&belowRect.top<=y2&&(closest=below,closestRect=belowRect),!closest)return{node:parent,offset:0};let clipX=Math.max(closestRect.left,Math.min(closestRect.right,x2));if(closest.nodeType==3)return domPosInText(closest,clipX,y2);if(closestOverlap&&closest.contentEditable!="false")return domPosAtCoords(closest,clipX,y2);let offset=Array.prototype.indexOf.call(parent.childNodes,closest)+(x2>=(closestRect.left+closestRect.right)/2?1:0);return{node:parent,offset}}function domPosInText(node,x2,y2){let len=node.nodeValue.length,closestOffset=-1,closestDY=1e9,generalSide=0;for(let i=0;i<len;i++){let rects=textRange(node,i,i+1).getClientRects();for(let j2=0;j2<rects.length;j2++){let rect=rects[j2];if(rect.top==rect.bottom)continue;generalSide||(generalSide=x2-rect.left);let dy=(rect.top>y2?rect.top-y2:y2-rect.bottom)-1;if(rect.left-1<=x2&&rect.right+1>=x2&&dy<closestDY){let right=x2>=(rect.left+rect.right)/2,after=right;if((browser.chrome||browser.gecko)&&textRange(node,i).getBoundingClientRect().left==rect.right&&(after=!right),dy<=0)return{node,offset:i+(after?1:0)};closestOffset=i+(after?1:0),closestDY=dy}}}return{node,offset:closestOffset>-1?closestOffset:generalSide>0?node.nodeValue.length:0}}function posAtCoords(view,coords,precise,bias=-1){var _a4,_b;let content2=view.contentDOM.getBoundingClientRect(),docTop=content2.top+view.viewState.paddingTop,block2,{docHeight}=view.viewState,{x:x2,y:y2}=coords,yOffset=y2-docTop;if(yOffset<0)return 0;if(yOffset>docHeight)return view.state.doc.length;for(let halfLine=view.viewState.heightOracle.textHeight/2,bounced=!1;block2=view.elementAtHeight(yOffset),block2.type!=BlockType.Text;)for(;yOffset=bias>0?block2.bottom+halfLine:block2.top-halfLine,!(yOffset>=0&&yOffset<=docHeight);){if(bounced)return precise?null:0;bounced=!0,bias=-bias}y2=docTop+yOffset;let lineStart=block2.from;if(lineStart<view.viewport.from)return view.viewport.from==0?0:precise?null:posAtCoordsImprecise(view,content2,block2,x2,y2);if(lineStart>view.viewport.to)return view.viewport.to==view.state.doc.length?view.state.doc.length:precise?null:posAtCoordsImprecise(view,content2,block2,x2,y2);let doc2=view.dom.ownerDocument,root=view.root.elementFromPoint?view.root:doc2,element=root.elementFromPoint(x2,y2);element&&!view.contentDOM.contains(element)&&(element=null),element||(x2=Math.max(content2.left+1,Math.min(content2.right-1,x2)),element=root.elementFromPoint(x2,y2),element&&!view.contentDOM.contains(element)&&(element=null));let node,offset=-1;if(element&&((_a4=view.docView.nearest(element))===null||_a4===void 0?void 0:_a4.isEditable)!=!1){if(doc2.caretPositionFromPoint){let pos=doc2.caretPositionFromPoint(x2,y2);pos&&({offsetNode:node,offset}=pos)}else if(doc2.caretRangeFromPoint){let range=doc2.caretRangeFromPoint(x2,y2);range&&({startContainer:node,startOffset:offset}=range)}node&&(!view.contentDOM.contains(node)||browser.safari&&isSuspiciousSafariCaretResult(node,offset,x2)||browser.chrome&&isSuspiciousChromeCaretResult(node,offset,x2))&&(node=void 0),node&&(offset=Math.min(maxOffset(node),offset))}if(!node||!view.docView.dom.contains(node)){let line=LineView.find(view.docView,lineStart);if(!line)return yOffset>block2.top+block2.height/2?block2.to:block2.from;({node,offset}=domPosAtCoords(line.dom,x2,y2))}let nearest=view.docView.nearest(node);if(!nearest)return null;if(nearest.isWidget&&((_b=nearest.dom)===null||_b===void 0?void 0:_b.nodeType)==1){let rect=nearest.dom.getBoundingClientRect();return coords.y<rect.top||coords.y<=rect.bottom&&coords.x<=(rect.left+rect.right)/2?nearest.posAtStart:nearest.posAtEnd}else return nearest.localPosFromDOM(node,offset)+nearest.posAtStart}function posAtCoordsImprecise(view,contentRect,block2,x2,y2){let into=Math.round((x2-contentRect.left)*view.defaultCharacterWidth);if(view.lineWrapping&&block2.height>view.defaultLineHeight*1.5){let textHeight=view.viewState.heightOracle.textHeight,line=Math.floor((y2-block2.top-(view.defaultLineHeight-textHeight)*.5)/textHeight);into+=line*view.viewState.heightOracle.lineLength}let content2=view.state.sliceDoc(block2.from,block2.to);return block2.from+findColumn(content2,into,view.state.tabSize)}function isEndOfLineBefore(node,offset,x2){let len,scan=node;if(node.nodeType!=3||offset!=(len=node.nodeValue.length))return!1;for(;;){let next=scan.nextSibling;if(next){if(next.nodeName=="BR")break;return!1}else{let parent=scan.parentNode;if(!parent||parent.nodeName=="DIV")break;scan=parent}}return textRange(node,len-1,len).getBoundingClientRect().right>x2}function isSuspiciousSafariCaretResult(node,offset,x2){return isEndOfLineBefore(node,offset,x2)}function isSuspiciousChromeCaretResult(node,offset,x2){if(offset!=0)return isEndOfLineBefore(node,offset,x2);for(let cur2=node;;){let parent=cur2.parentNode;if(!parent||parent.nodeType!=1||parent.firstChild!=cur2)return!1;if(parent.classList.contains("cm-line"))break;cur2=parent}let rect=node.nodeType==1?node.getBoundingClientRect():textRange(node,0,Math.max(node.nodeValue.length,1)).getBoundingClientRect();return x2-rect.left>5}function blockAt(view,pos,side){let line=view.lineBlockAt(pos);if(Array.isArray(line.type)){let best;for(let l2 of line.type){if(l2.from>pos)break;if(!(l2.to<pos)){if(l2.from<pos&&l2.to>pos)return l2;(!best||l2.type==BlockType.Text&&(best.type!=l2.type||(side<0?l2.from<pos:l2.to>pos)))&&(best=l2)}}return best||line}return line}function moveToLineBoundary(view,start,forward,includeWrap){let line=blockAt(view,start.head,start.assoc||-1),coords=!includeWrap||line.type!=BlockType.Text||!(view.lineWrapping||line.widgetLineBreaks)?null:view.coordsAtPos(start.assoc<0&&start.head>line.from?start.head-1:start.head);if(coords){let editorRect=view.dom.getBoundingClientRect(),direction=view.textDirectionAt(line.from),pos=view.posAtCoords({x:forward==(direction==Direction.LTR)?editorRect.right-1:editorRect.left+1,y:(coords.top+coords.bottom)/2});if(pos!=null)return EditorSelection.cursor(pos,forward?-1:1)}return EditorSelection.cursor(forward?line.to:line.from,forward?-1:1)}function moveByChar(view,start,forward,by){let line=view.state.doc.lineAt(start.head),spans=view.bidiSpans(line),direction=view.textDirectionAt(line.from);for(let cur2=start,check=null;;){let next=moveVisually(line,spans,direction,cur2,forward),char=movedOver;if(!next){if(line.number==(forward?view.state.doc.lines:1))return cur2;char=`
`,line=view.state.doc.line(line.number+(forward?1:-1)),spans=view.bidiSpans(line),next=view.visualLineSide(line,!forward)}if(check){if(!check(char))return cur2}else{if(!by)return next;check=by(char)}cur2=next}}function byGroup(view,pos,start){let categorize=view.state.charCategorizer(pos),cat=categorize(start);return next=>{let nextCat=categorize(next);return cat==CharCategory.Space&&(cat=nextCat),cat==nextCat}}function moveVertically(view,start,forward,distance){let startPos=start.head,dir=forward?1:-1;if(startPos==(forward?view.state.doc.length:0))return EditorSelection.cursor(startPos,start.assoc);let goal=start.goalColumn,startY,rect=view.contentDOM.getBoundingClientRect(),startCoords=view.coordsAtPos(startPos,start.assoc||-1),docTop=view.documentTop;if(startCoords)goal==null&&(goal=startCoords.left-rect.left),startY=dir<0?startCoords.top:startCoords.bottom;else{let line=view.viewState.lineBlockAt(startPos);goal==null&&(goal=Math.min(rect.right-rect.left,view.defaultCharacterWidth*(startPos-line.from))),startY=(dir<0?line.top:line.bottom)+docTop}let resolvedGoal=rect.left+goal,dist2=distance??view.viewState.heightOracle.textHeight>>1;for(let extra=0;;extra+=10){let curY=startY+(dist2+extra)*dir,pos=posAtCoords(view,{x:resolvedGoal,y:curY},!1,dir);if(curY<rect.top||curY>rect.bottom||(dir<0?pos<startPos:pos>startPos)){let charRect=view.docView.coordsForChar(pos),assoc=!charRect||curY<charRect.top?-1:1;return EditorSelection.cursor(pos,assoc,void 0,goal)}}}function skipAtomicRanges(atoms,pos,bias){for(;;){let moved=0;for(let set2 of atoms)set2.between(pos-1,pos+1,(from,to,value)=>{if(pos>from&&pos<to){let side=moved||bias||(pos-from<to-pos?-1:1);pos=side<0?from:to,moved=side}});if(!moved)return pos}}function skipAtomsForSelection(atoms,sel){let ranges=null;for(let i=0;i<sel.ranges.length;i++){let range=sel.ranges[i],updated=null;if(range.empty){let pos=skipAtomicRanges(atoms,range.from,0);pos!=range.from&&(updated=EditorSelection.cursor(pos,-1))}else{let from=skipAtomicRanges(atoms,range.from,-1),to=skipAtomicRanges(atoms,range.to,1);(from!=range.from||to!=range.to)&&(updated=EditorSelection.range(range.from==range.anchor?from:to,range.from==range.head?from:to))}updated&&(ranges||(ranges=sel.ranges.slice()),ranges[i]=updated)}return ranges?EditorSelection.create(ranges,sel.mainIndex):sel}function skipAtoms(view,oldPos,pos){let newPos=skipAtomicRanges(view.state.facet(atomicRanges).map(f2=>f2(view)),pos.from,oldPos.head>pos.from?-1:1);return newPos==pos.from?pos:EditorSelection.cursor(newPos,newPos<pos.from?1:-1)}const LineBreakPlaceholder="Ôøø";class DOMReader{constructor(points,state){this.points=points,this.text="",this.lineSeparator=state.facet(EditorState.lineSeparator)}append(text2){this.text+=text2}lineBreak(){this.text+=LineBreakPlaceholder}readRange(start,end){if(!start)return this;let parent=start.parentNode;for(let cur2=start;;){this.findPointBefore(parent,cur2);let oldLen=this.text.length;this.readNode(cur2);let next=cur2.nextSibling;if(next==end)break;let view=ContentView.get(cur2),nextView=ContentView.get(next);(view&&nextView?view.breakAfter:(view?view.breakAfter:isBlockElement(cur2))||isBlockElement(next)&&(cur2.nodeName!="BR"||cur2.cmIgnore)&&this.text.length>oldLen)&&!isEmptyToEnd(next,end)&&this.lineBreak(),cur2=next}return this.findPointBefore(parent,end),this}readTextNode(node){let text2=node.nodeValue;for(let point of this.points)point.node==node&&(point.pos=this.text.length+Math.min(point.offset,text2.length));for(let off=0,re2=this.lineSeparator?null:/\r\n?|\n/g;;){let nextBreak=-1,breakSize=1,m2;if(this.lineSeparator?(nextBreak=text2.indexOf(this.lineSeparator,off),breakSize=this.lineSeparator.length):(m2=re2.exec(text2))&&(nextBreak=m2.index,breakSize=m2[0].length),this.append(text2.slice(off,nextBreak<0?text2.length:nextBreak)),nextBreak<0)break;if(this.lineBreak(),breakSize>1)for(let point of this.points)point.node==node&&point.pos>this.text.length&&(point.pos-=breakSize-1);off=nextBreak+breakSize}}readNode(node){if(node.cmIgnore)return;let view=ContentView.get(node),fromView=view&&view.overrideDOMText;if(fromView!=null){this.findPointInside(node,fromView.length);for(let i=fromView.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else node.nodeType==3?this.readTextNode(node):node.nodeName=="BR"?node.nextSibling&&this.lineBreak():node.nodeType==1&&this.readRange(node.firstChild,null)}findPointBefore(node,next){for(let point of this.points)point.node==node&&node.childNodes[point.offset]==next&&(point.pos=this.text.length)}findPointInside(node,length){for(let point of this.points)(node.nodeType==3?point.node==node:node.contains(point.node))&&(point.pos=this.text.length+(isAtEnd(node,point.node,point.offset)?length:0))}}function isAtEnd(parent,node,offset){for(;;){if(!node||offset<maxOffset(node))return!1;if(node==parent)return!0;offset=domIndex(node)+1,node=node.parentNode}}function isEmptyToEnd(node,end){let widgets;for(;!(node==end||!node);node=node.nextSibling){let view=ContentView.get(node);if(!(view?.isWidget||node.cmIgnore))return!1;view&&(widgets||(widgets=[])).push(view)}if(widgets)for(let w2 of widgets){let override=w2.overrideDOMText;if(override?.length)return!1}return!0}class DOMPoint{constructor(node,offset){this.node=node,this.offset=offset,this.pos=-1}}class DOMChange{constructor(view,start,end,typeOver){this.typeOver=typeOver,this.bounds=null,this.text="",this.domChanged=start>-1;let{impreciseHead:iHead,impreciseAnchor:iAnchor}=view.docView;if(view.state.readOnly&&start>-1)this.newSel=null;else if(start>-1&&(this.bounds=view.docView.domBoundsAround(start,end,0))){let selPoints=iHead||iAnchor?[]:selectionPoints(view),reader=new DOMReader(selPoints,view.state);reader.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=reader.text,this.newSel=selectionFromPoints(selPoints,this.bounds.from)}else{let domSel=view.observer.selectionRange,head=iHead&&iHead.node==domSel.focusNode&&iHead.offset==domSel.focusOffset||!contains(view.contentDOM,domSel.focusNode)?view.state.selection.main.head:view.docView.posFromDOM(domSel.focusNode,domSel.focusOffset),anchor=iAnchor&&iAnchor.node==domSel.anchorNode&&iAnchor.offset==domSel.anchorOffset||!contains(view.contentDOM,domSel.anchorNode)?view.state.selection.main.anchor:view.docView.posFromDOM(domSel.anchorNode,domSel.anchorOffset),vp=view.viewport;if((browser.ios||browser.chrome)&&view.state.selection.main.empty&&head!=anchor&&(vp.from>0||vp.to<view.state.doc.length)){let from=Math.min(head,anchor),to=Math.max(head,anchor),offFrom=vp.from-from,offTo=vp.to-to;(offFrom==0||offFrom==1||from==0)&&(offTo==0||offTo==-1||to==view.state.doc.length)&&(head=0,anchor=view.state.doc.length)}this.newSel=EditorSelection.single(anchor,head)}}}function applyDOMChange(view,domChange){let change,{newSel}=domChange,sel=view.state.selection.main,lastKey=view.inputState.lastKeyTime>Date.now()-100?view.inputState.lastKeyCode:-1;if(domChange.bounds){let{from,to}=domChange.bounds,preferredPos=sel.from,preferredSide=null;(lastKey===8||browser.android&&domChange.text.length<to-from)&&(preferredPos=sel.to,preferredSide="end");let diff=findDiff(view.state.doc.sliceString(from,to,LineBreakPlaceholder),domChange.text,preferredPos-from,preferredSide);diff&&(browser.chrome&&lastKey==13&&diff.toB==diff.from+2&&domChange.text.slice(diff.from,diff.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&diff.toB--,change={from:from+diff.from,to:from+diff.toA,insert:Text.of(domChange.text.slice(diff.from,diff.toB).split(LineBreakPlaceholder))})}else newSel&&(!view.hasFocus&&view.state.facet(editable)||newSel.main.eq(sel))&&(newSel=null);if(!change&&!newSel)return!1;if(!change&&domChange.typeOver&&!sel.empty&&newSel&&newSel.main.empty?change={from:sel.from,to:sel.to,insert:view.state.doc.slice(sel.from,sel.to)}:(browser.mac||browser.android)&&change&&change.from==change.to&&change.from==sel.head-1&&/^\. ?$/.test(change.insert.toString())&&view.contentDOM.getAttribute("autocorrect")=="off"?(newSel&&change.insert.length==2&&(newSel=EditorSelection.single(newSel.main.anchor-1,newSel.main.head-1)),change={from:change.from,to:change.to,insert:Text.of([change.insert.toString().replace("."," ")])}):change&&change.from>=sel.from&&change.to<=sel.to&&(change.from!=sel.from||change.to!=sel.to)&&sel.to-sel.from-(change.to-change.from)<=4?change={from:sel.from,to:sel.to,insert:view.state.doc.slice(sel.from,change.from).append(change.insert).append(view.state.doc.slice(change.to,sel.to))}:browser.chrome&&change&&change.from==change.to&&change.from==sel.head&&change.insert.toString()==`
 `&&view.lineWrapping&&(newSel&&(newSel=EditorSelection.single(newSel.main.anchor-1,newSel.main.head-1)),change={from:sel.from,to:sel.to,insert:Text.of([" "])}),change)return applyDOMChangeInner(view,change,newSel,lastKey);if(newSel&&!newSel.main.eq(sel)){let scrollIntoView2=!1,userEvent="select";return view.inputState.lastSelectionTime>Date.now()-50&&(view.inputState.lastSelectionOrigin=="select"&&(scrollIntoView2=!0),userEvent=view.inputState.lastSelectionOrigin,userEvent=="select.pointer"&&(newSel=skipAtomsForSelection(view.state.facet(atomicRanges).map(f2=>f2(view)),newSel))),view.dispatch({selection:newSel,scrollIntoView:scrollIntoView2,userEvent}),!0}else return!1}function applyDOMChangeInner(view,change,newSel,lastKey=-1){if(browser.ios&&view.inputState.flushIOSKey(change))return!0;let sel=view.state.selection.main;if(browser.android&&(change.to==sel.to&&(change.from==sel.from||change.from==sel.from-1&&view.state.sliceDoc(change.from,sel.from)==" ")&&change.insert.length==1&&change.insert.lines==2&&dispatchKey(view.contentDOM,"Enter",13)||(change.from==sel.from-1&&change.to==sel.to&&change.insert.length==0||lastKey==8&&change.insert.length<change.to-change.from&&change.to>sel.head)&&dispatchKey(view.contentDOM,"Backspace",8)||change.from==sel.from&&change.to==sel.to+1&&change.insert.length==0&&dispatchKey(view.contentDOM,"Delete",46)))return!0;let text2=change.insert.toString();view.inputState.composing>=0&&view.inputState.composing++;let defaultTr,defaultInsert=()=>defaultTr||(defaultTr=applyDefaultInsert(view,change,newSel));return view.state.facet(inputHandler).some(h2=>h2(view,change.from,change.to,text2,defaultInsert))||view.dispatch(defaultInsert()),!0}function applyDefaultInsert(view,change,newSel){let tr,startState=view.state,sel=startState.selection.main,inAtomic=-1;if(change.from==change.to&&change.from<sel.from||change.from>sel.to){let side=change.from<sel.from?-1:1,pos=side<0?sel.from:sel.to,moved=skipAtomicRanges(startState.facet(atomicRanges).map(f2=>f2(view)),pos,side);change.from==moved&&(inAtomic=moved)}if(inAtomic>-1)tr={changes:change,selection:EditorSelection.cursor(change.from+change.insert.length,-1)};else if(change.from>=sel.from&&change.to<=sel.to&&change.to-change.from>=(sel.to-sel.from)/3&&(!newSel||newSel.main.empty&&newSel.main.from==change.from+change.insert.length)&&view.inputState.composing<0){let before=sel.from<change.from?startState.sliceDoc(sel.from,change.from):"",after=sel.to>change.to?startState.sliceDoc(change.to,sel.to):"";tr=startState.replaceSelection(view.state.toText(before+change.insert.sliceString(0,void 0,view.state.lineBreak)+after))}else{let changes=startState.changes(change),mainSel=newSel&&newSel.main.to<=changes.newLength?newSel.main:void 0;if(startState.selection.ranges.length>1&&view.inputState.composing>=0&&change.to<=sel.to&&change.to>=sel.to-10){let replaced=view.state.sliceDoc(change.from,change.to),compositionRange,composition=newSel&&findCompositionNode(view,newSel.main.head);if(composition){let dLen=change.insert.length-(change.to-change.from);compositionRange={from:composition.from,to:composition.to-dLen}}else compositionRange=view.state.doc.lineAt(sel.head);let offset=sel.to-change.to,size=sel.to-sel.from;tr=startState.changeByRange(range=>{if(range.from==sel.from&&range.to==sel.to)return{changes,range:mainSel||range.map(changes)};let to=range.to-offset,from=to-replaced.length;if(range.to-range.from!=size||view.state.sliceDoc(from,to)!=replaced||range.to>=compositionRange.from&&range.from<=compositionRange.to)return{range};let rangeChanges=startState.changes({from,to,insert:change.insert}),selOff=range.to-sel.to;return{changes:rangeChanges,range:mainSel?EditorSelection.range(Math.max(0,mainSel.anchor+selOff),Math.max(0,mainSel.head+selOff)):range.map(rangeChanges)}})}else tr={changes,selection:mainSel&&startState.selection.replaceRange(mainSel)}}let userEvent="input.type";return(view.composing||view.inputState.compositionPendingChange&&view.inputState.compositionEndedAt>Date.now()-50)&&(view.inputState.compositionPendingChange=!1,userEvent+=".compose",view.inputState.compositionFirstChange&&(userEvent+=".start",view.inputState.compositionFirstChange=!1)),startState.update(tr,{userEvent,scrollIntoView:!0})}function findDiff(a2,b2,preferredPos,preferredSide){let minLen=Math.min(a2.length,b2.length),from=0;for(;from<minLen&&a2.charCodeAt(from)==b2.charCodeAt(from);)from++;if(from==minLen&&a2.length==b2.length)return null;let toA=a2.length,toB=b2.length;for(;toA>0&&toB>0&&a2.charCodeAt(toA-1)==b2.charCodeAt(toB-1);)toA--,toB--;if(preferredSide=="end"){let adjust=Math.max(0,from-Math.min(toA,toB));preferredPos-=toA+adjust-from}if(toA<from&&a2.length<b2.length){let move=preferredPos<=from&&preferredPos>=toA?from-preferredPos:0;from-=move,toB=from+(toB-toA),toA=from}else if(toB<from){let move=preferredPos<=from&&preferredPos>=toB?from-preferredPos:0;from-=move,toA=from+(toA-toB),toB=from}return{from,toA,toB}}function selectionPoints(view){let result=[];if(view.root.activeElement!=view.contentDOM)return result;let{anchorNode,anchorOffset,focusNode,focusOffset}=view.observer.selectionRange;return anchorNode&&(result.push(new DOMPoint(anchorNode,anchorOffset)),(focusNode!=anchorNode||focusOffset!=anchorOffset)&&result.push(new DOMPoint(focusNode,focusOffset))),result}function selectionFromPoints(points,base2){if(points.length==0)return null;let anchor=points[0].pos,head=points.length==2?points[1].pos:anchor;return anchor>-1&&head>-1?EditorSelection.single(anchor+base2,head+base2):null}class InputState{setSelectionOrigin(origin){this.lastSelectionOrigin=origin,this.lastSelectionTime=Date.now()}constructor(view){this.view=view,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=view.hasFocus,browser.safari&&view.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(view.contentDOM.ownerDocument)}handleEvent(event){!eventBelongsToEditor(this.view,event)||this.ignoreDuringComposition(event)||event.type=="keydown"&&this.keydown(event)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(event.type,event)):this.runHandlers(event.type,event))}runHandlers(type,event){let handlers2=this.handlers[type];if(handlers2){for(let observer of handlers2.observers)observer(this.view,event);for(let handler of handlers2.handlers){if(event.defaultPrevented)break;if(handler(this.view,event)){event.preventDefault();break}}}}ensureHandlers(plugins){let handlers2=computeHandlers(plugins),prev=this.handlers,dom=this.view.contentDOM;for(let type in handlers2)if(type!="scroll"){let passive=!handlers2[type].handlers.length,exists=prev[type];exists&&passive!=!exists.handlers.length&&(dom.removeEventListener(type,this.handleEvent),exists=null),exists||dom.addEventListener(type,this.handleEvent,{passive})}for(let type in prev)type!="scroll"&&!handlers2[type]&&dom.removeEventListener(type,this.handleEvent);this.handlers=handlers2}keydown(event){if(this.lastKeyCode=event.keyCode,this.lastKeyTime=Date.now(),event.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&event.keyCode!=27&&modifierCodes.indexOf(event.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!event.synthetic&&(event.keyCode==13||event.keyCode==8))return this.view.observer.delayAndroidKey(event.key,event.keyCode),!0;let pending;return browser.ios&&!event.synthetic&&!event.altKey&&!event.metaKey&&((pending=PendingKeys.find(key=>key.keyCode==event.keyCode))&&!event.ctrlKey||EmacsyPendingKeys.indexOf(event.key)>-1&&event.ctrlKey&&!event.shiftKey)?(this.pendingIOSKey=pending||event,setTimeout(()=>this.flushIOSKey(),250),!0):(event.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(change){let key=this.pendingIOSKey;return!key||key.key=="Enter"&&change&&change.from<change.to&&/^\S+$/.test(change.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,key.key,key.keyCode,key instanceof KeyboardEvent?key:void 0))}ignoreDuringComposition(event){return!/^key/.test(event.type)||event.synthetic?!1:this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(mouseSelection){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=mouseSelection}update(update){this.view.observer.update(update),this.mouseSelection&&this.mouseSelection.update(update),this.draggedContent&&update.docChanged&&(this.draggedContent=this.draggedContent.map(update.changes)),update.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(plugin,handler){return(view,event)=>{try{return handler.call(plugin,event,view)}catch(e2){logException(view.state,e2)}}}function computeHandlers(plugins){let result=Object.create(null);function record(type){return result[type]||(result[type]={observers:[],handlers:[]})}for(let plugin of plugins){let spec=plugin.spec,handlers2=spec&&spec.plugin.domEventHandlers,observers2=spec&&spec.plugin.domEventObservers;if(handlers2)for(let type in handlers2){let f2=handlers2[type];f2&&record(type).handlers.push(bindHandler(plugin.value,f2))}if(observers2)for(let type in observers2){let f2=observers2[type];f2&&record(type).observers.push(bindHandler(plugin.value,f2))}}for(let type in handlers)record(type).handlers.push(handlers[type]);for(let type in observers)record(type).observers.push(observers[type]);return result}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(dist2){return Math.max(0,dist2)*.7+8}function dist(a2,b2){return Math.max(Math.abs(a2.clientX-b2.clientX),Math.abs(a2.clientY-b2.clientY))}class MouseSelection{constructor(view,startEvent,style,mustSelect){this.view=view,this.startEvent=startEvent,this.style=style,this.mustSelect=mustSelect,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=startEvent,this.scrollParents=scrollableParents(view.contentDOM),this.atoms=view.state.facet(atomicRanges).map(f2=>f2(view));let doc2=view.contentDOM.ownerDocument;doc2.addEventListener("mousemove",this.move=this.move.bind(this)),doc2.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=startEvent.shiftKey,this.multiple=view.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(view,startEvent),this.dragging=isInPrimarySelection(view,startEvent)&&getClickType(startEvent)==1?null:!1}start(event){this.dragging===!1&&this.select(event)}move(event){if(event.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,event)<10)return;this.select(this.lastEvent=event);let sx=0,sy=0,left=0,top2=0,right=this.view.win.innerWidth,bottom=this.view.win.innerHeight;this.scrollParents.x&&({left,right}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:top2,bottom}=this.scrollParents.y.getBoundingClientRect());let margins=getScrollMargins(this.view);event.clientX-margins.left<=left+dragScrollMargin?sx=-dragScrollSpeed(left-event.clientX):event.clientX+margins.right>=right-dragScrollMargin&&(sx=dragScrollSpeed(event.clientX-right)),event.clientY-margins.top<=top2+dragScrollMargin?sy=-dragScrollSpeed(top2-event.clientY):event.clientY+margins.bottom>=bottom-dragScrollMargin&&(sy=dragScrollSpeed(event.clientY-bottom)),this.setScrollSpeed(sx,sy)}up(event){this.dragging==null&&this.select(this.lastEvent),this.dragging||event.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let doc2=this.view.contentDOM.ownerDocument;doc2.removeEventListener("mousemove",this.move),doc2.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(sx,sy){this.scrollSpeed={x:sx,y:sy},sx||sy?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:x2,y:y2}=this.scrollSpeed;x2&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=x2,x2=0),y2&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=y2,y2=0),(x2||y2)&&this.view.win.scrollBy(x2,y2),this.dragging===!1&&this.select(this.lastEvent)}select(event){let{view}=this,selection=skipAtomsForSelection(this.atoms,this.style.get(event,this.extend,this.multiple));(this.mustSelect||!selection.eq(view.state.selection,this.dragging===!1))&&this.view.dispatch({selection,userEvent:"select.pointer"}),this.mustSelect=!1}update(update){update.transactions.some(tr=>tr.isUserEvent("input.type"))?this.destroy():this.style.update(update)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(view,event){let facet=view.state.facet(clickAddsSelectionRange);return facet.length?facet[0](event):browser.mac?event.metaKey:event.ctrlKey}function dragMovesSelection(view,event){let facet=view.state.facet(dragMovesSelection$1);return facet.length?facet[0](event):browser.mac?!event.altKey:!event.ctrlKey}function isInPrimarySelection(view,event){let{main}=view.state.selection;if(main.empty)return!1;let sel=getSelection(view.root);if(!sel||sel.rangeCount==0)return!0;let rects=sel.getRangeAt(0).getClientRects();for(let i=0;i<rects.length;i++){let rect=rects[i];if(rect.left<=event.clientX&&rect.right>=event.clientX&&rect.top<=event.clientY&&rect.bottom>=event.clientY)return!0}return!1}function eventBelongsToEditor(view,event){if(!event.bubbles)return!0;if(event.defaultPrevented)return!1;for(let node=event.target,cView;node!=view.contentDOM;node=node.parentNode)if(!node||node.nodeType==11||(cView=ContentView.get(node))&&cView.ignoreEvent(event))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(view){let parent=view.dom.parentNode;if(!parent)return;let target=parent.appendChild(document.createElement("textarea"));target.style.cssText="position: fixed; left: -10000px; top: 10px",target.focus(),setTimeout(()=>{view.focus(),target.remove(),doPaste(view,target.value)},50)}function textFilter(state,facet,text2){for(let filter of state.facet(facet))text2=filter(text2,state);return text2}function doPaste(view,input){input=textFilter(view.state,clipboardInputFilter,input);let{state}=view,changes,i=1,text2=state.toText(input),byLine=text2.lines==state.selection.ranges.length;if(lastLinewiseCopy!=null&&state.selection.ranges.every(r2=>r2.empty)&&lastLinewiseCopy==text2.toString()){let lastLine=-1;changes=state.changeByRange(range=>{let line=state.doc.lineAt(range.from);if(line.from==lastLine)return{range};lastLine=line.from;let insert2=state.toText((byLine?text2.line(i++).text:input)+state.lineBreak);return{changes:{from:line.from,insert:insert2},range:EditorSelection.cursor(range.from+insert2.length)}})}else byLine?changes=state.changeByRange(range=>{let line=text2.line(i++);return{changes:{from:range.from,to:range.to,insert:line.text},range:EditorSelection.cursor(range.from+line.length)}}):changes=state.replaceSelection(text2);view.dispatch(changes,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=view=>{view.inputState.lastScrollTop=view.scrollDOM.scrollTop,view.inputState.lastScrollLeft=view.scrollDOM.scrollLeft};handlers.keydown=(view,event)=>(view.inputState.setSelectionOrigin("select"),event.keyCode==27&&view.inputState.tabFocusMode!=0&&(view.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(view,e2)=>{view.inputState.lastTouchTime=Date.now(),view.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=view=>{view.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(view,event)=>{if(view.observer.flush(),view.inputState.lastTouchTime>Date.now()-2e3)return!1;let style=null;for(let makeStyle of view.state.facet(mouseSelectionStyle))if(style=makeStyle(view,event),style)break;if(!style&&event.button==0&&(style=basicMouseSelection(view,event)),style){let mustFocus=!view.hasFocus;view.inputState.startMouseSelection(new MouseSelection(view,event,style,mustFocus)),mustFocus&&view.observer.ignore(()=>{focusPreventScroll(view.contentDOM);let active=view.root.activeElement;active&&!active.contains(view.contentDOM)&&active.blur()});let mouseSel=view.inputState.mouseSelection;if(mouseSel)return mouseSel.start(event),mouseSel.dragging===!1}else view.inputState.setSelectionOrigin("select.pointer");return!1};function rangeForClick(view,pos,bias,type){if(type==1)return EditorSelection.cursor(pos,bias);if(type==2)return groupAt(view.state,pos,bias);{let visual=LineView.find(view.docView,pos),line=view.state.doc.lineAt(visual?visual.posAtEnd:pos),from=visual?visual.posAtStart:line.from,to=visual?visual.posAtEnd:line.to;return to<view.state.doc.length&&to==line.to&&to++,EditorSelection.range(from,to)}}let inside=(x2,y2,rect)=>y2>=rect.top&&y2<=rect.bottom&&x2>=rect.left&&x2<=rect.right;function findPositionSide(view,pos,x2,y2){let line=LineView.find(view.docView,pos);if(!line)return 1;let off=pos-line.posAtStart;if(off==0)return 1;if(off==line.length)return-1;let before=line.coordsAt(off,-1);if(before&&inside(x2,y2,before))return-1;let after=line.coordsAt(off,1);return after&&inside(x2,y2,after)?1:before&&before.bottom>=y2?-1:1}function queryPos(view,event){let pos=view.posAtCoords({x:event.clientX,y:event.clientY},!1);return{pos,bias:findPositionSide(view,pos,event.clientX,event.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(event){if(!BadMouseDetail)return event.detail;let last=lastMouseDown,lastTime=lastMouseDownTime;return lastMouseDown=event,lastMouseDownTime=Date.now(),lastMouseDownCount=!last||lastTime>Date.now()-400&&Math.abs(last.clientX-event.clientX)<2&&Math.abs(last.clientY-event.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(view,event){let start=queryPos(view,event),type=getClickType(event),startSel=view.state.selection;return{update(update){update.docChanged&&(start.pos=update.changes.mapPos(start.pos),startSel=startSel.map(update.changes))},get(event2,extend,multiple){let cur2=queryPos(view,event2),removed,range=rangeForClick(view,cur2.pos,cur2.bias,type);if(start.pos!=cur2.pos&&!extend){let startRange=rangeForClick(view,start.pos,start.bias,type),from=Math.min(startRange.from,range.from),to=Math.max(startRange.to,range.to);range=from<range.from?EditorSelection.range(from,to):EditorSelection.range(to,from)}return extend?startSel.replaceRange(startSel.main.extend(range.from,range.to)):multiple&&type==1&&startSel.ranges.length>1&&(removed=removeRangeAround(startSel,cur2.pos))?removed:multiple?startSel.addRange(range):EditorSelection.create([range])}}}function removeRangeAround(sel,pos){for(let i=0;i<sel.ranges.length;i++){let{from,to}=sel.ranges[i];if(from<=pos&&to>=pos)return EditorSelection.create(sel.ranges.slice(0,i).concat(sel.ranges.slice(i+1)),sel.mainIndex==i?0:sel.mainIndex-(sel.mainIndex>i?1:0))}return null}handlers.dragstart=(view,event)=>{let{selection:{main:range}}=view.state;if(event.target.draggable){let cView=view.docView.nearest(event.target);if(cView&&cView.isWidget){let from=cView.posAtStart,to=from+cView.length;(from>=range.to||to<=range.from)&&(range=EditorSelection.range(from,to))}}let{inputState}=view;return inputState.mouseSelection&&(inputState.mouseSelection.dragging=!0),inputState.draggedContent=range,event.dataTransfer&&(event.dataTransfer.setData("Text",textFilter(view.state,clipboardOutputFilter,view.state.sliceDoc(range.from,range.to))),event.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=view=>(view.inputState.draggedContent=null,!1);function dropText(view,event,text2,direct){if(text2=textFilter(view.state,clipboardInputFilter,text2),!text2)return;let dropPos=view.posAtCoords({x:event.clientX,y:event.clientY},!1),{draggedContent}=view.inputState,del=direct&&draggedContent&&dragMovesSelection(view,event)?{from:draggedContent.from,to:draggedContent.to}:null,ins={from:dropPos,insert:text2},changes=view.state.changes(del?[del,ins]:ins);view.focus(),view.dispatch({changes,selection:{anchor:changes.mapPos(dropPos,-1),head:changes.mapPos(dropPos,1)},userEvent:del?"move.drop":"input.drop"}),view.inputState.draggedContent=null}handlers.drop=(view,event)=>{if(!event.dataTransfer)return!1;if(view.state.readOnly)return!0;let files=event.dataTransfer.files;if(files&&files.length){let text2=Array(files.length),read=0,finishFile=()=>{++read==files.length&&dropText(view,event,text2.filter(s2=>s2!=null).join(view.state.lineBreak),!1)};for(let i=0;i<files.length;i++){let reader=new FileReader;reader.onerror=finishFile,reader.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(reader.result)||(text2[i]=reader.result),finishFile()},reader.readAsText(files[i])}return!0}else{let text2=event.dataTransfer.getData("Text");if(text2)return dropText(view,event,text2,!0),!0}return!1};handlers.paste=(view,event)=>{if(view.state.readOnly)return!0;view.observer.flush();let data2=brokenClipboardAPI?null:event.clipboardData;return data2?(doPaste(view,data2.getData("text/plain")||data2.getData("text/uri-list")),!0):(capturePaste(view),!1)};function captureCopy(view,text2){let parent=view.dom.parentNode;if(!parent)return;let target=parent.appendChild(document.createElement("textarea"));target.style.cssText="position: fixed; left: -10000px; top: 10px",target.value=text2,target.focus(),target.selectionEnd=text2.length,target.selectionStart=0,setTimeout(()=>{target.remove(),view.focus()},50)}function copiedRange(state){let content2=[],ranges=[],linewise=!1;for(let range of state.selection.ranges)range.empty||(content2.push(state.sliceDoc(range.from,range.to)),ranges.push(range));if(!content2.length){let upto=-1;for(let{from}of state.selection.ranges){let line=state.doc.lineAt(from);line.number>upto&&(content2.push(line.text),ranges.push({from:line.from,to:Math.min(state.doc.length,line.to+1)})),upto=line.number}linewise=!0}return{text:textFilter(state,clipboardOutputFilter,content2.join(state.lineBreak)),ranges,linewise}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(view,event)=>{let{text:text2,ranges,linewise}=copiedRange(view.state);if(!text2&&!linewise)return!1;lastLinewiseCopy=linewise?text2:null,event.type=="cut"&&!view.state.readOnly&&view.dispatch({changes:ranges,scrollIntoView:!0,userEvent:"delete.cut"});let data2=brokenClipboardAPI?null:event.clipboardData;return data2?(data2.clearData(),data2.setData("text/plain",text2),!0):(captureCopy(view,text2),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(state,focus){let effects=[];for(let getEffect of state.facet(focusChangeEffect)){let effect=getEffect(state,focus);effect&&effects.push(effect)}return effects.length?state.update({effects,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(view){setTimeout(()=>{let focus=view.hasFocus;if(focus!=view.inputState.notifiedFocused){let tr=focusChangeTransaction(view.state,focus);tr?view.dispatch(tr):view.update([])}},10)}observers.focus=view=>{view.inputState.lastFocusTime=Date.now(),!view.scrollDOM.scrollTop&&(view.inputState.lastScrollTop||view.inputState.lastScrollLeft)&&(view.scrollDOM.scrollTop=view.inputState.lastScrollTop,view.scrollDOM.scrollLeft=view.inputState.lastScrollLeft),updateForFocusChange(view)};observers.blur=view=>{view.observer.clearSelectionRange(),updateForFocusChange(view)};observers.compositionstart=observers.compositionupdate=view=>{view.observer.editContext||(view.inputState.compositionFirstChange==null&&(view.inputState.compositionFirstChange=!0),view.inputState.composing<0&&(view.inputState.composing=0))};observers.compositionend=view=>{view.observer.editContext||(view.inputState.composing=-1,view.inputState.compositionEndedAt=Date.now(),view.inputState.compositionPendingKey=!0,view.inputState.compositionPendingChange=view.observer.pendingRecords().length>0,view.inputState.compositionFirstChange=null,browser.chrome&&browser.android?view.observer.flushSoon():view.inputState.compositionPendingChange?Promise.resolve().then(()=>view.observer.flush()):setTimeout(()=>{view.inputState.composing<0&&view.docView.hasComposition&&view.update([])},50))};observers.contextmenu=view=>{view.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(view,event)=>{var _a4,_b;if(event.inputType=="insertReplacementText"&&view.observer.editContext){let text2=(_a4=event.dataTransfer)===null||_a4===void 0?void 0:_a4.getData("text/plain"),ranges=event.getTargetRanges();if(text2&&ranges.length){let r2=ranges[0],from=view.posAtDOM(r2.startContainer,r2.startOffset),to=view.posAtDOM(r2.endContainer,r2.endOffset);return applyDOMChangeInner(view,{from,to,insert:view.state.toText(text2)},null),!0}}let pending;if(browser.chrome&&browser.android&&(pending=PendingKeys.find(key=>key.inputType==event.inputType))&&(view.observer.delayAndroidKey(pending.key,pending.keyCode),pending.key=="Backspace"||pending.key=="Delete")){let startViewHeight=((_b=window.visualViewport)===null||_b===void 0?void 0:_b.height)||0;setTimeout(()=>{var _a5;(((_a5=window.visualViewport)===null||_a5===void 0?void 0:_a5.height)||0)>startViewHeight+10&&view.hasFocus&&(view.contentDOM.blur(),view.focus())},100)}return browser.ios&&event.inputType=="deleteContentForward"&&view.observer.flushSoon(),browser.safari&&event.inputType=="insertText"&&view.inputState.composing>=0&&setTimeout(()=>observers.compositionend(view,event),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(doc2){appliedFirefoxHack.has(doc2)||(appliedFirefoxHack.add(doc2),doc2.addEventListener("copy",()=>{}),doc2.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(lineWrapping){this.lineWrapping=lineWrapping,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(from,to){let lines=this.doc.lineAt(to).number-this.doc.lineAt(from).number+1;return this.lineWrapping&&(lines+=Math.max(0,Math.ceil((to-from-lines*this.lineLength*.5)/this.lineLength))),this.lineHeight*lines}heightForLine(length){return this.lineWrapping?(1+Math.max(0,Math.ceil((length-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(doc2){return this.doc=doc2,this}mustRefreshForWrapping(whiteSpace){return wrappingWhiteSpace.indexOf(whiteSpace)>-1!=this.lineWrapping}mustRefreshForHeights(lineHeights){let newHeight=!1;for(let i=0;i<lineHeights.length;i++){let h2=lineHeights[i];h2<0?i++:this.heightSamples[Math.floor(h2*10)]||(newHeight=!0,this.heightSamples[Math.floor(h2*10)]=!0)}return newHeight}refresh(whiteSpace,lineHeight,charWidth,textHeight,lineLength,knownHeights){let lineWrapping=wrappingWhiteSpace.indexOf(whiteSpace)>-1,changed=Math.round(lineHeight)!=Math.round(this.lineHeight)||this.lineWrapping!=lineWrapping;if(this.lineWrapping=lineWrapping,this.lineHeight=lineHeight,this.charWidth=charWidth,this.textHeight=textHeight,this.lineLength=lineLength,changed){this.heightSamples={};for(let i=0;i<knownHeights.length;i++){let h2=knownHeights[i];h2<0?i++:this.heightSamples[Math.floor(h2*10)]=!0}}return changed}}class MeasuredHeights{constructor(from,heights){this.from=from,this.heights=heights,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(from,length,top2,height,_content){this.from=from,this.length=length,this.top=top2,this.height=height,this._content=_content}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(other){let content2=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(other._content)?other._content:[other]);return new BlockInfo(this.from,this.length+other.length,this.top,this.height+other.height,content2)}}var QueryType$1=function(QueryType2){return QueryType2[QueryType2.ByPos=0]="ByPos",QueryType2[QueryType2.ByHeight=1]="ByHeight",QueryType2[QueryType2.ByPosNoHeight=2]="ByPosNoHeight",QueryType2}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(length,height,flags=2){this.length=length,this.height=height,this.flags=flags}get outdated(){return(this.flags&2)>0}set outdated(value){this.flags=(value?2:0)|this.flags&-3}setHeight(height){this.height!=height&&(Math.abs(this.height-height)>Epsilon&&(heightChangeFlag=!0),this.height=height)}replace(_from,_to,nodes){return HeightMap.of(nodes)}decomposeLeft(_to,result){result.push(this)}decomposeRight(_from,result){result.push(this)}applyChanges(decorations2,oldDoc,oracle,changes){let me2=this,doc2=oracle.doc;for(let i=changes.length-1;i>=0;i--){let{fromA,toA,fromB,toB}=changes[i],start=me2.lineAt(fromA,QueryType$1.ByPosNoHeight,oracle.setDoc(oldDoc),0,0),end=start.to>=toA?start:me2.lineAt(toA,QueryType$1.ByPosNoHeight,oracle,0,0);for(toB+=end.to-toA,toA=end.to;i>0&&start.from<=changes[i-1].toA;)fromA=changes[i-1].fromA,fromB=changes[i-1].fromB,i--,fromA<start.from&&(start=me2.lineAt(fromA,QueryType$1.ByPosNoHeight,oracle,0,0));fromB+=start.from-fromA,fromA=start.from;let nodes=NodeBuilder.build(oracle.setDoc(doc2),decorations2,fromB,toB);me2=replace(me2,me2.replace(fromA,toA,nodes))}return me2.updateHeight(oracle,0)}static empty(){return new HeightMapText(0,0)}static of(nodes){if(nodes.length==1)return nodes[0];let i=0,j2=nodes.length,before=0,after=0;for(;;)if(i==j2)if(before>after*2){let split=nodes[i-1];split.break?nodes.splice(--i,1,split.left,null,split.right):nodes.splice(--i,1,split.left,split.right),j2+=1+split.break,before-=split.size}else if(after>before*2){let split=nodes[j2];split.break?nodes.splice(j2,1,split.left,null,split.right):nodes.splice(j2,1,split.left,split.right),j2+=2+split.break,after-=split.size}else break;else if(before<after){let next=nodes[i++];next&&(before+=next.size)}else{let next=nodes[--j2];next&&(after+=next.size)}let brk=0;return nodes[i-1]==null?(brk=1,i--):nodes[i]==null&&(brk=1,j2++),new HeightMapBranch(HeightMap.of(nodes.slice(0,i)),brk,HeightMap.of(nodes.slice(j2)))}}function replace(old,val){return old==val?old:(old.constructor!=val.constructor&&(heightChangeFlag=!0),val)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(length,height,deco){super(length,height),this.deco=deco}blockAt(_height,_oracle,top2,offset){return new BlockInfo(offset,this.length,top2,this.height,this.deco||0)}lineAt(_value,_type,oracle,top2,offset){return this.blockAt(0,oracle,top2,offset)}forEachLine(from,to,oracle,top2,offset,f2){from<=offset+this.length&&to>=offset&&f2(this.blockAt(0,oracle,top2,offset))}updateHeight(oracle,offset=0,_force=!1,measured){return measured&&measured.from<=offset&&measured.more&&this.setHeight(measured.heights[measured.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(length,height){super(length,height,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(_height,_oracle,top2,offset){return new BlockInfo(offset,this.length,top2,this.height,this.breaks)}replace(_from,_to,nodes){let node=nodes[0];return nodes.length==1&&(node instanceof HeightMapText||node instanceof HeightMapGap&&node.flags&4)&&Math.abs(this.length-node.length)<10?(node instanceof HeightMapGap?node=new HeightMapText(node.length,this.height):node.height=this.height,this.outdated||(node.outdated=!1),node):HeightMap.of(nodes)}updateHeight(oracle,offset=0,force=!1,measured){return measured&&measured.from<=offset&&measured.more?this.setHeight(measured.heights[measured.index++]):(force||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,oracle.heightForLine(this.length-this.collapsed))+this.breaks*oracle.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(length){super(length,0)}heightMetrics(oracle,offset){let firstLine=oracle.doc.lineAt(offset).number,lastLine=oracle.doc.lineAt(offset+this.length).number,lines=lastLine-firstLine+1,perLine,perChar=0;if(oracle.lineWrapping){let totalPerLine=Math.min(this.height,oracle.lineHeight*lines);perLine=totalPerLine/lines,this.length>lines+1&&(perChar=(this.height-totalPerLine)/(this.length-lines-1))}else perLine=this.height/lines;return{firstLine,lastLine,perLine,perChar}}blockAt(height,oracle,top2,offset){let{firstLine,lastLine,perLine,perChar}=this.heightMetrics(oracle,offset);if(oracle.lineWrapping){let guess=offset+(height<oracle.lineHeight?0:Math.round(Math.max(0,Math.min(1,(height-top2)/this.height))*this.length)),line=oracle.doc.lineAt(guess),lineHeight=perLine+line.length*perChar,lineTop=Math.max(top2,height-lineHeight/2);return new BlockInfo(line.from,line.length,lineTop,lineHeight,0)}else{let line=Math.max(0,Math.min(lastLine-firstLine,Math.floor((height-top2)/perLine))),{from,length}=oracle.doc.line(firstLine+line);return new BlockInfo(from,length,top2+perLine*line,perLine,0)}}lineAt(value,type,oracle,top2,offset){if(type==QueryType$1.ByHeight)return this.blockAt(value,oracle,top2,offset);if(type==QueryType$1.ByPosNoHeight){let{from,to}=oracle.doc.lineAt(value);return new BlockInfo(from,to-from,0,0,0)}let{firstLine,perLine,perChar}=this.heightMetrics(oracle,offset),line=oracle.doc.lineAt(value),lineHeight=perLine+line.length*perChar,linesAbove=line.number-firstLine,lineTop=top2+perLine*linesAbove+perChar*(line.from-offset-linesAbove);return new BlockInfo(line.from,line.length,Math.max(top2,Math.min(lineTop,top2+this.height-lineHeight)),lineHeight,0)}forEachLine(from,to,oracle,top2,offset,f2){from=Math.max(from,offset),to=Math.min(to,offset+this.length);let{firstLine,perLine,perChar}=this.heightMetrics(oracle,offset);for(let pos=from,lineTop=top2;pos<=to;){let line=oracle.doc.lineAt(pos);if(pos==from){let linesAbove=line.number-firstLine;lineTop+=perLine*linesAbove+perChar*(from-offset-linesAbove)}let lineHeight=perLine+perChar*line.length;f2(new BlockInfo(line.from,line.length,lineTop,lineHeight,0)),lineTop+=lineHeight,pos=line.to+1}}replace(from,to,nodes){let after=this.length-to;if(after>0){let last=nodes[nodes.length-1];last instanceof HeightMapGap?nodes[nodes.length-1]=new HeightMapGap(last.length+after):nodes.push(null,new HeightMapGap(after-1))}if(from>0){let first=nodes[0];first instanceof HeightMapGap?nodes[0]=new HeightMapGap(from+first.length):nodes.unshift(new HeightMapGap(from-1),null)}return HeightMap.of(nodes)}decomposeLeft(to,result){result.push(new HeightMapGap(to-1),null)}decomposeRight(from,result){result.push(null,new HeightMapGap(this.length-from-1))}updateHeight(oracle,offset=0,force=!1,measured){let end=offset+this.length;if(measured&&measured.from<=offset+this.length&&measured.more){let nodes=[],pos=Math.max(offset,measured.from),singleHeight=-1;for(measured.from>offset&&nodes.push(new HeightMapGap(measured.from-offset-1).updateHeight(oracle,offset));pos<=end&&measured.more;){let len=oracle.doc.lineAt(pos).length;nodes.length&&nodes.push(null);let height=measured.heights[measured.index++];singleHeight==-1?singleHeight=height:Math.abs(height-singleHeight)>=Epsilon&&(singleHeight=-2);let line=new HeightMapText(len,height);line.outdated=!1,nodes.push(line),pos+=len+1}pos<=end&&nodes.push(null,new HeightMapGap(end-pos).updateHeight(oracle,pos));let result=HeightMap.of(nodes);return(singleHeight<0||Math.abs(result.height-this.height)>=Epsilon||Math.abs(singleHeight-this.heightMetrics(oracle,offset).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,result)}else(force||this.outdated)&&(this.setHeight(oracle.heightForGap(offset,offset+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(left,brk,right){super(left.length+brk+right.length,left.height+right.height,brk|(left.outdated||right.outdated?2:0)),this.left=left,this.right=right,this.size=left.size+right.size}get break(){return this.flags&1}blockAt(height,oracle,top2,offset){let mid=top2+this.left.height;return height<mid?this.left.blockAt(height,oracle,top2,offset):this.right.blockAt(height,oracle,mid,offset+this.left.length+this.break)}lineAt(value,type,oracle,top2,offset){let rightTop=top2+this.left.height,rightOffset=offset+this.left.length+this.break,left=type==QueryType$1.ByHeight?value<rightTop:value<rightOffset,base2=left?this.left.lineAt(value,type,oracle,top2,offset):this.right.lineAt(value,type,oracle,rightTop,rightOffset);if(this.break||(left?base2.to<rightOffset:base2.from>rightOffset))return base2;let subQuery=type==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return left?base2.join(this.right.lineAt(rightOffset,subQuery,oracle,rightTop,rightOffset)):this.left.lineAt(rightOffset,subQuery,oracle,top2,offset).join(base2)}forEachLine(from,to,oracle,top2,offset,f2){let rightTop=top2+this.left.height,rightOffset=offset+this.left.length+this.break;if(this.break)from<rightOffset&&this.left.forEachLine(from,to,oracle,top2,offset,f2),to>=rightOffset&&this.right.forEachLine(from,to,oracle,rightTop,rightOffset,f2);else{let mid=this.lineAt(rightOffset,QueryType$1.ByPos,oracle,top2,offset);from<mid.from&&this.left.forEachLine(from,mid.from-1,oracle,top2,offset,f2),mid.to>=from&&mid.from<=to&&f2(mid),to>mid.to&&this.right.forEachLine(mid.to+1,to,oracle,rightTop,rightOffset,f2)}}replace(from,to,nodes){let rightStart=this.left.length+this.break;if(to<rightStart)return this.balanced(this.left.replace(from,to,nodes),this.right);if(from>this.left.length)return this.balanced(this.left,this.right.replace(from-rightStart,to-rightStart,nodes));let result=[];from>0&&this.decomposeLeft(from,result);let left=result.length;for(let node of nodes)result.push(node);if(from>0&&mergeGaps(result,left-1),to<this.length){let right=result.length;this.decomposeRight(to,result),mergeGaps(result,right)}return HeightMap.of(result)}decomposeLeft(to,result){let left=this.left.length;if(to<=left)return this.left.decomposeLeft(to,result);result.push(this.left),this.break&&(left++,to>=left&&result.push(null)),to>left&&this.right.decomposeLeft(to-left,result)}decomposeRight(from,result){let left=this.left.length,right=left+this.break;if(from>=right)return this.right.decomposeRight(from-right,result);from<left&&this.left.decomposeRight(from,result),this.break&&from<right&&result.push(null),result.push(this.right)}balanced(left,right){return left.size>2*right.size||right.size>2*left.size?HeightMap.of(this.break?[left,null,right]:[left,right]):(this.left=replace(this.left,left),this.right=replace(this.right,right),this.setHeight(left.height+right.height),this.outdated=left.outdated||right.outdated,this.size=left.size+right.size,this.length=left.length+this.break+right.length,this)}updateHeight(oracle,offset=0,force=!1,measured){let{left,right}=this,rightStart=offset+left.length+this.break,rebalance=null;return measured&&measured.from<=offset+left.length&&measured.more?rebalance=left=left.updateHeight(oracle,offset,force,measured):left.updateHeight(oracle,offset,force),measured&&measured.from<=rightStart+right.length&&measured.more?rebalance=right=right.updateHeight(oracle,rightStart,force,measured):right.updateHeight(oracle,rightStart,force),rebalance?this.balanced(left,right):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(nodes,around){let before,after;nodes[around]==null&&(before=nodes[around-1])instanceof HeightMapGap&&(after=nodes[around+1])instanceof HeightMapGap&&nodes.splice(around-1,3,new HeightMapGap(before.length+1+after.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(pos,oracle){this.pos=pos,this.oracle=oracle,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=pos}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(_from,to){if(this.lineStart>-1){let end=Math.min(to,this.lineEnd),last=this.nodes[this.nodes.length-1];last instanceof HeightMapText?last.length+=end-this.pos:(end>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(end-this.pos,-1)),this.writtenTo=end,to>end&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=to}point(from,to,deco){if(from<to||deco.heightRelevant){let height=deco.widget?deco.widget.estimatedHeight:0,breaks=deco.widget?deco.widget.lineBreaks:0;height<0&&(height=this.oracle.lineHeight);let len=to-from;deco.block?this.addBlock(new HeightMapBlock(len,height,deco)):(len||breaks||height>=relevantWidgetHeight)&&this.addLineDeco(height,breaks,len)}else to>from&&this.span(from,to);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from,to}=this.oracle.doc.lineAt(this.pos);this.lineStart=from,this.lineEnd=to,this.writtenTo<from&&((this.writtenTo<from-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,from-1)),this.nodes.push(null)),this.pos>from&&this.nodes.push(new HeightMapText(this.pos-from,-1)),this.writtenTo=this.pos}blankContent(from,to){let gap=new HeightMapGap(to-from);return this.oracle.doc.lineAt(from).to==to&&(gap.flags|=4),gap}ensureLine(){this.enterLine();let last=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(last instanceof HeightMapText)return last;let line=new HeightMapText(0,-1);return this.nodes.push(line),line}addBlock(block2){this.enterLine();let deco=block2.deco;deco&&deco.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(block2),this.writtenTo=this.pos=this.pos+block2.length,deco&&deco.endSide>0&&(this.covering=block2)}addLineDeco(height,breaks,length){let line=this.ensureLine();line.length+=length,line.collapsed+=length,line.widgetHeight=Math.max(line.widgetHeight,height),line.breaks+=breaks,this.writtenTo=this.pos=this.pos+length}finish(from){let last=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(last instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||last==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let pos=from;for(let node of this.nodes)node instanceof HeightMapText&&node.updateHeight(this.oracle,pos),pos+=node?node.length:1;return this.nodes}static build(oracle,decorations2,from,to){let builder=new NodeBuilder(from,oracle);return RangeSet.spans(decorations2,from,to,builder,0),builder.finish(from)}}function heightRelevantDecoChanges(a2,b2,diff){let comp=new DecorationComparator2;return RangeSet.compare(a2,b2,diff,comp,0),comp.changes}class DecorationComparator2{constructor(){this.changes=[]}compareRange(){}comparePoint(from,to,a2,b2){(from<to||a2&&a2.heightRelevant||b2&&b2.heightRelevant)&&addRange(from,to,this.changes,5)}}function visiblePixelRange(dom,paddingTop){let rect=dom.getBoundingClientRect(),doc2=dom.ownerDocument,win=doc2.defaultView||window,left=Math.max(0,rect.left),right=Math.min(win.innerWidth,rect.right),top2=Math.max(0,rect.top),bottom=Math.min(win.innerHeight,rect.bottom);for(let parent=dom.parentNode;parent&&parent!=doc2.body;)if(parent.nodeType==1){let elt2=parent,style=window.getComputedStyle(elt2);if((elt2.scrollHeight>elt2.clientHeight||elt2.scrollWidth>elt2.clientWidth)&&style.overflow!="visible"){let parentRect=elt2.getBoundingClientRect();left=Math.max(left,parentRect.left),right=Math.min(right,parentRect.right),top2=Math.max(top2,parentRect.top),bottom=Math.min(parent==dom.parentNode?win.innerHeight:bottom,parentRect.bottom)}parent=style.position=="absolute"||style.position=="fixed"?elt2.offsetParent:elt2.parentNode}else if(parent.nodeType==11)parent=parent.host;else break;return{left:left-rect.left,right:Math.max(left,right)-rect.left,top:top2-(rect.top+paddingTop),bottom:Math.max(top2,bottom)-(rect.top+paddingTop)}}function inWindow(elt2){let rect=elt2.getBoundingClientRect(),win=elt2.ownerDocument.defaultView||window;return rect.left<win.innerWidth&&rect.right>0&&rect.top<win.innerHeight&&rect.bottom>0}function fullPixelRange(dom,paddingTop){let rect=dom.getBoundingClientRect();return{left:0,right:rect.right-rect.left,top:paddingTop,bottom:rect.bottom-(rect.top+paddingTop)}}class LineGap{constructor(from,to,size,displaySize){this.from=from,this.to=to,this.size=size,this.displaySize=displaySize}static same(a2,b2){if(a2.length!=b2.length)return!1;for(let i=0;i<a2.length;i++){let gA=a2[i],gB=b2[i];if(gA.from!=gB.from||gA.to!=gB.to||gA.size!=gB.size)return!1}return!0}draw(viewState,wrapping){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(wrapping?viewState.scaleY:viewState.scaleX),wrapping)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(size,vertical){super(),this.size=size,this.vertical=vertical}eq(other){return other.size==this.size&&other.vertical==this.vertical}toDOM(){let elt2=document.createElement("div");return this.vertical?elt2.style.height=this.size+"px":(elt2.style.width=this.size+"px",elt2.style.height="2px",elt2.style.display="inline-block"),elt2}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(state){this.state=state,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let guessWrapping=state.facet(contentAttributes).some(v2=>typeof v2!="function"&&v2.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(guessWrapping),this.stateDeco=state.facet(decorations).filter(d2=>typeof d2!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(state.doc),[new ChangedRange(0,0,0,state.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(gap=>gap.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let viewports=[this.viewport],{main}=this.state.selection;for(let i=0;i<=1;i++){let pos=i?main.head:main.anchor;if(!viewports.some(({from,to})=>pos>=from&&pos<=to)){let{from,to}=this.lineBlockAt(pos);viewports.push(new Viewport(from,to))}}return this.viewports=viewports.sort((a2,b2)=>a2.from-b2.from),this.updateScaler()}updateScaler(){let scaler=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),scaler.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,block2=>{this.viewportLines.push(scaleBlock(block2,this.scaler))})}update(update,scrollTarget=null){this.state=update.state;let prevDeco=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(d2=>typeof d2!="function");let contentChanges=update.changedRanges,heightChanges=ChangedRange.extendWithRanges(contentChanges,heightRelevantDecoChanges(prevDeco,this.stateDeco,update?update.changes:ChangeSet.empty(this.state.doc.length))),prevHeight=this.heightMap.height,scrollAnchor=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,update.startState.doc,this.heightOracle.setDoc(this.state.doc),heightChanges),(this.heightMap.height!=prevHeight||heightChangeFlag)&&(update.flags|=2),scrollAnchor?(this.scrollAnchorPos=update.changes.mapPos(scrollAnchor.from,-1),this.scrollAnchorHeight=scrollAnchor.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=prevHeight);let viewport=heightChanges.length?this.mapViewport(this.viewport,update.changes):this.viewport;(scrollTarget&&(scrollTarget.range.head<viewport.from||scrollTarget.range.head>viewport.to)||!this.viewportIsAppropriate(viewport))&&(viewport=this.getViewport(0,scrollTarget));let viewportChange=viewport.from!=this.viewport.from||viewport.to!=this.viewport.to;this.viewport=viewport,update.flags|=this.updateForViewport(),(viewportChange||!update.changes.empty||update.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,update.changes))),update.flags|=this.computeVisibleRanges(update.changes),scrollTarget&&(this.scrollTarget=scrollTarget),!this.mustEnforceCursorAssoc&&update.selectionSet&&update.view.lineWrapping&&update.state.selection.main.empty&&update.state.selection.main.assoc&&!update.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(view){let dom=view.contentDOM,style=window.getComputedStyle(dom),oracle=this.heightOracle,whiteSpace=style.whiteSpace;this.defaultTextDirection=style.direction=="rtl"?Direction.RTL:Direction.LTR;let refresh=this.heightOracle.mustRefreshForWrapping(whiteSpace),domRect=dom.getBoundingClientRect(),measureContent=refresh||this.mustMeasureContent||this.contentDOMHeight!=domRect.height;this.contentDOMHeight=domRect.height,this.mustMeasureContent=!1;let result=0,bias=0;if(domRect.width&&domRect.height){let{scaleX,scaleY}=getScale(dom,domRect);(scaleX>.005&&Math.abs(this.scaleX-scaleX)>.005||scaleY>.005&&Math.abs(this.scaleY-scaleY)>.005)&&(this.scaleX=scaleX,this.scaleY=scaleY,result|=16,refresh=measureContent=!0)}let paddingTop=(parseInt(style.paddingTop)||0)*this.scaleY,paddingBottom=(parseInt(style.paddingBottom)||0)*this.scaleY;(this.paddingTop!=paddingTop||this.paddingBottom!=paddingBottom)&&(this.paddingTop=paddingTop,this.paddingBottom=paddingBottom,result|=18),this.editorWidth!=view.scrollDOM.clientWidth&&(oracle.lineWrapping&&(measureContent=!0),this.editorWidth=view.scrollDOM.clientWidth,result|=16);let scrollTop=view.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=scrollTop),this.scrolledToBottom=isScrolledToBottom(view.scrollDOM);let pixelViewport=(this.printing?fullPixelRange:visiblePixelRange)(dom,this.paddingTop),dTop=pixelViewport.top-this.pixelViewport.top,dBottom=pixelViewport.bottom-this.pixelViewport.bottom;this.pixelViewport=pixelViewport;let inView=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(inView!=this.inView&&(this.inView=inView,inView&&(measureContent=!0)),!this.inView&&!this.scrollTarget&&!inWindow(view.dom))return 0;let contentWidth=domRect.width;if((this.contentDOMWidth!=contentWidth||this.editorHeight!=view.scrollDOM.clientHeight)&&(this.contentDOMWidth=domRect.width,this.editorHeight=view.scrollDOM.clientHeight,result|=16),measureContent){let lineHeights=view.docView.measureVisibleLineHeights(this.viewport);if(oracle.mustRefreshForHeights(lineHeights)&&(refresh=!0),refresh||oracle.lineWrapping&&Math.abs(contentWidth-this.contentDOMWidth)>oracle.charWidth){let{lineHeight,charWidth,textHeight}=view.docView.measureTextSize();refresh=lineHeight>0&&oracle.refresh(whiteSpace,lineHeight,charWidth,textHeight,Math.max(5,contentWidth/charWidth),lineHeights),refresh&&(view.docView.minWidth=0,result|=16)}dTop>0&&dBottom>0?bias=Math.max(dTop,dBottom):dTop<0&&dBottom<0&&(bias=Math.min(dTop,dBottom)),clearHeightChangeFlag();for(let vp of this.viewports){let heights=vp.from==this.viewport.from?lineHeights:view.docView.measureVisibleLineHeights(vp);this.heightMap=(refresh?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,view.state.doc.length)]):this.heightMap).updateHeight(oracle,0,refresh,new MeasuredHeights(vp.from,heights))}heightChangeFlag&&(result|=2)}let viewportChange=!this.viewportIsAppropriate(this.viewport,bias)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return viewportChange&&(result&2&&(result|=this.updateScaler()),this.viewport=this.getViewport(bias,this.scrollTarget),result|=this.updateForViewport()),(result&2||viewportChange)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(refresh?[]:this.lineGaps,view)),result|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,view.docView.enforceCursorAssoc()),result}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(bias,scrollTarget){let marginTop=.5-Math.max(-.5,Math.min(.5,bias/1e3/2)),map2=this.heightMap,oracle=this.heightOracle,{visibleTop,visibleBottom}=this,viewport=new Viewport(map2.lineAt(visibleTop-marginTop*1e3,QueryType$1.ByHeight,oracle,0,0).from,map2.lineAt(visibleBottom+(1-marginTop)*1e3,QueryType$1.ByHeight,oracle,0,0).to);if(scrollTarget){let{head}=scrollTarget.range;if(head<viewport.from||head>viewport.to){let viewHeight=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),block2=map2.lineAt(head,QueryType$1.ByPos,oracle,0,0),topPos;scrollTarget.y=="center"?topPos=(block2.top+block2.bottom)/2-viewHeight/2:scrollTarget.y=="start"||scrollTarget.y=="nearest"&&head<viewport.from?topPos=block2.top:topPos=block2.bottom-viewHeight,viewport=new Viewport(map2.lineAt(topPos-1e3/2,QueryType$1.ByHeight,oracle,0,0).from,map2.lineAt(topPos+viewHeight+1e3/2,QueryType$1.ByHeight,oracle,0,0).to)}}return viewport}mapViewport(viewport,changes){let from=changes.mapPos(viewport.from,-1),to=changes.mapPos(viewport.to,1);return new Viewport(this.heightMap.lineAt(from,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(to,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from,to},bias=0){if(!this.inView)return!0;let{top:top2}=this.heightMap.lineAt(from,QueryType$1.ByPos,this.heightOracle,0,0),{bottom}=this.heightMap.lineAt(to,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop,visibleBottom}=this;return(from==0||top2<=visibleTop-Math.max(10,Math.min(-bias,250)))&&(to==this.state.doc.length||bottom>=visibleBottom+Math.max(10,Math.min(bias,250)))&&top2>visibleTop-2*1e3&&bottom<visibleBottom+2*1e3}mapLineGaps(gaps,changes){if(!gaps.length||changes.empty)return gaps;let mapped=[];for(let gap of gaps)changes.touchesRange(gap.from,gap.to)||mapped.push(new LineGap(changes.mapPos(gap.from),changes.mapPos(gap.to),gap.size,gap.displaySize));return mapped}ensureLineGaps(current,mayMeasure){let wrapping=this.heightOracle.lineWrapping,margin=wrapping?1e4:2e3,halfMargin=margin>>1,doubleMargin=margin<<1;if(this.defaultTextDirection!=Direction.LTR&&!wrapping)return[];let gaps=[],addGap=(from,to,line,structure)=>{if(to-from<halfMargin)return;let sel=this.state.selection.main,avoid=[sel.from];sel.empty||avoid.push(sel.to);for(let pos of avoid)if(pos>from&&pos<to){addGap(from,pos-10,line,structure),addGap(pos+10,to,line,structure);return}let gap=find(current,gap2=>gap2.from>=line.from&&gap2.to<=line.to&&Math.abs(gap2.from-from)<halfMargin&&Math.abs(gap2.to-to)<halfMargin&&!avoid.some(pos=>gap2.from<pos&&gap2.to>pos));if(!gap){if(to<line.to&&mayMeasure&&wrapping&&mayMeasure.visibleRanges.some(r2=>r2.from<=to&&r2.to>=to)){let lineStart=mayMeasure.moveToLineBoundary(EditorSelection.cursor(to),!1,!0).head;lineStart>from&&(to=lineStart)}let size=this.gapSize(line,from,to,structure),displaySize=wrapping||size<2e6?size:2e6;gap=new LineGap(from,to,size,displaySize)}gaps.push(gap)},checkLine=line=>{if(line.length<doubleMargin||line.type!=BlockType.Text)return;let structure=lineStructure(line.from,line.to,this.stateDeco);if(structure.total<doubleMargin)return;let target=this.scrollTarget?this.scrollTarget.range.head:null,viewFrom,viewTo;if(wrapping){let marginHeight=margin/this.heightOracle.lineLength*this.heightOracle.lineHeight,top2,bot;if(target!=null){let targetFrac=findFraction(structure,target),spaceFrac=((this.visibleBottom-this.visibleTop)/2+marginHeight)/line.height;top2=targetFrac-spaceFrac,bot=targetFrac+spaceFrac}else top2=(this.visibleTop-line.top-marginHeight)/line.height,bot=(this.visibleBottom-line.top+marginHeight)/line.height;viewFrom=findPosition(structure,top2),viewTo=findPosition(structure,bot)}else{let totalWidth=structure.total*this.heightOracle.charWidth,marginWidth=margin*this.heightOracle.charWidth,horizOffset=0;if(totalWidth>2e6)for(let old of current)old.from>=line.from&&old.from<line.to&&old.size!=old.displaySize&&old.from*this.heightOracle.charWidth+horizOffset<this.pixelViewport.left&&(horizOffset=old.size-old.displaySize);let pxLeft=this.pixelViewport.left+horizOffset,pxRight=this.pixelViewport.right+horizOffset,left,right;if(target!=null){let targetFrac=findFraction(structure,target),spaceFrac=((pxRight-pxLeft)/2+marginWidth)/totalWidth;left=targetFrac-spaceFrac,right=targetFrac+spaceFrac}else left=(pxLeft-marginWidth)/totalWidth,right=(pxRight+marginWidth)/totalWidth;viewFrom=findPosition(structure,left),viewTo=findPosition(structure,right)}viewFrom>line.from&&addGap(line.from,viewFrom,line,structure),viewTo<line.to&&addGap(viewTo,line.to,line,structure)};for(let line of this.viewportLines)Array.isArray(line.type)?line.type.forEach(checkLine):checkLine(line);return gaps}gapSize(line,from,to,structure){let fraction=findFraction(structure,to)-findFraction(structure,from);return this.heightOracle.lineWrapping?line.height*fraction:structure.total*this.heightOracle.charWidth*fraction}updateLineGaps(gaps){LineGap.same(gaps,this.lineGaps)||(this.lineGaps=gaps,this.lineGapDeco=Decoration.set(gaps.map(gap=>gap.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(changes){let deco=this.stateDeco;this.lineGaps.length&&(deco=deco.concat(this.lineGapDeco));let ranges=[];RangeSet.spans(deco,this.viewport.from,this.viewport.to,{span(from,to){ranges.push({from,to})},point(){}},20);let changed=0;if(ranges.length!=this.visibleRanges.length)changed=12;else for(let i=0;i<ranges.length&&!(changed&8);i++){let old=this.visibleRanges[i],nw=ranges[i];(old.from!=nw.from||old.to!=nw.to)&&(changed|=4,changes&&changes.mapPos(old.from,-1)==nw.from&&changes.mapPos(old.to,1)==nw.to||(changed|=8))}return this.visibleRanges=ranges,changed}lineBlockAt(pos){return pos>=this.viewport.from&&pos<=this.viewport.to&&this.viewportLines.find(b2=>b2.from<=pos&&b2.to>=pos)||scaleBlock(this.heightMap.lineAt(pos,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(height){return height>=this.viewportLines[0].top&&height<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(l2=>l2.top<=height&&l2.bottom>=height)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(scrollTop){let block2=this.lineBlockAtHeight(scrollTop+8);return block2.from>=this.viewport.from||this.viewportLines[0].top-scrollTop>200?block2:this.viewportLines[0]}elementAtHeight(height){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(from,to){this.from=from,this.to=to}}function lineStructure(from,to,stateDeco){let ranges=[],pos=from,total=0;return RangeSet.spans(stateDeco,from,to,{span(){},point(from2,to2){from2>pos&&(ranges.push({from:pos,to:from2}),total+=from2-pos),pos=to2}},20),pos<to&&(ranges.push({from:pos,to}),total+=to-pos),{total,ranges}}function findPosition({total,ranges},ratio){if(ratio<=0)return ranges[0].from;if(ratio>=1)return ranges[ranges.length-1].to;let dist2=Math.floor(total*ratio);for(let i=0;;i++){let{from,to}=ranges[i],size=to-from;if(dist2<=size)return from+dist2;dist2-=size}}function findFraction(structure,pos){let counted=0;for(let{from,to}of structure.ranges){if(pos<=to){counted+=pos-from;break}counted+=to-from}return counted/structure.total}function find(array,f2){for(let val of array)if(f2(val))return val}const IdScaler={toDOM(n2){return n2},fromDOM(n2){return n2},scale:1,eq(other){return other==this}};class BigScaler{constructor(oracle,heightMap,viewports){let vpHeight=0,base2=0,domBase=0;this.viewports=viewports.map(({from,to})=>{let top2=heightMap.lineAt(from,QueryType$1.ByPos,oracle,0,0).top,bottom=heightMap.lineAt(to,QueryType$1.ByPos,oracle,0,0).bottom;return vpHeight+=bottom-top2,{from,to,top:top2,bottom,domTop:0,domBottom:0}}),this.scale=(7e6-vpHeight)/(heightMap.height-vpHeight);for(let obj of this.viewports)obj.domTop=domBase+(obj.top-base2)*this.scale,domBase=obj.domBottom=obj.domTop+(obj.bottom-obj.top),base2=obj.bottom}toDOM(n2){for(let i=0,base2=0,domBase=0;;i++){let vp=i<this.viewports.length?this.viewports[i]:null;if(!vp||n2<vp.top)return domBase+(n2-base2)*this.scale;if(n2<=vp.bottom)return vp.domTop+(n2-vp.top);base2=vp.bottom,domBase=vp.domBottom}}fromDOM(n2){for(let i=0,base2=0,domBase=0;;i++){let vp=i<this.viewports.length?this.viewports[i]:null;if(!vp||n2<vp.domTop)return base2+(n2-domBase)/this.scale;if(n2<=vp.domBottom)return vp.top+(n2-vp.domTop);base2=vp.bottom,domBase=vp.domBottom}}eq(other){return other instanceof BigScaler?this.scale==other.scale&&this.viewports.length==other.viewports.length&&this.viewports.every((vp,i)=>vp.from==other.viewports[i].from&&vp.to==other.viewports[i].to):!1}}function scaleBlock(block2,scaler){if(scaler.scale==1)return block2;let bTop=scaler.toDOM(block2.top),bBottom=scaler.toDOM(block2.bottom);return new BlockInfo(block2.from,block2.length,bTop,bBottom-bTop,Array.isArray(block2._content)?block2._content.map(b2=>scaleBlock(b2,scaler)):block2._content)}const theme=Facet.define({combine:strs=>strs.join(" ")}),darkTheme=Facet.define({combine:values2=>values2.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(main,spec,scopes){return new StyleModule(spec,{finish(sel){return/&/.test(sel)?sel.replace(/&\w*/,m2=>{if(m2=="&")return main;if(!scopes||!scopes[m2])throw new RangeError(`Unsupported selector: ${m2}`);return scopes[m2]}):main+" "+sel}})}const baseTheme$1$1=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(view){this.view=view,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=view.contentDOM,this.observer=new MutationObserver(mutations=>{for(let mut of mutations)this.queue.push(mut);(browser.ie&&browser.ie_version<=11||browser.ios&&view.composing)&&mutations.some(m2=>m2.type=="childList"&&m2.removedNodes.length||m2.type=="characterData"&&m2.oldValue.length>m2.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&view.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(view),view.state.facet(editable)&&(view.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=event=>{this.queue.push({target:event.target,type:"characterData",oldValue:event.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var _a4;((_a4=this.view.docView)===null||_a4===void 0?void 0:_a4.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(view.scrollDOM)),this.addWindowListeners(this.win=view.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(entries=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),entries.length>0&&entries[entries.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(entries=>{entries.length>0&&entries[entries.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e2){this.view.inputState.runHandlers("scroll",e2),this.intersecting&&this.view.measure()}onScroll(e2){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e2)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(event){(event.type=="change"||!event.type)&&!event.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(gaps){if(this.gapIntersection&&(gaps.length!=this.gaps.length||this.gaps.some((g2,i)=>g2!=gaps[i]))){this.gapIntersection.disconnect();for(let gap of gaps)this.gapIntersection.observe(gap);this.gaps=gaps}}onSelectionChange(event){let wasChanged=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view}=this,sel=this.selectionRange;if(view.state.facet(editable)?view.root.activeElement!=this.dom:!hasSelection(this.dom,sel))return;let context=sel.anchorNode&&view.docView.nearest(sel.anchorNode);if(context&&context.ignoreEvent(event)){wasChanged||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!view.state.selection.main.empty&&sel.focusNode&&isEquivalentPosition(sel.focusNode,sel.focusOffset,sel.anchorNode,sel.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view}=this,selection=getSelection(view.root);if(!selection)return!1;let range=browser.safari&&view.root.nodeType==11&&view.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,selection)||selection;if(!range||this.selectionRange.eq(range))return!1;let local=hasSelection(this.dom,range);return local&&!this.selectionChanged&&view.inputState.lastFocusTime>Date.now()-200&&view.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,range)?(this.view.inputState.lastFocusTime=0,view.docView.updateSelection(),!1):(this.selectionRange.setRange(range),local&&(this.selectionChanged=!0),!0)}setSelectionRange(anchor,head){this.selectionRange.set(anchor.node,anchor.offset,head.node,head.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let i=0,changed=null;for(let dom=this.dom;dom;)if(dom.nodeType==1)!changed&&i<this.scrollTargets.length&&this.scrollTargets[i]==dom?i++:changed||(changed=this.scrollTargets.slice(0,i)),changed&&changed.push(dom),dom=dom.assignedSlot||dom.parentNode;else if(dom.nodeType==11)dom=dom.host;else break;if(i<this.scrollTargets.length&&!changed&&(changed=this.scrollTargets.slice(0,i)),changed){for(let dom of this.scrollTargets)dom.removeEventListener("scroll",this.onScroll);for(let dom of this.scrollTargets=changed)dom.addEventListener("scroll",this.onScroll)}}ignore(f2){if(!this.active)return f2();try{return this.stop(),f2()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(key,keyCode){var _a4;if(!this.delayedAndroidKey){let flush=()=>{let key2=this.delayedAndroidKey;key2&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=key2.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&key2.force&&dispatchKey(this.dom,key2.key,key2.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(flush)}(!this.delayedAndroidKey||key=="Enter")&&(this.delayedAndroidKey={key,keyCode,force:this.lastChange<Date.now()-50||!!(!((_a4=this.delayedAndroidKey)===null||_a4===void 0)&&_a4.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let mut of this.observer.takeRecords())this.queue.push(mut);return this.queue}processRecords(){let records=this.pendingRecords();records.length&&(this.queue=[]);let from=-1,to=-1,typeOver=!1;for(let record of records){let range=this.readMutation(record);range&&(range.typeOver&&(typeOver=!0),from==-1?{from,to}=range:(from=Math.min(range.from,from),to=Math.max(range.to,to)))}return{from,to,typeOver}}readChange(){let{from,to,typeOver}=this.processRecords(),newSel=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(from<0&&!newSel)return null;from>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let change=new DOMChange(this.view,from,to,typeOver);return this.view.docView.domChanged={newSel:change.newSel?change.newSel.main:null},change}flush(readSelection=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;readSelection&&this.readSelectionRange();let domChange=this.readChange();if(!domChange)return this.view.requestMeasure(),!1;let startState=this.view.state,handled=applyDOMChange(this.view,domChange);return this.view.state==startState&&(domChange.domChanged||domChange.newSel&&!domChange.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),handled}readMutation(rec){let cView=this.view.docView.nearest(rec.target);if(!cView||cView.ignoreMutation(rec))return null;if(cView.markDirty(rec.type=="attributes"),rec.type=="attributes"&&(cView.flags|=4),rec.type=="childList"){let childBefore=findChild(cView,rec.previousSibling||rec.target.previousSibling,-1),childAfter=findChild(cView,rec.nextSibling||rec.target.nextSibling,1);return{from:childBefore?cView.posAfter(childBefore):cView.posAtStart,to:childAfter?cView.posBefore(childAfter):cView.posAtEnd,typeOver:!1}}else return rec.type=="characterData"?{from:cView.posAtStart,to:cView.posAtEnd,typeOver:rec.target.nodeValue==rec.oldValue}:null}setWindow(win){win!=this.win&&(this.removeWindowListeners(this.win),this.win=win,this.addWindowListeners(this.win))}addWindowListeners(win){win.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):win.addEventListener("beforeprint",this.onPrint),win.addEventListener("scroll",this.onScroll),win.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(win){win.removeEventListener("scroll",this.onScroll),win.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):win.removeEventListener("beforeprint",this.onPrint),win.document.removeEventListener("selectionchange",this.onSelectionChange)}update(update){this.editContext&&(this.editContext.update(update),update.startState.facet(editable)!=update.state.facet(editable)&&(update.view.contentDOM.editContext=update.state.facet(editable)?this.editContext.editContext:null))}destroy(){var _a4,_b,_c;this.stop(),(_a4=this.intersection)===null||_a4===void 0||_a4.disconnect(),(_b=this.gapIntersection)===null||_b===void 0||_b.disconnect(),(_c=this.resizeScroll)===null||_c===void 0||_c.disconnect();for(let dom of this.scrollTargets)dom.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(cView,dom,dir){for(;dom;){let curView=ContentView.get(dom);if(curView&&curView.parent==cView)return curView;let parent=dom.parentNode;dom=parent!=cView.dom?parent:dir>0?dom.nextSibling:dom.previousSibling}return null}function buildSelectionRangeFromRange(view,range){let anchorNode=range.startContainer,anchorOffset=range.startOffset,focusNode=range.endContainer,focusOffset=range.endOffset,curAnchor=view.docView.domAtPos(view.state.selection.main.anchor);return isEquivalentPosition(curAnchor.node,curAnchor.offset,focusNode,focusOffset)&&([anchorNode,anchorOffset,focusNode,focusOffset]=[focusNode,focusOffset,anchorNode,anchorOffset]),{anchorNode,anchorOffset,focusNode,focusOffset}}function safariSelectionRangeHack(view,selection){if(selection.getComposedRanges){let range=selection.getComposedRanges(view.root)[0];if(range)return buildSelectionRangeFromRange(view,range)}let found=null;function read(event){event.preventDefault(),event.stopImmediatePropagation(),found=event.getTargetRanges()[0]}return view.contentDOM.addEventListener("beforeinput",read,!0),view.dom.ownerDocument.execCommand("indent"),view.contentDOM.removeEventListener("beforeinput",read,!0),found?buildSelectionRangeFromRange(view,found):null}class EditContextManager{constructor(view){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(view.state);let context=this.editContext=new window.EditContext({text:view.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,view.state.selection.main.anchor))),selectionEnd:this.toContextPos(view.state.selection.main.head)});this.handlers.textupdate=e2=>{let main=view.state.selection.main,{anchor,head}=main,from=this.toEditorPos(e2.updateRangeStart),to=this.toEditorPos(e2.updateRangeEnd);view.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:e2.updateRangeStart,editorBase:from,drifted:!1});let deletes=to-from>e2.text.length;from==this.from&&anchor<this.from?from=anchor:to==this.to&&anchor>this.to&&(to=anchor);let diff=findDiff(view.state.sliceDoc(from,to),e2.text,(deletes?main.from:main.to)-from,deletes?"end":null);if(!diff){let newSel=EditorSelection.single(this.toEditorPos(e2.selectionStart),this.toEditorPos(e2.selectionEnd));newSel.main.eq(main)||view.dispatch({selection:newSel,userEvent:"select"});return}let change={from:diff.from+from,to:diff.toA+from,insert:Text.of(e2.text.slice(diff.from,diff.toB).split(`
`))};if((browser.mac||browser.android)&&change.from==head-1&&/^\. ?$/.test(e2.text)&&view.contentDOM.getAttribute("autocorrect")=="off"&&(change={from,to,insert:Text.of([e2.text.replace("."," ")])}),this.pendingContextChange=change,!view.state.readOnly){let newLen=this.to-this.from+(change.to-change.from+change.insert.length);applyDOMChangeInner(view,change,EditorSelection.single(this.toEditorPos(e2.selectionStart,newLen),this.toEditorPos(e2.selectionEnd,newLen)))}this.pendingContextChange&&(this.revertPending(view.state),this.setSelection(view.state)),change.from<change.to&&!change.insert.length&&view.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(context.text.slice(Math.max(0,e2.updateRangeStart-1),Math.min(context.text.length,e2.updateRangeStart+1)))&&this.handlers.compositionend(e2)},this.handlers.characterboundsupdate=e2=>{let rects=[],prev=null;for(let i=this.toEditorPos(e2.rangeStart),end=this.toEditorPos(e2.rangeEnd);i<end;i++){let rect=view.coordsForChar(i);prev=rect&&new DOMRect(rect.left,rect.top,rect.right-rect.left,rect.bottom-rect.top)||prev||new DOMRect,rects.push(prev)}context.updateCharacterBounds(e2.rangeStart,rects)},this.handlers.textformatupdate=e2=>{let deco=[];for(let format2 of e2.getTextFormats()){let lineStyle=format2.underlineStyle,thickness=format2.underlineThickness;if(!/none/i.test(lineStyle)&&!/none/i.test(thickness)){let from=this.toEditorPos(format2.rangeStart),to=this.toEditorPos(format2.rangeEnd);if(from<to){let style=`text-decoration: underline ${/^[a-z]/.test(lineStyle)?lineStyle+" ":lineStyle=="Dashed"?"dashed ":lineStyle=="Squiggle"?"wavy ":""}${/thin/i.test(thickness)?1:2}px`;deco.push(Decoration.mark({attributes:{style}}).range(from,to))}}}view.dispatch({effects:setEditContextFormatting.of(Decoration.set(deco))})},this.handlers.compositionstart=()=>{view.inputState.composing<0&&(view.inputState.composing=0,view.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(view.inputState.composing=-1,view.inputState.compositionFirstChange=null,this.composing){let{drifted}=this.composing;this.composing=null,drifted&&this.reset(view.state)}};for(let event in this.handlers)context.addEventListener(event,this.handlers[event]);this.measureReq={read:view2=>{this.editContext.updateControlBounds(view2.contentDOM.getBoundingClientRect());let sel=getSelection(view2.root);sel&&sel.rangeCount&&this.editContext.updateSelectionBounds(sel.getRangeAt(0).getBoundingClientRect())}}}applyEdits(update){let off=0,abort=!1,pending=this.pendingContextChange;return update.changes.iterChanges((fromA,toA,_fromB,_toB,insert2)=>{if(abort)return;let dLen=insert2.length-(toA-fromA);if(pending&&toA>=pending.to)if(pending.from==fromA&&pending.to==toA&&pending.insert.eq(insert2)){pending=this.pendingContextChange=null,off+=dLen,this.to+=dLen;return}else pending=null,this.revertPending(update.state);if(fromA+=off,toA+=off,toA<=this.from)this.from+=dLen,this.to+=dLen;else if(fromA<this.to){if(fromA<this.from||toA>this.to||this.to-this.from+insert2.length>3e4){abort=!0;return}this.editContext.updateText(this.toContextPos(fromA),this.toContextPos(toA),insert2.toString()),this.to+=dLen}off+=dLen}),pending&&!abort&&this.revertPending(update.state),!abort}update(update){let reverted=this.pendingContextChange,startSel=update.startState.selection.main;this.composing&&(this.composing.drifted||!update.changes.touchesRange(startSel.from,startSel.to)&&update.transactions.some(tr=>!tr.isUserEvent("input.type")&&tr.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=update.changes.mapPos(this.composing.editorBase)):!this.applyEdits(update)||!this.rangeIsValid(update.state)?(this.pendingContextChange=null,this.reset(update.state)):(update.docChanged||update.selectionSet||reverted)&&this.setSelection(update.state),(update.geometryChanged||update.docChanged||update.selectionSet)&&update.view.requestMeasure(this.measureReq)}resetRange(state){let{head}=state.selection.main;this.from=Math.max(0,head-1e4),this.to=Math.min(state.doc.length,head+1e4)}reset(state){this.resetRange(state),this.editContext.updateText(0,this.editContext.text.length,state.doc.sliceString(this.from,this.to)),this.setSelection(state)}revertPending(state){let pending=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(pending.from),this.toContextPos(pending.from+pending.insert.length),state.doc.sliceString(pending.from,pending.to))}setSelection(state){let{main}=state.selection,start=this.toContextPos(Math.max(this.from,Math.min(this.to,main.anchor))),end=this.toContextPos(main.head);(this.editContext.selectionStart!=start||this.editContext.selectionEnd!=end)&&this.editContext.updateSelection(start,end)}rangeIsValid(state){let{head}=state.selection.main;return!(this.from>0&&head-this.from<500||this.to<state.doc.length&&this.to-head<500||this.to-this.from>1e4*3)}toEditorPos(contextPos,clipLen=this.to-this.from){contextPos=Math.min(contextPos,clipLen);let c2=this.composing;return c2&&c2.drifted?c2.editorBase+(contextPos-c2.contextBase):contextPos+this.from}toContextPos(editorPos){let c2=this.composing;return c2&&c2.drifted?c2.contextBase+(editorPos-c2.editorBase):editorPos-this.from}destroy(){for(let event in this.handlers)this.editContext.removeEventListener(event,this.handlers[event])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(config2={}){var _a4;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),config2.parent&&config2.parent.appendChild(this.dom);let{dispatch}=config2;this.dispatchTransactions=config2.dispatchTransactions||dispatch&&(trs=>trs.forEach(tr=>dispatch(tr,this)))||(trs=>this.update(trs)),this.dispatch=this.dispatch.bind(this),this._root=config2.root||getRoot(config2.parent)||document,this.viewState=new ViewState(config2.state||EditorState.create(config2)),config2.scrollTo&&config2.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=config2.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(spec=>new PluginInstance(spec));for(let plugin of this.plugins)plugin.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((_a4=document.fonts)===null||_a4===void 0)&&_a4.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...input){let trs=input.length==1&&input[0]instanceof Transaction?input:input.length==1&&Array.isArray(input[0])?input[0]:[this.state.update(...input)];this.dispatchTransactions(trs,this)}update(transactions){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let redrawn=!1,attrsChanged=!1,update,state=this.state;for(let tr of transactions){if(tr.startState!=state)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");state=tr.state}if(this.destroyed){this.viewState.state=state;return}let focus=this.hasFocus,focusFlag=0,dispatchFocus=null;transactions.some(tr=>tr.annotation(isFocusChange))?(this.inputState.notifiedFocused=focus,focusFlag=1):focus!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=focus,dispatchFocus=focusChangeTransaction(state,focus),dispatchFocus||(focusFlag=1));let pendingKey=this.observer.delayedAndroidKey,domChange=null;if(pendingKey?(this.observer.clearDelayedAndroidKey(),domChange=this.observer.readChange(),(domChange&&!this.state.doc.eq(state.doc)||!this.state.selection.eq(state.selection))&&(domChange=null)):this.observer.clear(),state.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(state);update=ViewUpdate.create(this,state,transactions),update.flags|=focusFlag;let scrollTarget=this.viewState.scrollTarget;try{this.updateState=2;for(let tr of transactions){if(scrollTarget&&(scrollTarget=scrollTarget.map(tr.changes)),tr.scrollIntoView){let{main}=tr.state.selection;scrollTarget=new ScrollTarget(main.empty?main:EditorSelection.cursor(main.head,main.head>main.anchor?-1:1))}for(let e2 of tr.effects)e2.is(scrollIntoView$1)&&(scrollTarget=e2.value.clip(this.state))}this.viewState.update(update,scrollTarget),this.bidiCache=CachedOrder.update(this.bidiCache,update.changes),update.empty||(this.updatePlugins(update),this.inputState.update(update)),redrawn=this.docView.update(update),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),attrsChanged=this.updateAttrs(),this.showAnnouncements(transactions),this.docView.updateSelection(redrawn,transactions.some(tr=>tr.isUserEvent("select.pointer")))}finally{this.updateState=0}if(update.startState.facet(theme)!=update.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(redrawn||attrsChanged||scrollTarget||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),redrawn&&this.docViewUpdate(),!update.empty)for(let listener of this.state.facet(updateListener))try{listener(update)}catch(e2){logException(this.state,e2,"update listener")}(dispatchFocus||domChange)&&Promise.resolve().then(()=>{dispatchFocus&&this.state==dispatchFocus.startState&&this.dispatch(dispatchFocus),domChange&&!applyDOMChange(this,domChange)&&pendingKey.force&&dispatchKey(this.contentDOM,pendingKey.key,pendingKey.keyCode)})}setState(newState){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=newState;return}this.updateState=2;let hadFocus=this.hasFocus;try{for(let plugin of this.plugins)plugin.destroy(this);this.viewState=new ViewState(newState),this.plugins=newState.facet(viewPlugin).map(spec=>new PluginInstance(spec)),this.pluginMap.clear();for(let plugin of this.plugins)plugin.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}hadFocus&&this.focus(),this.requestMeasure()}updatePlugins(update){let prevSpecs=update.startState.facet(viewPlugin),specs=update.state.facet(viewPlugin);if(prevSpecs!=specs){let newPlugins=[];for(let spec of specs){let found=prevSpecs.indexOf(spec);if(found<0)newPlugins.push(new PluginInstance(spec));else{let plugin=this.plugins[found];plugin.mustUpdate=update,newPlugins.push(plugin)}}for(let plugin of this.plugins)plugin.mustUpdate!=update&&plugin.destroy(this);this.plugins=newPlugins,this.pluginMap.clear()}else for(let p2 of this.plugins)p2.mustUpdate=update;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);prevSpecs!=specs&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let plugin of this.plugins){let val=plugin.value;if(val&&val.docViewUpdate)try{val.docViewUpdate(this)}catch(e2){logException(this.state,e2,"doc view update listener")}}}measure(flush=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,flush&&this.observer.forceFlush();let updated=null,sDOM=this.scrollDOM,scrollTop=sDOM.scrollTop*this.scaleY,{scrollAnchorPos,scrollAnchorHeight}=this.viewState;Math.abs(scrollTop-this.viewState.scrollTop)>1&&(scrollAnchorHeight=-1),this.viewState.scrollAnchorHeight=-1;try{for(let i=0;;i++){if(scrollAnchorHeight<0)if(isScrolledToBottom(sDOM))scrollAnchorPos=-1,scrollAnchorHeight=this.viewState.heightMap.height;else{let block2=this.viewState.scrollAnchorAt(scrollTop);scrollAnchorPos=block2.from,scrollAnchorHeight=block2.top}this.updateState=1;let changed=this.viewState.measure(this);if(!changed&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let measuring=[];changed&4||([this.measureRequests,measuring]=[measuring,this.measureRequests]);let measured=measuring.map(m2=>{try{return m2.read(this)}catch(e2){return logException(this.state,e2),BadMeasure}}),update=ViewUpdate.create(this,this.state,[]),redrawn=!1;update.flags|=changed,updated?updated.flags|=changed:updated=update,this.updateState=2,update.empty||(this.updatePlugins(update),this.inputState.update(update),this.updateAttrs(),redrawn=this.docView.update(update),redrawn&&this.docViewUpdate());for(let i2=0;i2<measuring.length;i2++)if(measured[i2]!=BadMeasure)try{let m2=measuring[i2];m2.write&&m2.write(measured[i2],this)}catch(e2){logException(this.state,e2)}if(redrawn&&this.docView.updateSelection(!0),!update.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,scrollAnchorHeight=-1;continue}else{let diff=(scrollAnchorPos<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(scrollAnchorPos).top)-scrollAnchorHeight;if(diff>1||diff<-1){scrollTop=scrollTop+diff,sDOM.scrollTop=scrollTop/this.scaleY,scrollAnchorHeight=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(updated&&!updated.empty)for(let listener of this.state.facet(updateListener))listener(updated)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let editorAttrs=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),contentAttrs={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(contentAttrs["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,contentAttrs);let changed=this.observer.ignore(()=>{let changedContent=updateAttrs(this.contentDOM,this.contentAttrs,contentAttrs),changedEditor=updateAttrs(this.dom,this.editorAttrs,editorAttrs);return changedContent||changedEditor});return this.editorAttrs=editorAttrs,this.contentAttrs=contentAttrs,changed}showAnnouncements(trs){let first=!0;for(let tr of trs)for(let effect of tr.effects)if(effect.is(EditorView.announce)){first&&(this.announceDOM.textContent=""),first=!1;let div=this.announceDOM.appendChild(document.createElement("div"));div.textContent=effect.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let nonce=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$1).reverse(),nonce?{nonce}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(request){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),request){if(this.measureRequests.indexOf(request)>-1)return;if(request.key!=null){for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===request.key){this.measureRequests[i]=request;return}}this.measureRequests.push(request)}}plugin(plugin){let known=this.pluginMap.get(plugin);return(known===void 0||known&&known.plugin!=plugin)&&this.pluginMap.set(plugin,known=this.plugins.find(p2=>p2.plugin==plugin)||null),known&&known.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(height){return this.readMeasured(),this.viewState.elementAtHeight(height)}lineBlockAtHeight(height){return this.readMeasured(),this.viewState.lineBlockAtHeight(height)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(pos){return this.viewState.lineBlockAt(pos)}get contentHeight(){return this.viewState.contentHeight}moveByChar(start,forward,by){return skipAtoms(this,start,moveByChar(this,start,forward,by))}moveByGroup(start,forward){return skipAtoms(this,start,moveByChar(this,start,forward,initial=>byGroup(this,start.head,initial)))}visualLineSide(line,end){let order=this.bidiSpans(line),dir=this.textDirectionAt(line.from),span=order[end?order.length-1:0];return EditorSelection.cursor(span.side(end,dir)+line.from,span.forward(!end,dir)?1:-1)}moveToLineBoundary(start,forward,includeWrap=!0){return moveToLineBoundary(this,start,forward,includeWrap)}moveVertically(start,forward,distance){return skipAtoms(this,start,moveVertically(this,start,forward,distance))}domAtPos(pos){return this.docView.domAtPos(pos)}posAtDOM(node,offset=0){return this.docView.posFromDOM(node,offset)}posAtCoords(coords,precise=!0){return this.readMeasured(),posAtCoords(this,coords,precise)}coordsAtPos(pos,side=1){this.readMeasured();let rect=this.docView.coordsAt(pos,side);if(!rect||rect.left==rect.right)return rect;let line=this.state.doc.lineAt(pos),order=this.bidiSpans(line),span=order[BidiSpan.find(order,pos-line.from,-1,side)];return flattenRect(rect,span.dir==Direction.LTR==side>0)}coordsForChar(pos){return this.readMeasured(),this.docView.coordsForChar(pos)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(pos){return!this.state.facet(perLineTextDirection)||pos<this.viewport.from||pos>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(pos))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(line){if(line.length>MaxBidiLine)return trivialOrder(line.length);let dir=this.textDirectionAt(line.from),isolates;for(let entry of this.bidiCache)if(entry.from==line.from&&entry.dir==dir&&(entry.fresh||isolatesEq(entry.isolates,isolates=getIsolatedRanges(this,line))))return entry.order;isolates||(isolates=getIsolatedRanges(this,line));let order=computeOrder(line.text,dir,isolates);return this.bidiCache.push(new CachedOrder(line.from,line.to,dir,isolates,!0,order)),order}get hasFocus(){var _a4;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((_a4=this.inputState)===null||_a4===void 0?void 0:_a4.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(root){this._root!=root&&(this._root=root,this.observer.setWindow((root.nodeType==9?root:root.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let plugin of this.plugins)plugin.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(pos,options={}){return scrollIntoView$1.of(new ScrollTarget(typeof pos=="number"?EditorSelection.cursor(pos):pos,options.y,options.x,options.yMargin,options.xMargin))}scrollSnapshot(){let{scrollTop,scrollLeft}=this.scrollDOM,ref2=this.viewState.scrollAnchorAt(scrollTop);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(ref2.from),"start","start",ref2.top-scrollTop,scrollLeft,!0))}setTabFocusMode(to){to==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof to=="boolean"?this.inputState.tabFocusMode=to?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+to)}static domEventHandlers(handlers2){return ViewPlugin.define(()=>({}),{eventHandlers:handlers2})}static domEventObservers(observers2){return ViewPlugin.define(()=>({}),{eventObservers:observers2})}static theme(spec,options){let prefix=StyleModule.newName(),result=[theme.of(prefix),styleModule.of(buildTheme(`.${prefix}`,spec))];return options&&options.dark&&result.push(darkTheme.of(!0)),result}static baseTheme(spec){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,spec,lightDarkIDs)))}static findFromDOM(dom){var _a4;let content2=dom.querySelector(".cm-content"),cView=content2&&ContentView.get(content2)||ContentView.get(dom);return((_a4=cView?.rootView)===null||_a4===void 0?void 0:_a4.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:values2=>values2.length?values2[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(from,to,dir,isolates,fresh,order){this.from=from,this.to=to,this.dir=dir,this.isolates=isolates,this.fresh=fresh,this.order=order}static update(cache2,changes){if(changes.empty&&!cache2.some(c2=>c2.fresh))return cache2;let result=[],lastDir=cache2.length?cache2[cache2.length-1].dir:Direction.LTR;for(let i=Math.max(0,cache2.length-10);i<cache2.length;i++){let entry=cache2[i];entry.dir==lastDir&&!changes.touchesRange(entry.from,entry.to)&&result.push(new CachedOrder(changes.mapPos(entry.from,1),changes.mapPos(entry.to,-1),entry.dir,entry.isolates,!1,entry.order))}return result}}function attrsFromFacet(view,facet,base2){for(let sources=view.state.facet(facet),i=sources.length-1;i>=0;i--){let source=sources[i],value=typeof source=="function"?source(view):source;value&&combineAttrs(value,base2)}return base2}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(name2,platform){const parts=name2.split(/-(?!$)/);let result=parts[parts.length-1];result=="Space"&&(result=" ");let alt,ctrl,shift2,meta2;for(let i=0;i<parts.length-1;++i){const mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))meta2=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else if(/^s(hift)?$/i.test(mod))shift2=!0;else if(/^mod$/i.test(mod))platform=="mac"?meta2=!0:ctrl=!0;else throw new Error("Unrecognized modifier name: "+mod)}return alt&&(result="Alt-"+result),ctrl&&(result="Ctrl-"+result),meta2&&(result="Meta-"+result),shift2&&(result="Shift-"+result),result}function modifiers(name2,event,shift2){return event.altKey&&(name2="Alt-"+name2),event.ctrlKey&&(name2="Ctrl-"+name2),event.metaKey&&(name2="Meta-"+name2),shift2!==!1&&event.shiftKey&&(name2="Shift-"+name2),name2}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(event,view){return runHandlers(getKeymap(view.state),event,view,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(state){let bindings=state.facet(keymap),map2=Keymaps.get(bindings);return map2||Keymaps.set(bindings,map2=buildKeymap(bindings.reduce((a2,b2)=>a2.concat(b2),[]))),map2}function runScopeHandlers(view,event,scope){return runHandlers(getKeymap(view.state),event,view,scope)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(bindings,platform=currentPlatform){let bound=Object.create(null),isPrefix=Object.create(null),checkPrefix=(name2,is)=>{let current=isPrefix[name2];if(current==null)isPrefix[name2]=is;else if(current!=is)throw new Error("Key binding "+name2+" is used both as a regular binding and as a multi-stroke prefix")},add3=(scope,key,command2,preventDefault,stopPropagation)=>{var _a4,_b;let scopeObj=bound[scope]||(bound[scope]=Object.create(null)),parts=key.split(/ (?!$)/).map(k2=>normalizeKeyName(k2,platform));for(let i=1;i<parts.length;i++){let prefix=parts.slice(0,i).join(" ");checkPrefix(prefix,!0),scopeObj[prefix]||(scopeObj[prefix]={preventDefault:!0,stopPropagation:!1,run:[view=>{let ourObj=storedPrefix={view,prefix,scope};return setTimeout(()=>{storedPrefix==ourObj&&(storedPrefix=null)},PrefixTimeout),!0}]})}let full=parts.join(" ");checkPrefix(full,!1);let binding=scopeObj[full]||(scopeObj[full]={preventDefault:!1,stopPropagation:!1,run:((_b=(_a4=scopeObj._any)===null||_a4===void 0?void 0:_a4.run)===null||_b===void 0?void 0:_b.slice())||[]});command2&&binding.run.push(command2),preventDefault&&(binding.preventDefault=!0),stopPropagation&&(binding.stopPropagation=!0)};for(let b2 of bindings){let scopes=b2.scope?b2.scope.split(" "):["editor"];if(b2.any)for(let scope of scopes){let scopeObj=bound[scope]||(bound[scope]=Object.create(null));scopeObj._any||(scopeObj._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any}=b2;for(let key in scopeObj)scopeObj[key].run.push(view=>any(view,currentKeyEvent))}let name2=b2[platform]||b2.key;if(name2)for(let scope of scopes)add3(scope,name2,b2.run,b2.preventDefault,b2.stopPropagation),b2.shift&&add3(scope,"Shift-"+name2,b2.shift,b2.preventDefault,b2.stopPropagation)}return bound}let currentKeyEvent=null;function runHandlers(map2,event,view,scope){currentKeyEvent=event;let name2=keyName(event),charCode=codePointAt(name2,0),isChar=codePointSize(charCode)==name2.length&&name2!=" ",prefix="",handled=!1,prevented=!1,stopPropagation=!1;storedPrefix&&storedPrefix.view==view&&storedPrefix.scope==scope&&(prefix=storedPrefix.prefix+" ",modifierCodes.indexOf(event.keyCode)<0&&(prevented=!0,storedPrefix=null));let ran=new Set,runFor=binding=>{if(binding){for(let cmd2 of binding.run)if(!ran.has(cmd2)&&(ran.add(cmd2),cmd2(view)))return binding.stopPropagation&&(stopPropagation=!0),!0;binding.preventDefault&&(binding.stopPropagation&&(stopPropagation=!0),prevented=!0)}return!1},scopeObj=map2[scope],baseName,shiftName;return scopeObj&&(runFor(scopeObj[prefix+modifiers(name2,event,!isChar)])?handled=!0:isChar&&(event.altKey||event.metaKey||event.ctrlKey)&&!(browser.windows&&event.ctrlKey&&event.altKey)&&!(browser.mac&&event.altKey&&!(event.ctrlKey||event.metaKey))&&(baseName=base[event.keyCode])&&baseName!=name2?(runFor(scopeObj[prefix+modifiers(baseName,event,!0)])||event.shiftKey&&(shiftName=shift[event.keyCode])!=name2&&shiftName!=baseName&&runFor(scopeObj[prefix+modifiers(shiftName,event,!1)]))&&(handled=!0):isChar&&event.shiftKey&&runFor(scopeObj[prefix+modifiers(name2,event,!0)])&&(handled=!0),!handled&&runFor(scopeObj._any)&&(handled=!0)),prevented&&(handled=!0),handled&&stopPropagation&&event.stopPropagation(),currentKeyEvent=null,handled}class RectangleMarker{constructor(className,left,top2,width,height){this.className=className,this.left=left,this.top=top2,this.width=width,this.height=height}draw(){let elt2=document.createElement("div");return elt2.className=this.className,this.adjust(elt2),elt2}update(elt2,prev){return prev.className!=this.className?!1:(this.adjust(elt2),!0)}adjust(elt2){elt2.style.left=this.left+"px",elt2.style.top=this.top+"px",this.width!=null&&(elt2.style.width=this.width+"px"),elt2.style.height=this.height+"px"}eq(p2){return this.left==p2.left&&this.top==p2.top&&this.width==p2.width&&this.height==p2.height&&this.className==p2.className}static forRange(view,className,range){if(range.empty){let pos=view.coordsAtPos(range.head,range.assoc||1);if(!pos)return[];let base2=getBase(view);return[new RectangleMarker(className,pos.left-base2.left,pos.top-base2.top,null,pos.bottom-pos.top)]}else return rectanglesForRange(view,className,range)}}function getBase(view){let rect=view.scrollDOM.getBoundingClientRect();return{left:(view.textDirection==Direction.LTR?rect.left:rect.right-view.scrollDOM.clientWidth*view.scaleX)-view.scrollDOM.scrollLeft*view.scaleX,top:rect.top-view.scrollDOM.scrollTop*view.scaleY}}function wrappedLine(view,pos,side,inside2){let coords=view.coordsAtPos(pos,side*2);if(!coords)return inside2;let editorRect=view.dom.getBoundingClientRect(),y2=(coords.top+coords.bottom)/2,left=view.posAtCoords({x:editorRect.left+1,y:y2}),right=view.posAtCoords({x:editorRect.right-1,y:y2});return left==null||right==null?inside2:{from:Math.max(inside2.from,Math.min(left,right)),to:Math.min(inside2.to,Math.max(left,right))}}function rectanglesForRange(view,className,range){if(range.to<=view.viewport.from||range.from>=view.viewport.to)return[];let from=Math.max(range.from,view.viewport.from),to=Math.min(range.to,view.viewport.to),ltr=view.textDirection==Direction.LTR,content2=view.contentDOM,contentRect=content2.getBoundingClientRect(),base2=getBase(view),lineElt=content2.querySelector(".cm-line"),lineStyle=lineElt&&window.getComputedStyle(lineElt),leftSide=contentRect.left+(lineStyle?parseInt(lineStyle.paddingLeft)+Math.min(0,parseInt(lineStyle.textIndent)):0),rightSide=contentRect.right-(lineStyle?parseInt(lineStyle.paddingRight):0),startBlock=blockAt(view,from,1),endBlock=blockAt(view,to,-1),visualStart=startBlock.type==BlockType.Text?startBlock:null,visualEnd=endBlock.type==BlockType.Text?endBlock:null;if(visualStart&&(view.lineWrapping||startBlock.widgetLineBreaks)&&(visualStart=wrappedLine(view,from,1,visualStart)),visualEnd&&(view.lineWrapping||endBlock.widgetLineBreaks)&&(visualEnd=wrappedLine(view,to,-1,visualEnd)),visualStart&&visualEnd&&visualStart.from==visualEnd.from&&visualStart.to==visualEnd.to)return pieces(drawForLine(range.from,range.to,visualStart));{let top2=visualStart?drawForLine(range.from,null,visualStart):drawForWidget(startBlock,!1),bottom=visualEnd?drawForLine(null,range.to,visualEnd):drawForWidget(endBlock,!0),between=[];return(visualStart||startBlock).to<(visualEnd||endBlock).from-(visualStart&&visualEnd?1:0)||startBlock.widgetLineBreaks>1&&top2.bottom+view.defaultLineHeight/2<bottom.top?between.push(piece(leftSide,top2.bottom,rightSide,bottom.top)):top2.bottom<bottom.top&&view.elementAtHeight((top2.bottom+bottom.top)/2).type==BlockType.Text&&(top2.bottom=bottom.top=(top2.bottom+bottom.top)/2),pieces(top2).concat(between).concat(pieces(bottom))}function piece(left,top2,right,bottom){return new RectangleMarker(className,left-base2.left,top2-base2.top,right-left,bottom-top2)}function pieces({top:top2,bottom,horizontal}){let pieces2=[];for(let i=0;i<horizontal.length;i+=2)pieces2.push(piece(horizontal[i],top2,horizontal[i+1],bottom));return pieces2}function drawForLine(from2,to2,line){let top2=1e9,bottom=-1e9,horizontal=[];function addSpan(from3,fromOpen,to3,toOpen,dir){let fromCoords=view.coordsAtPos(from3,from3==line.to?-2:2),toCoords=view.coordsAtPos(to3,to3==line.from?2:-2);!fromCoords||!toCoords||(top2=Math.min(fromCoords.top,toCoords.top,top2),bottom=Math.max(fromCoords.bottom,toCoords.bottom,bottom),dir==Direction.LTR?horizontal.push(ltr&&fromOpen?leftSide:fromCoords.left,ltr&&toOpen?rightSide:toCoords.right):horizontal.push(!ltr&&toOpen?leftSide:toCoords.left,!ltr&&fromOpen?rightSide:fromCoords.right))}let start=from2??line.from,end=to2??line.to;for(let r2 of view.visibleRanges)if(r2.to>start&&r2.from<end)for(let pos=Math.max(r2.from,start),endPos=Math.min(r2.to,end);;){let docLine=view.state.doc.lineAt(pos);for(let span of view.bidiSpans(docLine)){let spanFrom=span.from+docLine.from,spanTo=span.to+docLine.from;if(spanFrom>=endPos)break;spanTo>pos&&addSpan(Math.max(spanFrom,pos),from2==null&&spanFrom<=start,Math.min(spanTo,endPos),to2==null&&spanTo>=end,span.dir)}if(pos=docLine.to+1,pos>=endPos)break}return horizontal.length==0&&addSpan(start,from2==null,end,to2==null,view.textDirection),{top:top2,bottom,horizontal}}function drawForWidget(block2,top2){let y2=contentRect.top+(top2?block2.top:block2.bottom);return{top:y2,bottom:y2,horizontal:[]}}}function sameMarker(a2,b2){return a2.constructor==b2.constructor&&a2.eq(b2)}class LayerView{constructor(view,layer2){this.view=view,this.layer=layer2,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=view.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),layer2.above&&this.dom.classList.add("cm-layer-above"),layer2.class&&this.dom.classList.add(layer2.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(view.state),view.requestMeasure(this.measureReq),layer2.mount&&layer2.mount(this.dom,view)}update(update){update.startState.facet(layerOrder)!=update.state.facet(layerOrder)&&this.setOrder(update.state),(this.layer.update(update,this.dom)||update.geometryChanged)&&(this.scale(),update.view.requestMeasure(this.measureReq))}docViewUpdate(view){this.layer.updateOnDocViewUpdate!==!1&&view.requestMeasure(this.measureReq)}setOrder(state){let pos=0,order=state.facet(layerOrder);for(;pos<order.length&&order[pos]!=this.layer;)pos++;this.dom.style.zIndex=String((this.layer.above?150:-1)-pos)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX,scaleY}=this.view;(scaleX!=this.scaleX||scaleY!=this.scaleY)&&(this.scaleX=scaleX,this.scaleY=scaleY,this.dom.style.transform=`scale(${1/scaleX}, ${1/scaleY})`)}draw(markers){if(markers.length!=this.drawn.length||markers.some((p2,i)=>!sameMarker(p2,this.drawn[i]))){let old=this.dom.firstChild,oldI=0;for(let marker of markers)marker.update&&old&&marker.constructor&&this.drawn[oldI].constructor&&marker.update(old,this.drawn[oldI])?(old=old.nextSibling,oldI++):this.dom.insertBefore(marker.draw(),old);for(;old;){let next=old.nextSibling;old.remove(),old=next}this.drawn=markers,browser.safari&&browser.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(config2){return[ViewPlugin.define(v2=>new LayerView(v2,config2)),layerOrder.of(config2)]}const selectionConfig=Facet.define({combine(configs){return combineConfig(configs,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(a2,b2)=>Math.min(a2,b2),drawRangeCursor:(a2,b2)=>a2||b2})}});function drawSelection(config2={}){return[selectionConfig.of(config2),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(update){return update.startState.facet(selectionConfig)!=update.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(view){let{state}=view,conf=state.facet(selectionConfig),cursors=[];for(let r2 of state.selection.ranges){let prim=r2==state.selection.main;if(r2.empty||conf.drawRangeCursor){let className=prim?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",cursor=r2.empty?r2:EditorSelection.cursor(r2.head,r2.head>r2.anchor?-1:1);for(let piece of RectangleMarker.forRange(view,className,cursor))cursors.push(piece)}}return cursors},update(update,dom){update.transactions.some(tr=>tr.selection)&&(dom.style.animationName=dom.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let confChange=configChanged(update);return confChange&&setBlinkRate(update.state,dom),update.docChanged||update.selectionSet||confChange},mount(dom,view){setBlinkRate(view.state,dom)},class:"cm-cursorLayer"});function setBlinkRate(state,dom){dom.style.animationDuration=state.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(view){return view.state.selection.ranges.map(r2=>r2.empty?[]:RectangleMarker.forRange(view,"cm-selectionBackground",r2)).reduce((a2,b2)=>a2.concat(b2))},update(update,dom){return update.docChanged||update.selectionSet||update.viewportChanged||configChanged(update)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}}));class Placeholder extends WidgetType{constructor(content2){super(),this.content=content2}toDOM(view){let wrap=document.createElement("span");return wrap.className="cm-placeholder",wrap.style.pointerEvents="none",wrap.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(view):this.content.cloneNode(!0)),wrap.setAttribute("aria-hidden","true"),wrap}coordsAt(dom){let rects=dom.firstChild?clientRectsFor(dom.firstChild):[];if(!rects.length)return null;let style=window.getComputedStyle(dom.parentNode),rect=flattenRect(rects[0],style.direction!="rtl"),lineHeight=parseInt(style.lineHeight);return rect.bottom-rect.top>lineHeight*1.5?{left:rect.left,right:rect.right,top:rect.top,bottom:rect.top+lineHeight}:rect}ignoreEvent(){return!1}}function placeholder(content2){let plugin=ViewPlugin.fromClass(class{constructor(view){this.view=view,this.placeholder=content2?Decoration.set([Decoration.widget({widget:new Placeholder(content2),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:v2=>v2.decorations});return typeof content2=="string"?[plugin,EditorView.contentAttributes.of({"aria-placeholder":content2})]:plugin}const Outside="-10000px";class TooltipViewManager{constructor(view,facet,createTooltipView,removeTooltipView){this.facet=facet,this.createTooltipView=createTooltipView,this.removeTooltipView=removeTooltipView,this.input=view.state.facet(facet),this.tooltips=this.input.filter(t2=>t2);let prev=null;this.tooltipViews=this.tooltips.map(t2=>prev=createTooltipView(t2,prev))}update(update,above){var _a4;let input=update.state.facet(this.facet),tooltips=input.filter(x2=>x2);if(input===this.input){for(let t2 of this.tooltipViews)t2.update&&t2.update(update);return!1}let tooltipViews=[],newAbove=above?[]:null;for(let i=0;i<tooltips.length;i++){let tip=tooltips[i],known=-1;if(tip){for(let i2=0;i2<this.tooltips.length;i2++){let other=this.tooltips[i2];other&&other.create==tip.create&&(known=i2)}if(known<0)tooltipViews[i]=this.createTooltipView(tip,i?tooltipViews[i-1]:null),newAbove&&(newAbove[i]=!!tip.above);else{let tooltipView=tooltipViews[i]=this.tooltipViews[known];newAbove&&(newAbove[i]=above[known]),tooltipView.update&&tooltipView.update(update)}}}for(let t2 of this.tooltipViews)tooltipViews.indexOf(t2)<0&&(this.removeTooltipView(t2),(_a4=t2.destroy)===null||_a4===void 0||_a4.call(t2));return above&&(newAbove.forEach((val,i)=>above[i]=val),above.length=newAbove.length),this.input=input,this.tooltips=tooltips,this.tooltipViews=tooltipViews,!0}}function windowSpace(view){let docElt=view.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:docElt.clientHeight,right:docElt.clientWidth}}const tooltipConfig=Facet.define({combine:values2=>{var _a4,_b,_c;return{position:browser.ios?"absolute":((_a4=values2.find(conf=>conf.position))===null||_a4===void 0?void 0:_a4.position)||"fixed",parent:((_b=values2.find(conf=>conf.parent))===null||_b===void 0?void 0:_b.parent)||null,tooltipSpace:((_c=values2.find(conf=>conf.tooltipSpace))===null||_c===void 0?void 0:_c.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(view){this.view=view,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let config2=view.state.facet(tooltipConfig);this.position=config2.position,this.parent=config2.parent,this.classes=view.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(view,showTooltip,(t2,p2)=>this.createTooltip(t2,p2),t2=>{this.resizeObserver&&this.resizeObserver.unobserve(t2.dom),t2.dom.remove()}),this.above=this.manager.tooltips.map(t2=>!!t2.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(entries=>{Date.now()>this.lastTransaction-50&&entries.length>0&&entries[entries.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),view.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let tooltip of this.manager.tooltipViews)this.intersectionObserver.observe(tooltip.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(update){update.transactions.length&&(this.lastTransaction=Date.now());let updated=this.manager.update(update,this.above);updated&&this.observeIntersection();let shouldMeasure=updated||update.geometryChanged,newConfig=update.state.facet(tooltipConfig);if(newConfig.position!=this.position&&!this.madeAbsolute){this.position=newConfig.position;for(let t2 of this.manager.tooltipViews)t2.dom.style.position=this.position;shouldMeasure=!0}if(newConfig.parent!=this.parent){this.parent&&this.container.remove(),this.parent=newConfig.parent,this.createContainer();for(let t2 of this.manager.tooltipViews)this.container.appendChild(t2.dom);shouldMeasure=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);shouldMeasure&&this.maybeMeasure()}createTooltip(tooltip,prev){let tooltipView=tooltip.create(this.view),before=prev?prev.dom:null;if(tooltipView.dom.classList.add("cm-tooltip"),tooltip.arrow&&!tooltipView.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let arrow=document.createElement("div");arrow.className="cm-tooltip-arrow",tooltipView.dom.appendChild(arrow)}return tooltipView.dom.style.position=this.position,tooltipView.dom.style.top=Outside,tooltipView.dom.style.left="0px",this.container.insertBefore(tooltipView.dom,before),tooltipView.mount&&tooltipView.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(tooltipView.dom),tooltipView}destroy(){var _a4,_b,_c;this.view.win.removeEventListener("resize",this.measureSoon);for(let tooltipView of this.manager.tooltipViews)tooltipView.dom.remove(),(_a4=tooltipView.destroy)===null||_a4===void 0||_a4.call(tooltipView);this.parent&&this.container.remove(),(_b=this.resizeObserver)===null||_b===void 0||_b.disconnect(),(_c=this.intersectionObserver)===null||_c===void 0||_c.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let scaleX=1,scaleY=1,makeAbsolute=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom}=this.manager.tooltipViews[0];if(browser.gecko)makeAbsolute=dom.offsetParent!=this.container.ownerDocument.body;else if(dom.style.top==Outside&&dom.style.left=="0px"){let rect=dom.getBoundingClientRect();makeAbsolute=Math.abs(rect.top+1e4)>1||Math.abs(rect.left)>1}}if(makeAbsolute||this.position=="absolute")if(this.parent){let rect=this.parent.getBoundingClientRect();rect.width&&rect.height&&(scaleX=rect.width/this.parent.offsetWidth,scaleY=rect.height/this.parent.offsetHeight)}else({scaleX,scaleY}=this.view.viewState);let visible=this.view.scrollDOM.getBoundingClientRect(),margins=getScrollMargins(this.view);return{visible:{left:visible.left+margins.left,top:visible.top+margins.top,right:visible.right-margins.right,bottom:visible.bottom-margins.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((t2,i)=>{let tv=this.manager.tooltipViews[i];return tv.getCoords?tv.getCoords(t2.pos):this.view.coordsAtPos(t2.pos)}),size:this.manager.tooltipViews.map(({dom})=>dom.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX,scaleY,makeAbsolute}}writeMeasure(measured){var _a4;if(measured.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t2 of this.manager.tooltipViews)t2.dom.style.position="absolute"}let{visible,space:space2,scaleX,scaleY}=measured,others=[];for(let i=0;i<this.manager.tooltips.length;i++){let tooltip=this.manager.tooltips[i],tView=this.manager.tooltipViews[i],{dom}=tView,pos=measured.pos[i],size=measured.size[i];if(!pos||tooltip.clip!==!1&&(pos.bottom<=Math.max(visible.top,space2.top)||pos.top>=Math.min(visible.bottom,space2.bottom)||pos.right<Math.max(visible.left,space2.left)-.1||pos.left>Math.min(visible.right,space2.right)+.1)){dom.style.top=Outside;continue}let arrow=tooltip.arrow?tView.dom.querySelector(".cm-tooltip-arrow"):null,arrowHeight=arrow?7:0,width=size.right-size.left,height=(_a4=knownHeight.get(tView))!==null&&_a4!==void 0?_a4:size.bottom-size.top,offset=tView.offset||noOffset,ltr=this.view.textDirection==Direction.LTR,left=size.width>space2.right-space2.left?ltr?space2.left:space2.right-size.width:ltr?Math.max(space2.left,Math.min(pos.left-(arrow?14:0)+offset.x,space2.right-width)):Math.min(Math.max(space2.left,pos.left-width+(arrow?14:0)-offset.x),space2.right-width),above=this.above[i];!tooltip.strictSide&&(above?pos.top-height-arrowHeight-offset.y<space2.top:pos.bottom+height+arrowHeight+offset.y>space2.bottom)&&above==space2.bottom-pos.bottom>pos.top-space2.top&&(above=this.above[i]=!above);let spaceVert=(above?pos.top-space2.top:space2.bottom-pos.bottom)-arrowHeight;if(spaceVert<height&&tView.resize!==!1){if(spaceVert<this.view.defaultLineHeight){dom.style.top=Outside;continue}knownHeight.set(tView,height),dom.style.height=(height=spaceVert)/scaleY+"px"}else dom.style.height&&(dom.style.height="");let top2=above?pos.top-height-arrowHeight-offset.y:pos.bottom+arrowHeight+offset.y,right=left+width;if(tView.overlap!==!0)for(let r2 of others)r2.left<right&&r2.right>left&&r2.top<top2+height&&r2.bottom>top2&&(top2=above?r2.top-height-2-arrowHeight:r2.bottom+arrowHeight+2);if(this.position=="absolute"?(dom.style.top=(top2-measured.parent.top)/scaleY+"px",setLeftStyle(dom,(left-measured.parent.left)/scaleX)):(dom.style.top=top2/scaleY+"px",setLeftStyle(dom,left/scaleX)),arrow){let arrowLeft=pos.left+(ltr?offset.x:-offset.x)-(left+14-7);arrow.style.left=arrowLeft/scaleX+"px"}tView.overlap!==!0&&others.push({left,top:top2,right,bottom:top2+height}),dom.classList.toggle("cm-tooltip-above",above),dom.classList.toggle("cm-tooltip-below",!above),tView.positioned&&tView.positioned(measured.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let tv of this.manager.tooltipViews)tv.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(elt2,value){let current=parseInt(elt2.style.left,10);(isNaN(current)||Math.abs(value-current)>1)&&(elt2.style.left=value+"px")}const baseTheme$3=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$3]});function getTooltip(view,tooltip){let plugin=view.plugin(tooltipPlugin);if(!plugin)return null;let found=plugin.manager.tooltips.indexOf(tooltip);return found<0?null:plugin.manager.tooltipViews[found]}const panelConfig=Facet.define({combine(configs){let topContainer,bottomContainer;for(let c2 of configs)topContainer=topContainer||c2.topContainer,bottomContainer=bottomContainer||c2.bottomContainer;return{topContainer,bottomContainer}}});function getPanel(view,panel){let plugin=view.plugin(panelPlugin),index2=plugin?plugin.specs.indexOf(panel):-1;return index2>-1?plugin.panels[index2]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(view){this.input=view.state.facet(showPanel),this.specs=this.input.filter(s2=>s2),this.panels=this.specs.map(spec=>spec(view));let conf=view.state.facet(panelConfig);this.top=new PanelGroup(view,!0,conf.topContainer),this.bottom=new PanelGroup(view,!1,conf.bottomContainer),this.top.sync(this.panels.filter(p2=>p2.top)),this.bottom.sync(this.panels.filter(p2=>!p2.top));for(let p2 of this.panels)p2.dom.classList.add("cm-panel"),p2.mount&&p2.mount()}update(update){let conf=update.state.facet(panelConfig);this.top.container!=conf.topContainer&&(this.top.sync([]),this.top=new PanelGroup(update.view,!0,conf.topContainer)),this.bottom.container!=conf.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(update.view,!1,conf.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let input=update.state.facet(showPanel);if(input!=this.input){let specs=input.filter(x2=>x2),panels=[],top2=[],bottom=[],mount=[];for(let spec of specs){let known=this.specs.indexOf(spec),panel;known<0?(panel=spec(update.view),mount.push(panel)):(panel=this.panels[known],panel.update&&panel.update(update)),panels.push(panel),(panel.top?top2:bottom).push(panel)}this.specs=specs,this.panels=panels,this.top.sync(top2),this.bottom.sync(bottom);for(let p2 of mount)p2.dom.classList.add("cm-panel"),p2.mount&&p2.mount()}else for(let p2 of this.panels)p2.update&&p2.update(update)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:plugin=>EditorView.scrollMargins.of(view=>{let value=view.plugin(plugin);return value&&{top:value.top.scrollMargin(),bottom:value.bottom.scrollMargin()}})});class PanelGroup{constructor(view,top2,container){this.view=view,this.top=top2,this.container=container,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(panels){for(let p2 of this.panels)p2.destroy&&panels.indexOf(p2)<0&&p2.destroy();this.panels=panels,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let parent=this.container||this.view.dom;parent.insertBefore(this.dom,this.top?parent.firstChild:null)}let curDOM=this.dom.firstChild;for(let panel of this.panels)if(panel.dom.parentNode==this.dom){for(;curDOM!=panel.dom;)curDOM=rm(curDOM);curDOM=curDOM.nextSibling}else this.dom.insertBefore(panel.dom,curDOM);for(;curDOM;)curDOM=rm(curDOM)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let cls of this.classes.split(" "))cls&&this.container.classList.remove(cls);for(let cls of(this.classes=this.view.themeClasses).split(" "))cls&&this.container.classList.add(cls)}}}function rm(node){let next=node.nextSibling;return node.remove(),next}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(other){return this==other||this.constructor==other.constructor&&this.eq(other)}eq(other){return!1}destroy(dom){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const DefaultBufferLength=1024;let nextPropID=0;class Range2{constructor(from,to){this.from=from,this.to=to}}class NodeProp{constructor(config2={}){this.id=nextPropID++,this.perNode=!!config2.perNode,this.deserialize=config2.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=config2.combine||null}add(match2){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof match2!="function"&&(match2=NodeType.match(match2)),type=>{let result=match2(type);return result===void 0?null:[this,result]}}}NodeProp.closedBy=new NodeProp({deserialize:str=>str.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:str=>str.split(" ")});NodeProp.group=new NodeProp({deserialize:str=>str.split(" ")});NodeProp.isolate=new NodeProp({deserialize:value=>{if(value&&value!="rtl"&&value!="ltr"&&value!="auto")throw new RangeError("Invalid value for isolate: "+value);return value||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(tree,overlay,parser2){this.tree=tree,this.overlay=overlay,this.parser=parser2}static get(tree){return tree&&tree.props&&tree.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(name2,props,id2,flags=0){this.name=name2,this.props=props,this.id=id2,this.flags=flags}static define(spec){let props=spec.props&&spec.props.length?Object.create(null):noProps,flags=(spec.top?1:0)|(spec.skipped?2:0)|(spec.error?4:0)|(spec.name==null?8:0),type=new NodeType(spec.name||"",props,spec.id,flags);if(spec.props){for(let src of spec.props)if(Array.isArray(src)||(src=src(type)),src){if(src[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");props[src[0].id]=src[1]}}return type}prop(prop){return this.props[prop.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(name2){if(typeof name2=="string"){if(this.name==name2)return!0;let group=this.prop(NodeProp.group);return group?group.indexOf(name2)>-1:!1}return this.id==name2}static match(map2){let direct=Object.create(null);for(let prop in map2)for(let name2 of prop.split(" "))direct[name2]=map2[prop];return node=>{for(let groups=node.prop(NodeProp.group),i=-1;i<(groups?groups.length:0);i++){let found=direct[i<0?node.name:groups[i]];if(found)return found}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(types2){this.types=types2;for(let i=0;i<types2.length;i++)if(types2[i].id!=i)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...props){let newTypes=[];for(let type of this.types){let newProps=null;for(let source of props){let add3=source(type);if(add3){newProps||(newProps=Object.assign({},type.props));let value=add3[1],prop=add3[0];prop.combine&&prop.id in newProps&&(value=prop.combine(newProps[prop.id],value)),newProps[prop.id]=value}}newTypes.push(newProps?new NodeType(type.name,newProps,type.id,type.flags):type)}return new NodeSet(newTypes)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(IterMode2){IterMode2[IterMode2.ExcludeBuffers=1]="ExcludeBuffers",IterMode2[IterMode2.IncludeAnonymous=2]="IncludeAnonymous",IterMode2[IterMode2.IgnoreMounts=4]="IgnoreMounts",IterMode2[IterMode2.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(type,children,positions,length,props){if(this.type=type,this.children=children,this.positions=positions,this.length=length,this.props=null,props&&props.length){this.props=Object.create(null);for(let[prop,value]of props)this.props[typeof prop=="number"?prop:prop.id]=value}}toString(){let mounted=MountedTree.get(this);if(mounted&&!mounted.overlay)return mounted.tree.toString();let children="";for(let ch of this.children){let str=ch.toString();str&&(children&&(children+=","),children+=str)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(children.length?"("+children+")":""):children}cursor(mode=0){return new TreeCursor(this.topNode,mode)}cursorAt(pos,side=0,mode=0){let scope=CachedNode.get(this)||this.topNode,cursor=new TreeCursor(scope);return cursor.moveTo(pos,side),CachedNode.set(this,cursor._tree),cursor}get topNode(){return new TreeNode(this,0,0,null)}resolve(pos,side=0){let node=resolveNode(CachedNode.get(this)||this.topNode,pos,side,!1);return CachedNode.set(this,node),node}resolveInner(pos,side=0){let node=resolveNode(CachedInnerNode.get(this)||this.topNode,pos,side,!0);return CachedInnerNode.set(this,node),node}resolveStack(pos,side=0){return stackIterator(this,pos,side)}iterate(spec){let{enter,leave,from=0,to=this.length}=spec,mode=spec.mode||0,anon=(mode&IterMode.IncludeAnonymous)>0;for(let c2=this.cursor(mode|IterMode.IncludeAnonymous);;){let entered=!1;if(c2.from<=to&&c2.to>=from&&(!anon&&c2.type.isAnonymous||enter(c2)!==!1)){if(c2.firstChild())continue;entered=!0}for(;entered&&leave&&(anon||!c2.type.isAnonymous)&&leave(c2),!c2.nextSibling();){if(!c2.parent())return;entered=!0}}}prop(prop){return prop.perNode?this.props?this.props[prop.id]:void 0:this.type.prop(prop)}get propValues(){let result=[];if(this.props)for(let id2 in this.props)result.push([+id2,this.props[id2]]);return result}balance(config2={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(children,positions,length)=>new Tree(this.type,children,positions,length,this.propValues),config2.makeTree||((children,positions,length)=>new Tree(NodeType.none,children,positions,length)))}static build(data2){return buildTree(data2)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(buffer,index2){this.buffer=buffer,this.index=index2}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(buffer,length,set2){this.buffer=buffer,this.length=length,this.set=set2}get type(){return NodeType.none}toString(){let result=[];for(let index2=0;index2<this.buffer.length;)result.push(this.childString(index2)),index2=this.buffer[index2+3];return result.join(",")}childString(index2){let id2=this.buffer[index2],endIndex=this.buffer[index2+3],type=this.set.types[id2],result=type.name;if(/\W/.test(result)&&!type.isError&&(result=JSON.stringify(result)),index2+=4,endIndex==index2)return result;let children=[];for(;index2<endIndex;)children.push(this.childString(index2)),index2=this.buffer[index2+3];return result+"("+children.join(",")+")"}findChild(startIndex,endIndex,dir,pos,side){let{buffer}=this,pick=-1;for(let i=startIndex;i!=endIndex&&!(checkSide(side,pos,buffer[i+1],buffer[i+2])&&(pick=i,dir>0));i=buffer[i+3]);return pick}slice(startI,endI,from){let b2=this.buffer,copy=new Uint16Array(endI-startI),len=0;for(let i=startI,j2=0;i<endI;){copy[j2++]=b2[i++],copy[j2++]=b2[i++]-from;let to=copy[j2++]=b2[i++]-from;copy[j2++]=b2[i++]-startI,len=Math.max(len,to)}return new TreeBuffer(copy,len,this.set)}}function checkSide(side,pos,from,to){switch(side){case-2:return from<pos;case-1:return to>=pos&&from<pos;case 0:return from<pos&&to>pos;case 1:return from<=pos&&to>pos;case 2:return to>pos;case 4:return!0}}function resolveNode(node,pos,side,overlays){for(var _a4;node.from==node.to||(side<1?node.from>=pos:node.from>pos)||(side>-1?node.to<=pos:node.to<pos);){let parent=!overlays&&node instanceof TreeNode&&node.index<0?null:node.parent;if(!parent)return node;node=parent}let mode=overlays?0:IterMode.IgnoreOverlays;if(overlays)for(let scan=node,parent=scan.parent;parent;scan=parent,parent=scan.parent)scan instanceof TreeNode&&scan.index<0&&((_a4=parent.enter(pos,side,mode))===null||_a4===void 0?void 0:_a4.from)!=scan.from&&(node=parent);for(;;){let inner=node.enter(pos,side,mode);if(!inner)return node;node=inner}}class BaseNode{cursor(mode=0){return new TreeCursor(this,mode)}getChild(type,before=null,after=null){let r2=getChildren(this,type,before,after);return r2.length?r2[0]:null}getChildren(type,before=null,after=null){return getChildren(this,type,before,after)}resolve(pos,side=0){return resolveNode(this,pos,side,!1)}resolveInner(pos,side=0){return resolveNode(this,pos,side,!0)}matchContext(context){return matchNodeContext(this.parent,context)}enterUnfinishedNodesBefore(pos){let scan=this.childBefore(pos),node=this;for(;scan;){let last=scan.lastChild;if(!last||last.to!=scan.to)break;last.type.isError&&last.from==last.to?(node=scan,scan=last.prevSibling):scan=last}return node}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(_tree,from,index2,_parent){super(),this._tree=_tree,this.from=from,this.index=index2,this._parent=_parent}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(i,dir,pos,side,mode=0){for(let parent=this;;){for(let{children,positions}=parent._tree,e2=dir>0?children.length:-1;i!=e2;i+=dir){let next=children[i],start=positions[i]+parent.from;if(checkSide(side,pos,start,start+next.length)){if(next instanceof TreeBuffer){if(mode&IterMode.ExcludeBuffers)continue;let index2=next.findChild(0,next.buffer.length,dir,pos-start,side);if(index2>-1)return new BufferNode(new BufferContext(parent,next,i,start),null,index2)}else if(mode&IterMode.IncludeAnonymous||!next.type.isAnonymous||hasChild(next)){let mounted;if(!(mode&IterMode.IgnoreMounts)&&(mounted=MountedTree.get(next))&&!mounted.overlay)return new TreeNode(mounted.tree,start,i,parent);let inner=new TreeNode(next,start,i,parent);return mode&IterMode.IncludeAnonymous||!inner.type.isAnonymous?inner:inner.nextChild(dir<0?next.children.length-1:0,dir,pos,side)}}}if(mode&IterMode.IncludeAnonymous||!parent.type.isAnonymous||(parent.index>=0?i=parent.index+dir:i=dir<0?-1:parent._parent._tree.children.length,parent=parent._parent,!parent))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(pos){return this.nextChild(0,1,pos,2)}childBefore(pos){return this.nextChild(this._tree.children.length-1,-1,pos,-2)}enter(pos,side,mode=0){let mounted;if(!(mode&IterMode.IgnoreOverlays)&&(mounted=MountedTree.get(this._tree))&&mounted.overlay){let rPos=pos-this.from;for(let{from,to}of mounted.overlay)if((side>0?from<=rPos:from<rPos)&&(side<0?to>=rPos:to>rPos))return new TreeNode(mounted.tree,mounted.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,pos,side,mode)}nextSignificantParent(){let val=this;for(;val.type.isAnonymous&&val._parent;)val=val._parent;return val}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(node,type,before,after){let cur2=node.cursor(),result=[];if(!cur2.firstChild())return result;if(before!=null){for(let found=!1;!found;)if(found=cur2.type.is(before),!cur2.nextSibling())return result}for(;;){if(after!=null&&cur2.type.is(after))return result;if(cur2.type.is(type)&&result.push(cur2.node),!cur2.nextSibling())return after==null?result:[]}}function matchNodeContext(node,context,i=context.length-1){for(let p2=node;i>=0;p2=p2.parent){if(!p2)return!1;if(!p2.type.isAnonymous){if(context[i]&&context[i]!=p2.name)return!1;i--}}return!0}class BufferContext{constructor(parent,buffer,index2,start){this.parent=parent,this.buffer=buffer,this.index=index2,this.start=start}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(context,_parent,index2){super(),this.context=context,this._parent=_parent,this.index=index2,this.type=context.buffer.set.types[context.buffer.buffer[index2]]}child(dir,pos,side){let{buffer}=this.context,index2=buffer.findChild(this.index+4,buffer.buffer[this.index+3],dir,pos-this.context.start,side);return index2<0?null:new BufferNode(this.context,this,index2)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(pos){return this.child(1,pos,2)}childBefore(pos){return this.child(-1,pos,-2)}enter(pos,side,mode=0){if(mode&IterMode.ExcludeBuffers)return null;let{buffer}=this.context,index2=buffer.findChild(this.index+4,buffer.buffer[this.index+3],side>0?1:-1,pos-this.context.start,side);return index2<0?null:new BufferNode(this.context,this,index2)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(dir){return this._parent?null:this.context.parent.nextChild(this.context.index+dir,dir,0,4)}get nextSibling(){let{buffer}=this.context,after=buffer.buffer[this.index+3];return after<(this._parent?buffer.buffer[this._parent.index+3]:buffer.buffer.length)?new BufferNode(this.context,this._parent,after):this.externalSibling(1)}get prevSibling(){let{buffer}=this.context,parentStart=this._parent?this._parent.index+4:0;return this.index==parentStart?this.externalSibling(-1):new BufferNode(this.context,this._parent,buffer.findChild(parentStart,this.index,-1,0,4))}get tree(){return null}toTree(){let children=[],positions=[],{buffer}=this.context,startI=this.index+4,endI=buffer.buffer[this.index+3];if(endI>startI){let from=buffer.buffer[this.index+1];children.push(buffer.slice(startI,endI,from)),positions.push(0)}return new Tree(this.type,children,positions,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(heads){if(!heads.length)return null;let pick=0,picked=heads[0];for(let i=1;i<heads.length;i++){let node=heads[i];(node.from>picked.from||node.to<picked.to)&&(picked=node,pick=i)}let next=picked instanceof TreeNode&&picked.index<0?null:picked.parent,newHeads=heads.slice();return next?newHeads[pick]=next:newHeads.splice(pick,1),new StackIterator(newHeads,picked)}class StackIterator{constructor(heads,node){this.heads=heads,this.node=node}get next(){return iterStack(this.heads)}}function stackIterator(tree,pos,side){let inner=tree.resolveInner(pos,side),layers=null;for(let scan=inner instanceof TreeNode?inner:inner.context.parent;scan;scan=scan.parent)if(scan.index<0){let parent=scan.parent;(layers||(layers=[inner])).push(parent.resolve(pos,side)),scan=parent}else{let mount=MountedTree.get(scan.tree);if(mount&&mount.overlay&&mount.overlay[0].from<=pos&&mount.overlay[mount.overlay.length-1].to>=pos){let root=new TreeNode(mount.tree,mount.overlay[0].from+scan.from,-1,scan);(layers||(layers=[inner])).push(resolveNode(root,pos,side,!1))}}return layers?iterStack(layers):inner}class TreeCursor{get name(){return this.type.name}constructor(node,mode=0){if(this.mode=mode,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,node instanceof TreeNode)this.yieldNode(node);else{this._tree=node.context.parent,this.buffer=node.context;for(let n2=node._parent;n2;n2=n2._parent)this.stack.unshift(n2.index);this.bufferNode=node,this.yieldBuf(node.index)}}yieldNode(node){return node?(this._tree=node,this.type=node.type,this.from=node.from,this.to=node.to,!0):!1}yieldBuf(index2,type){this.index=index2;let{start,buffer}=this.buffer;return this.type=type||buffer.set.types[buffer.buffer[index2]],this.from=start+buffer.buffer[index2+1],this.to=start+buffer.buffer[index2+2],!0}yield(node){return node?node instanceof TreeNode?(this.buffer=null,this.yieldNode(node)):(this.buffer=node.context,this.yieldBuf(node.index,node.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(dir,pos,side){if(!this.buffer)return this.yield(this._tree.nextChild(dir<0?this._tree._tree.children.length-1:0,dir,pos,side,this.mode));let{buffer}=this.buffer,index2=buffer.findChild(this.index+4,buffer.buffer[this.index+3],dir,pos-this.buffer.start,side);return index2<0?!1:(this.stack.push(this.index),this.yieldBuf(index2))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(pos){return this.enterChild(1,pos,2)}childBefore(pos){return this.enterChild(-1,pos,-2)}enter(pos,side,mode=this.mode){return this.buffer?mode&IterMode.ExcludeBuffers?!1:this.enterChild(1,pos,side):this.yield(this._tree.enter(pos,side,mode))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let parent=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(parent)}sibling(dir){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+dir,dir,0,4,this.mode)):!1;let{buffer}=this.buffer,d2=this.stack.length-1;if(dir<0){let parentStart=d2<0?0:this.stack[d2]+4;if(this.index!=parentStart)return this.yieldBuf(buffer.findChild(parentStart,this.index,-1,0,4))}else{let after=buffer.buffer[this.index+3];if(after<(d2<0?buffer.buffer.length:buffer.buffer[this.stack[d2]+3]))return this.yieldBuf(after)}return d2<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+dir,dir,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(dir){let index2,parent,{buffer}=this;if(buffer){if(dir>0){if(this.index<buffer.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(buffer.buffer.buffer[i+3]<this.index)return!1;({index:index2,parent}=buffer)}else({index:index2,_parent:parent}=this._tree);for(;parent;{index:index2,_parent:parent}=parent)if(index2>-1)for(let i=index2+dir,e2=dir<0?-1:parent._tree.children.length;i!=e2;i+=dir){let child=parent._tree.children[i];if(this.mode&IterMode.IncludeAnonymous||child instanceof TreeBuffer||!child.type.isAnonymous||hasChild(child))return!1}return!0}move(dir,enter){if(enter&&this.enterChild(dir,0,4))return!0;for(;;){if(this.sibling(dir))return!0;if(this.atLastNode(dir)||!this.parent())return!1}}next(enter=!0){return this.move(1,enter)}prev(enter=!0){return this.move(-1,enter)}moveTo(pos,side=0){for(;(this.from==this.to||(side<1?this.from>=pos:this.from>pos)||(side>-1?this.to<=pos:this.to<pos))&&this.parent(););for(;this.enterChild(1,pos,side););return this}get node(){if(!this.buffer)return this._tree;let cache2=this.bufferNode,result=null,depth=0;if(cache2&&cache2.context==this.buffer)scan:for(let index2=this.index,d2=this.stack.length;d2>=0;){for(let c2=cache2;c2;c2=c2._parent)if(c2.index==index2){if(index2==this.index)return c2;result=c2,depth=d2+1;break scan}index2=this.stack[--d2]}for(let i=depth;i<this.stack.length;i++)result=new BufferNode(this.buffer,result,this.stack[i]);return this.bufferNode=new BufferNode(this.buffer,result,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(enter,leave){for(let depth=0;;){let mustLeave=!1;if(this.type.isAnonymous||enter(this)!==!1){if(this.firstChild()){depth++;continue}this.type.isAnonymous||(mustLeave=!0)}for(;;){if(mustLeave&&leave&&leave(this),mustLeave=this.type.isAnonymous,!depth)return;if(this.nextSibling())break;this.parent(),depth--,mustLeave=!0}}}matchContext(context){if(!this.buffer)return matchNodeContext(this.node.parent,context);let{buffer}=this.buffer,{types:types2}=buffer.set;for(let i=context.length-1,d2=this.stack.length-1;i>=0;d2--){if(d2<0)return matchNodeContext(this._tree,context,i);let type=types2[buffer.buffer[this.stack[d2]]];if(!type.isAnonymous){if(context[i]&&context[i]!=type.name)return!1;i--}}return!0}}function hasChild(tree){return tree.children.some(ch=>ch instanceof TreeBuffer||!ch.type.isAnonymous||hasChild(ch))}function buildTree(data2){var _a4;let{buffer,nodeSet:nodeSet2,maxBufferLength=DefaultBufferLength,reused=[],minRepeatType=nodeSet2.types.length}=data2,cursor=Array.isArray(buffer)?new FlatBufferCursor(buffer,buffer.length):buffer,types2=nodeSet2.types,contextHash=0,lookAhead=0;function takeNode(parentStart,minPos,children2,positions2,inRepeat,depth){let{id:id2,start,end,size}=cursor,lookAheadAtStart=lookAhead,contextAtStart=contextHash;if(size<0)if(cursor.next(),size==-1){let node2=reused[id2];children2.push(node2),positions2.push(start-parentStart);return}else if(size==-3){contextHash=id2;return}else if(size==-4){lookAhead=id2;return}else throw new RangeError(`Unrecognized record size: ${size}`);let type=types2[id2],node,buffer2,startPos=start-parentStart;if(end-start<=maxBufferLength&&(buffer2=findBufferSize(cursor.pos-minPos,inRepeat))){let data3=new Uint16Array(buffer2.size-buffer2.skip),endPos=cursor.pos-buffer2.size,index2=data3.length;for(;cursor.pos>endPos;)index2=copyToBuffer(buffer2.start,data3,index2);node=new TreeBuffer(data3,end-buffer2.start,nodeSet2),startPos=buffer2.start-parentStart}else{let endPos=cursor.pos-size;cursor.next();let localChildren=[],localPositions=[],localInRepeat=id2>=minRepeatType?id2:-1,lastGroup=0,lastEnd=end;for(;cursor.pos>endPos;)localInRepeat>=0&&cursor.id==localInRepeat&&cursor.size>=0?(cursor.end<=lastEnd-maxBufferLength&&(makeRepeatLeaf(localChildren,localPositions,start,lastGroup,cursor.end,lastEnd,localInRepeat,lookAheadAtStart,contextAtStart),lastGroup=localChildren.length,lastEnd=cursor.end),cursor.next()):depth>2500?takeFlatNode(start,endPos,localChildren,localPositions):takeNode(start,endPos,localChildren,localPositions,localInRepeat,depth+1);if(localInRepeat>=0&&lastGroup>0&&lastGroup<localChildren.length&&makeRepeatLeaf(localChildren,localPositions,start,lastGroup,start,lastEnd,localInRepeat,lookAheadAtStart,contextAtStart),localChildren.reverse(),localPositions.reverse(),localInRepeat>-1&&lastGroup>0){let make=makeBalanced(type,contextAtStart);node=balanceRange(type,localChildren,localPositions,0,localChildren.length,0,end-start,make,make)}else node=makeTree(type,localChildren,localPositions,end-start,lookAheadAtStart-end,contextAtStart)}children2.push(node),positions2.push(startPos)}function takeFlatNode(parentStart,minPos,children2,positions2){let nodes=[],nodeCount=0,stopAt=-1;for(;cursor.pos>minPos;){let{id:id2,start,end,size}=cursor;if(size>4)cursor.next();else{if(stopAt>-1&&start<stopAt)break;stopAt<0&&(stopAt=end-maxBufferLength),nodes.push(id2,start,end),nodeCount++,cursor.next()}}if(nodeCount){let buffer2=new Uint16Array(nodeCount*4),start=nodes[nodes.length-2];for(let i=nodes.length-3,j2=0;i>=0;i-=3)buffer2[j2++]=nodes[i],buffer2[j2++]=nodes[i+1]-start,buffer2[j2++]=nodes[i+2]-start,buffer2[j2++]=j2;children2.push(new TreeBuffer(buffer2,nodes[2]-start,nodeSet2)),positions2.push(start-parentStart)}}function makeBalanced(type,contextHash2){return(children2,positions2,length2)=>{let lookAhead2=0,lastI=children2.length-1,last,lookAheadProp;if(lastI>=0&&(last=children2[lastI])instanceof Tree){if(!lastI&&last.type==type&&last.length==length2)return last;(lookAheadProp=last.prop(NodeProp.lookAhead))&&(lookAhead2=positions2[lastI]+last.length+lookAheadProp)}return makeTree(type,children2,positions2,length2,lookAhead2,contextHash2)}}function makeRepeatLeaf(children2,positions2,base2,i,from,to,type,lookAhead2,contextHash2){let localChildren=[],localPositions=[];for(;children2.length>i;)localChildren.push(children2.pop()),localPositions.push(positions2.pop()+base2-from);children2.push(makeTree(nodeSet2.types[type],localChildren,localPositions,to-from,lookAhead2-to,contextHash2)),positions2.push(from-base2)}function makeTree(type,children2,positions2,length2,lookAhead2,contextHash2,props){if(contextHash2){let pair2=[NodeProp.contextHash,contextHash2];props=props?[pair2].concat(props):[pair2]}if(lookAhead2>25){let pair2=[NodeProp.lookAhead,lookAhead2];props=props?[pair2].concat(props):[pair2]}return new Tree(type,children2,positions2,length2,props)}function findBufferSize(maxSize,inRepeat){let fork=cursor.fork(),size=0,start=0,skip=0,minStart=fork.end-maxBufferLength,result={size:0,start:0,skip:0};scan:for(let minPos=fork.pos-maxSize;fork.pos>minPos;){let nodeSize2=fork.size;if(fork.id==inRepeat&&nodeSize2>=0){result.size=size,result.start=start,result.skip=skip,skip+=4,size+=4,fork.next();continue}let startPos=fork.pos-nodeSize2;if(nodeSize2<0||startPos<minPos||fork.start<minStart)break;let localSkipped=fork.id>=minRepeatType?4:0,nodeStart=fork.start;for(fork.next();fork.pos>startPos;){if(fork.size<0)if(fork.size==-3)localSkipped+=4;else break scan;else fork.id>=minRepeatType&&(localSkipped+=4);fork.next()}start=nodeStart,size+=nodeSize2,skip+=localSkipped}return(inRepeat<0||size==maxSize)&&(result.size=size,result.start=start,result.skip=skip),result.size>4?result:void 0}function copyToBuffer(bufferStart,buffer2,index2){let{id:id2,start,end,size}=cursor;if(cursor.next(),size>=0&&id2<minRepeatType){let startIndex=index2;if(size>4){let endPos=cursor.pos-(size-4);for(;cursor.pos>endPos;)index2=copyToBuffer(bufferStart,buffer2,index2)}buffer2[--index2]=startIndex,buffer2[--index2]=end-bufferStart,buffer2[--index2]=start-bufferStart,buffer2[--index2]=id2}else size==-3?contextHash=id2:size==-4&&(lookAhead=id2);return index2}let children=[],positions=[];for(;cursor.pos>0;)takeNode(data2.start||0,data2.bufferStart||0,children,positions,-1,0);let length=(_a4=data2.length)!==null&&_a4!==void 0?_a4:children.length?positions[0]+children[0].length:0;return new Tree(types2[data2.topID],children.reverse(),positions.reverse(),length)}const nodeSizeCache=new WeakMap;function nodeSize(balanceType,node){if(!balanceType.isAnonymous||node instanceof TreeBuffer||node.type!=balanceType)return 1;let size=nodeSizeCache.get(node);if(size==null){size=1;for(let child of node.children){if(child.type!=balanceType||!(child instanceof Tree)){size=1;break}size+=nodeSize(balanceType,child)}nodeSizeCache.set(node,size)}return size}function balanceRange(balanceType,children,positions,from,to,start,length,mkTop,mkTree){let total=0;for(let i=from;i<to;i++)total+=nodeSize(balanceType,children[i]);let maxChild=Math.ceil(total*1.5/8),localChildren=[],localPositions=[];function divide(children2,positions2,from2,to2,offset){for(let i=from2;i<to2;){let groupFrom=i,groupStart=positions2[i],groupSize=nodeSize(balanceType,children2[i]);for(i++;i<to2;i++){let nextSize=nodeSize(balanceType,children2[i]);if(groupSize+nextSize>=maxChild)break;groupSize+=nextSize}if(i==groupFrom+1){if(groupSize>maxChild){let only=children2[groupFrom];divide(only.children,only.positions,0,only.children.length,positions2[groupFrom]+offset);continue}localChildren.push(children2[groupFrom])}else{let length2=positions2[i-1]+children2[i-1].length-groupStart;localChildren.push(balanceRange(balanceType,children2,positions2,groupFrom,i,groupStart,length2,null,mkTree))}localPositions.push(groupStart+offset-start)}}return divide(children,positions,from,to,0),(mkTop||mkTree)(localChildren,localPositions,length)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(buffer,index2,value){let inner=this.map.get(buffer);inner||this.map.set(buffer,inner=new Map),inner.set(index2,value)}getBuffer(buffer,index2){let inner=this.map.get(buffer);return inner&&inner.get(index2)}set(node,value){node instanceof BufferNode?this.setBuffer(node.context.buffer,node.index,value):node instanceof TreeNode&&this.map.set(node.tree,value)}get(node){return node instanceof BufferNode?this.getBuffer(node.context.buffer,node.index):node instanceof TreeNode?this.map.get(node.tree):void 0}cursorSet(cursor,value){cursor.buffer?this.setBuffer(cursor.buffer.buffer,cursor.index,value):this.map.set(cursor.tree,value)}cursorGet(cursor){return cursor.buffer?this.getBuffer(cursor.buffer.buffer,cursor.index):this.map.get(cursor.tree)}}class TreeFragment{constructor(from,to,tree,offset,openStart=!1,openEnd=!1){this.from=from,this.to=to,this.tree=tree,this.offset=offset,this.open=(openStart?1:0)|(openEnd?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(tree,fragments=[],partial=!1){let result=[new TreeFragment(0,tree.length,tree,0,!1,partial)];for(let f2 of fragments)f2.to>tree.length&&result.push(f2);return result}static applyChanges(fragments,changes,minGap=128){if(!changes.length)return fragments;let result=[],fI=1,nextF=fragments.length?fragments[0]:null;for(let cI=0,pos=0,off=0;;cI++){let nextC=cI<changes.length?changes[cI]:null,nextPos=nextC?nextC.fromA:1e9;if(nextPos-pos>=minGap)for(;nextF&&nextF.from<nextPos;){let cut=nextF;if(pos>=cut.from||nextPos<=cut.to||off){let fFrom=Math.max(cut.from,pos)-off,fTo=Math.min(cut.to,nextPos)-off;cut=fFrom>=fTo?null:new TreeFragment(fFrom,fTo,cut.tree,cut.offset+off,cI>0,!!nextC)}if(cut&&result.push(cut),nextF.to>nextPos)break;nextF=fI<fragments.length?fragments[fI++]:null}if(!nextC)break;pos=nextC.toA,off=nextC.toA-nextC.toB}return result}}class Parser{startParse(input,fragments,ranges){return typeof input=="string"&&(input=new StringInput(input)),ranges=ranges?ranges.length?ranges.map(r2=>new Range2(r2.from,r2.to)):[new Range2(0,0)]:[new Range2(0,input.length)],this.createParse(input,fragments||[],ranges)}parse(input,fragments,ranges){let parse=this.startParse(input,fragments,ranges);for(;;){let done=parse.advance();if(done)return done}}}class StringInput{constructor(string2){this.string=string2}get length(){return this.string.length}chunk(from){return this.string.slice(from)}get lineChunks(){return!1}read(from,to){return this.string.slice(from,to)}}function parseMixed(nest){return(parse,input,fragments,ranges)=>new MixedParse(parse,nest,input,fragments,ranges)}class InnerParse{constructor(parser2,parse,overlay,target,from){this.parser=parser2,this.parse=parse,this.overlay=overlay,this.target=target,this.from=from}}function checkRanges(ranges){if(!ranges.length||ranges.some(r2=>r2.from>=r2.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(ranges))}class ActiveOverlay{constructor(parser2,predicate,mounts,index2,start,target,prev){this.parser=parser2,this.predicate=predicate,this.mounts=mounts,this.index=index2,this.start=start,this.target=target,this.prev=prev,this.depth=0,this.ranges=[]}}const stoppedInner=new NodeProp({perNode:!0});class MixedParse{constructor(base2,nest,input,fragments,ranges){this.nest=nest,this.input=input,this.fragments=fragments,this.ranges=ranges,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=base2}advance(){if(this.baseParse){let done2=this.baseParse.advance();if(!done2)return null;if(this.baseParse=null,this.baseTree=done2,this.startInner(),this.stoppedAt!=null)for(let inner2 of this.inner)inner2.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let result=this.baseTree;return this.stoppedAt!=null&&(result=new Tree(result.type,result.children,result.positions,result.length,result.propValues.concat([[stoppedInner,this.stoppedAt]]))),result}let inner=this.inner[this.innerDone],done=inner.parse.advance();if(done){this.innerDone++;let props=Object.assign(Object.create(null),inner.target.props);props[NodeProp.mounted.id]=new MountedTree(done,inner.overlay,inner.parser),inner.target.props=props}return null}get parsedPos(){if(this.baseParse)return 0;let pos=this.input.length;for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].from<pos&&(pos=Math.min(pos,this.inner[i].parse.parsedPos));return pos}stopAt(pos){if(this.stoppedAt=pos,this.baseParse)this.baseParse.stopAt(pos);else for(let i=this.innerDone;i<this.inner.length;i++)this.inner[i].parse.stopAt(pos)}startInner(){let fragmentCursor=new FragmentCursor$2(this.fragments),overlay=null,covered=null,cursor=new TreeCursor(new TreeNode(this.baseTree,this.ranges[0].from,0,null),IterMode.IncludeAnonymous|IterMode.IgnoreMounts);scan:for(let nest,isCovered;;){let enter=!0,range;if(this.stoppedAt!=null&&cursor.from>=this.stoppedAt)enter=!1;else if(fragmentCursor.hasNode(cursor)){if(overlay){let match2=overlay.mounts.find(m2=>m2.frag.from<=cursor.from&&m2.frag.to>=cursor.to&&m2.mount.overlay);if(match2)for(let r2 of match2.mount.overlay){let from=r2.from+match2.pos,to=r2.to+match2.pos;from>=cursor.from&&to<=cursor.to&&!overlay.ranges.some(r3=>r3.from<to&&r3.to>from)&&overlay.ranges.push({from,to})}}enter=!1}else if(covered&&(isCovered=checkCover(covered.ranges,cursor.from,cursor.to)))enter=isCovered!=2;else if(!cursor.type.isAnonymous&&(nest=this.nest(cursor,this.input))&&(cursor.from<cursor.to||!nest.overlay)){cursor.tree||(materialize(cursor),overlay&&overlay.depth++,covered&&covered.depth++);let oldMounts=fragmentCursor.findMounts(cursor.from,nest.parser);if(typeof nest.overlay=="function")overlay=new ActiveOverlay(nest.parser,nest.overlay,oldMounts,this.inner.length,cursor.from,cursor.tree,overlay);else{let ranges=punchRanges(this.ranges,nest.overlay||(cursor.from<cursor.to?[new Range2(cursor.from,cursor.to)]:[]));ranges.length&&checkRanges(ranges),(ranges.length||!nest.overlay)&&this.inner.push(new InnerParse(nest.parser,ranges.length?nest.parser.startParse(this.input,enterFragments(oldMounts,ranges),ranges):nest.parser.startParse(""),nest.overlay?nest.overlay.map(r2=>new Range2(r2.from-cursor.from,r2.to-cursor.from)):null,cursor.tree,ranges.length?ranges[0].from:cursor.from)),nest.overlay?ranges.length&&(covered={ranges,depth:0,prev:covered}):enter=!1}}else if(overlay&&(range=overlay.predicate(cursor))&&(range===!0&&(range=new Range2(cursor.from,cursor.to)),range.from<range.to)){let last=overlay.ranges.length-1;last>=0&&overlay.ranges[last].to==range.from?overlay.ranges[last]={from:overlay.ranges[last].from,to:range.to}:overlay.ranges.push(range)}if(enter&&cursor.firstChild())overlay&&overlay.depth++,covered&&covered.depth++;else for(;!cursor.nextSibling();){if(!cursor.parent())break scan;if(overlay&&!--overlay.depth){let ranges=punchRanges(this.ranges,overlay.ranges);ranges.length&&(checkRanges(ranges),this.inner.splice(overlay.index,0,new InnerParse(overlay.parser,overlay.parser.startParse(this.input,enterFragments(overlay.mounts,ranges),ranges),overlay.ranges.map(r2=>new Range2(r2.from-overlay.start,r2.to-overlay.start)),overlay.target,ranges[0].from))),overlay=overlay.prev}covered&&!--covered.depth&&(covered=covered.prev)}}}}function checkCover(covered,from,to){for(let range of covered){if(range.from>=to)break;if(range.to>from)return range.from<=from&&range.to>=to?2:1}return 0}function sliceBuf(buf,startI,endI,nodes,positions,off){if(startI<endI){let from=buf.buffer[startI+1];nodes.push(buf.slice(startI,endI,from)),positions.push(from-off)}}function materialize(cursor){let{node}=cursor,stack=[],buffer=node.context.buffer;do stack.push(cursor.index),cursor.parent();while(!cursor.tree);let base2=cursor.tree,i=base2.children.indexOf(buffer),buf=base2.children[i],b2=buf.buffer,newStack=[i];function split(startI,endI,type,innerOffset,length,stackPos){let targetI=stack[stackPos],children=[],positions=[];sliceBuf(buf,startI,targetI,children,positions,innerOffset);let from=b2[targetI+1],to=b2[targetI+2];newStack.push(children.length);let child=stackPos?split(targetI+4,b2[targetI+3],buf.set.types[b2[targetI]],from,to-from,stackPos-1):node.toTree();return children.push(child),positions.push(from-innerOffset),sliceBuf(buf,b2[targetI+3],endI,children,positions,innerOffset),new Tree(type,children,positions,length)}base2.children[i]=split(0,b2.length,NodeType.none,0,buf.length,stack.length-1);for(let index2 of newStack){let tree=cursor.tree.children[index2],pos=cursor.tree.positions[index2];cursor.yield(new TreeNode(tree,pos+cursor.from,index2,cursor._tree))}}class StructureCursor{constructor(root,offset){this.offset=offset,this.done=!1,this.cursor=root.cursor(IterMode.IncludeAnonymous|IterMode.IgnoreMounts)}moveTo(pos){let{cursor}=this,p2=pos-this.offset;for(;!this.done&&cursor.from<p2;)cursor.to>=pos&&cursor.enter(p2,1,IterMode.IgnoreOverlays|IterMode.ExcludeBuffers)||cursor.next(!1)||(this.done=!0)}hasNode(cursor){if(this.moveTo(cursor.from),!this.done&&this.cursor.from+this.offset==cursor.from&&this.cursor.tree)for(let tree=this.cursor.tree;;){if(tree==cursor.tree)return!0;if(tree.children.length&&tree.positions[0]==0&&tree.children[0]instanceof Tree)tree=tree.children[0];else break}return!1}}let FragmentCursor$2=class{constructor(fragments){var _a4;if(this.fragments=fragments,this.curTo=0,this.fragI=0,fragments.length){let first=this.curFrag=fragments[0];this.curTo=(_a4=first.tree.prop(stoppedInner))!==null&&_a4!==void 0?_a4:first.to,this.inner=new StructureCursor(first.tree,-first.offset)}else this.curFrag=this.inner=null}hasNode(node){for(;this.curFrag&&node.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=node.from&&this.curTo>=node.to&&this.inner.hasNode(node)}nextFrag(){var _a4;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let frag=this.curFrag=this.fragments[this.fragI];this.curTo=(_a4=frag.tree.prop(stoppedInner))!==null&&_a4!==void 0?_a4:frag.to,this.inner=new StructureCursor(frag.tree,-frag.offset)}}findMounts(pos,parser2){var _a4;let result=[];if(this.inner){this.inner.cursor.moveTo(pos,1);for(let pos2=this.inner.cursor.node;pos2;pos2=pos2.parent){let mount=(_a4=pos2.tree)===null||_a4===void 0?void 0:_a4.prop(NodeProp.mounted);if(mount&&mount.parser==parser2)for(let i=this.fragI;i<this.fragments.length;i++){let frag=this.fragments[i];if(frag.from>=pos2.to)break;frag.tree==this.curFrag.tree&&result.push({frag,pos:pos2.from-frag.offset,mount})}}}return result}};function punchRanges(outer,ranges){let copy=null,current=ranges;for(let i=1,j2=0;i<outer.length;i++){let gapFrom=outer[i-1].to,gapTo=outer[i].from;for(;j2<current.length;j2++){let r2=current[j2];if(r2.from>=gapTo)break;r2.to<=gapFrom||(copy||(current=copy=ranges.slice()),r2.from<gapFrom?(copy[j2]=new Range2(r2.from,gapFrom),r2.to>gapTo&&copy.splice(j2+1,0,new Range2(gapTo,r2.to))):r2.to>gapTo?copy[j2--]=new Range2(gapTo,r2.to):copy.splice(j2--,1))}}return current}function findCoverChanges(a2,b2,from,to){let iA=0,iB=0,inA=!1,inB=!1,pos=-1e9,result=[];for(;;){let nextA=iA==a2.length?1e9:inA?a2[iA].to:a2[iA].from,nextB=iB==b2.length?1e9:inB?b2[iB].to:b2[iB].from;if(inA!=inB){let start=Math.max(pos,from),end=Math.min(nextA,nextB,to);start<end&&result.push(new Range2(start,end))}if(pos=Math.min(nextA,nextB),pos==1e9)break;nextA==pos&&(inA?(inA=!1,iA++):inA=!0),nextB==pos&&(inB?(inB=!1,iB++):inB=!0)}return result}function enterFragments(mounts,ranges){let result=[];for(let{pos,mount,frag}of mounts){let startPos=pos+(mount.overlay?mount.overlay[0].from:0),endPos=startPos+mount.tree.length,from=Math.max(frag.from,startPos),to=Math.min(frag.to,endPos);if(mount.overlay){let overlay=mount.overlay.map(r2=>new Range2(r2.from+pos,r2.to+pos)),changes=findCoverChanges(ranges,overlay,from,to);for(let i=0,pos2=from;;i++){let last=i==changes.length,end=last?to:changes[i].from;if(end>pos2&&result.push(new TreeFragment(pos2,end,mount.tree,-startPos,frag.from>=pos2||frag.openStart,frag.to<=end||frag.openEnd)),last)break;pos2=changes[i].to}}else result.push(new TreeFragment(from,to,mount.tree,-startPos,frag.from>=startPos||frag.openStart,frag.to<=endPos||frag.openEnd))}return result}let nextTagID=0;class Tag{constructor(name2,set2,base2,modified){this.name=name2,this.set=set2,this.base=base2,this.modified=modified,this.id=nextTagID++}toString(){let{name:name2}=this;for(let mod of this.modified)mod.name&&(name2=`${mod.name}(${name2})`);return name2}static define(nameOrParent,parent){let name2=typeof nameOrParent=="string"?nameOrParent:"?";if(nameOrParent instanceof Tag&&(parent=nameOrParent),parent?.base)throw new Error("Can not derive from a modified tag");let tag=new Tag(name2,[],null,[]);if(tag.set.push(tag),parent)for(let t2 of parent.set)tag.set.push(t2);return tag}static defineModifier(name2){let mod=new Modifier(name2);return tag=>tag.modified.indexOf(mod)>-1?tag:Modifier.get(tag.base||tag,tag.modified.concat(mod).sort((a2,b2)=>a2.id-b2.id))}}let nextModifierID=0;class Modifier{constructor(name2){this.name=name2,this.instances=[],this.id=nextModifierID++}static get(base2,mods){if(!mods.length)return base2;let exists=mods[0].instances.find(t2=>t2.base==base2&&sameArray(mods,t2.modified));if(exists)return exists;let set2=[],tag=new Tag(base2.name,set2,base2,mods);for(let m2 of mods)m2.instances.push(tag);let configs=powerSet(mods);for(let parent of base2.set)if(!parent.modified.length)for(let config2 of configs)set2.push(Modifier.get(parent,config2));return tag}}function sameArray(a2,b2){return a2.length==b2.length&&a2.every((x2,i)=>x2==b2[i])}function powerSet(array){let sets=[[]];for(let i=0;i<array.length;i++)for(let j2=0,e2=sets.length;j2<e2;j2++)sets.push(sets[j2].concat(array[i]));return sets.sort((a2,b2)=>b2.length-a2.length)}function styleTags(spec){let byName=Object.create(null);for(let prop in spec){let tags2=spec[prop];Array.isArray(tags2)||(tags2=[tags2]);for(let part of prop.split(" "))if(part){let pieces=[],mode=2,rest=part;for(let pos=0;;){if(rest=="..."&&pos>0&&pos+3==part.length){mode=1;break}let m2=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(rest);if(!m2)throw new RangeError("Invalid path: "+part);if(pieces.push(m2[0]=="*"?"":m2[0][0]=='"'?JSON.parse(m2[0]):m2[0]),pos+=m2[0].length,pos==part.length)break;let next=part[pos++];if(pos==part.length&&next=="!"){mode=0;break}if(next!="/")throw new RangeError("Invalid path: "+part);rest=part.slice(pos)}let last=pieces.length-1,inner=pieces[last];if(!inner)throw new RangeError("Invalid path: "+part);let rule=new Rule(tags2,mode,last>0?pieces.slice(0,last):null);byName[inner]=rule.sort(byName[inner])}}return ruleNodeProp.add(byName)}const ruleNodeProp=new NodeProp({combine(a2,b2){let cur2,root,take;for(;a2||b2;){if(!a2||b2&&a2.depth>=b2.depth?(take=b2,b2=b2.next):(take=a2,a2=a2.next),cur2&&cur2.mode==take.mode&&!take.context&&!cur2.context)continue;let copy=new Rule(take.tags,take.mode,take.context);cur2?cur2.next=copy:root=copy,cur2=copy}return root}});class Rule{constructor(tags2,mode,context,next){this.tags=tags2,this.mode=mode,this.context=context,this.next=next}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(other){return!other||other.depth<this.depth?(this.next=other,this):(other.next=this.sort(other.next),other)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(tags2,options){let map2=Object.create(null);for(let style of tags2)if(!Array.isArray(style.tag))map2[style.tag.id]=style.class;else for(let tag of style.tag)map2[tag.id]=style.class;let{scope,all=null}=options||{};return{style:tags3=>{let cls=all;for(let tag of tags3)for(let sub of tag.set){let tagClass=map2[sub.id];if(tagClass){cls=cls?cls+" "+tagClass:tagClass;break}}return cls},scope}}function highlightTags(highlighters,tags2){let result=null;for(let highlighter of highlighters){let value=highlighter.style(tags2);value&&(result=result?result+" "+value:value)}return result}function highlightTree(tree,highlighter,putStyle,from=0,to=tree.length){let builder=new HighlightBuilder(from,Array.isArray(highlighter)?highlighter:[highlighter],putStyle);builder.highlightRange(tree.cursor(),from,to,"",builder.highlighters),builder.flush(to)}class HighlightBuilder{constructor(at2,highlighters,span){this.at=at2,this.highlighters=highlighters,this.span=span,this.class=""}startSpan(at2,cls){cls!=this.class&&(this.flush(at2),at2>this.at&&(this.at=at2),this.class=cls)}flush(to){to>this.at&&this.class&&this.span(this.at,to,this.class)}highlightRange(cursor,from,to,inheritedClass,highlighters){let{type,from:start,to:end}=cursor;if(start>=to||end<=from)return;type.isTop&&(highlighters=this.highlighters.filter(h2=>!h2.scope||h2.scope(type)));let cls=inheritedClass,rule=getStyleTags(cursor)||Rule.empty,tagCls=highlightTags(highlighters,rule.tags);if(tagCls&&(cls&&(cls+=" "),cls+=tagCls,rule.mode==1&&(inheritedClass+=(inheritedClass?" ":"")+tagCls)),this.startSpan(Math.max(from,start),cls),rule.opaque)return;let mounted=cursor.tree&&cursor.tree.prop(NodeProp.mounted);if(mounted&&mounted.overlay){let inner=cursor.node.enter(mounted.overlay[0].from+start,1),innerHighlighters=this.highlighters.filter(h2=>!h2.scope||h2.scope(mounted.tree.type)),hasChild2=cursor.firstChild();for(let i=0,pos=start;;i++){let next=i<mounted.overlay.length?mounted.overlay[i]:null,nextPos=next?next.from+start:end,rangeFrom2=Math.max(from,pos),rangeTo2=Math.min(to,nextPos);if(rangeFrom2<rangeTo2&&hasChild2)for(;cursor.from<rangeTo2&&(this.highlightRange(cursor,rangeFrom2,rangeTo2,inheritedClass,highlighters),this.startSpan(Math.min(rangeTo2,cursor.to),cls),!(cursor.to>=nextPos||!cursor.nextSibling())););if(!next||nextPos>to)break;pos=next.to+start,pos>from&&(this.highlightRange(inner.cursor(),Math.max(from,next.from+start),Math.min(to,pos),"",innerHighlighters),this.startSpan(Math.min(to,pos),cls))}hasChild2&&cursor.parent()}else if(cursor.firstChild()){mounted&&(inheritedClass="");do if(!(cursor.to<=from)){if(cursor.from>=to)break;this.highlightRange(cursor,from,to,inheritedClass,highlighters),this.startSpan(Math.min(to,cursor.to),cls)}while(cursor.nextSibling());cursor.parent()}}}function getStyleTags(node){let rule=node.type.prop(ruleNodeProp);for(;rule&&rule.context&&!node.matchContext(rule.context);)rule=rule.next;return rule||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags$1={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let name2 in tags$1){let val=tags$1[name2];val instanceof Tag&&(val.name=name2)}tagHighlighter([{tag:tags$1.link,class:"tok-link"},{tag:tags$1.heading,class:"tok-heading"},{tag:tags$1.emphasis,class:"tok-emphasis"},{tag:tags$1.strong,class:"tok-strong"},{tag:tags$1.keyword,class:"tok-keyword"},{tag:tags$1.atom,class:"tok-atom"},{tag:tags$1.bool,class:"tok-bool"},{tag:tags$1.url,class:"tok-url"},{tag:tags$1.labelName,class:"tok-labelName"},{tag:tags$1.inserted,class:"tok-inserted"},{tag:tags$1.deleted,class:"tok-deleted"},{tag:tags$1.literal,class:"tok-literal"},{tag:tags$1.string,class:"tok-string"},{tag:tags$1.number,class:"tok-number"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],class:"tok-string2"},{tag:tags$1.variableName,class:"tok-variableName"},{tag:tags$1.local(tags$1.variableName),class:"tok-variableName tok-local"},{tag:tags$1.definition(tags$1.variableName),class:"tok-variableName tok-definition"},{tag:tags$1.special(tags$1.variableName),class:"tok-variableName2"},{tag:tags$1.definition(tags$1.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$1.typeName,class:"tok-typeName"},{tag:tags$1.namespace,class:"tok-namespace"},{tag:tags$1.className,class:"tok-className"},{tag:tags$1.macroName,class:"tok-macroName"},{tag:tags$1.propertyName,class:"tok-propertyName"},{tag:tags$1.operator,class:"tok-operator"},{tag:tags$1.comment,class:"tok-comment"},{tag:tags$1.meta,class:"tok-meta"},{tag:tags$1.invalid,class:"tok-invalid"},{tag:tags$1.punctuation,class:"tok-punctuation"}]);var _a3;const languageDataProp=new NodeProp;function defineLanguageFacet(baseData){return Facet.define({combine:baseData?values2=>values2.concat(baseData):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(data2,parser2,extraExtensions=[],name2=""){this.data=data2,this.name=name2,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=parser2,this.extension=[language.of(this),EditorState.languageData.of((state,pos,side)=>{let top2=topNodeAt(state,pos,side),data3=top2.type.prop(languageDataProp);if(!data3)return[];let base2=state.facet(data3),sub=top2.type.prop(sublanguageProp);if(sub){let innerNode=top2.resolve(pos-top2.from,side);for(let sublang of sub)if(sublang.test(innerNode,state)){let data4=state.facet(sublang.facet);return sublang.type=="replace"?data4:data4.concat(base2)}}return base2})].concat(extraExtensions)}isActiveAt(state,pos,side=-1){return topNodeAt(state,pos,side).type.prop(languageDataProp)==this.data}findRegions(state){let lang=state.facet(language);if(lang?.data==this.data)return[{from:0,to:state.doc.length}];if(!lang||!lang.allowsNesting)return[];let result=[],explore=(tree,from)=>{if(tree.prop(languageDataProp)==this.data){result.push({from,to:from+tree.length});return}let mount=tree.prop(NodeProp.mounted);if(mount){if(mount.tree.prop(languageDataProp)==this.data){if(mount.overlay)for(let r2 of mount.overlay)result.push({from:r2.from+from,to:r2.to+from});else result.push({from,to:from+tree.length});return}else if(mount.overlay){let size=result.length;if(explore(mount.tree,mount.overlay[0].from+from),result.length>size)return}}for(let i=0;i<tree.children.length;i++){let ch=tree.children[i];ch instanceof Tree&&explore(ch,tree.positions[i]+from)}};return explore(syntaxTree(state),0),result}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(state,pos,side){let topLang=state.facet(language),tree=syntaxTree(state).topNode;if(!topLang||topLang.allowsNesting)for(let node=tree;node;node=node.enter(pos,side,IterMode.ExcludeBuffers))node.type.isTop&&(tree=node);return tree}class LRLanguage extends Language{constructor(data2,parser2,name2){super(data2,parser2,[],name2),this.parser=parser2}static define(spec){let data2=defineLanguageFacet(spec.languageData);return new LRLanguage(data2,spec.parser.configure({props:[languageDataProp.add(type=>type.isTop?data2:void 0)]}),spec.name)}configure(options,name2){return new LRLanguage(this.data,this.parser.configure(options),name2||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(state){let field=state.field(Language.state,!1);return field?field.tree:Tree.empty}class DocInput{constructor(doc2){this.doc=doc2,this.cursorPos=0,this.string="",this.cursor=doc2.iter()}get length(){return this.doc.length}syncTo(pos){return this.string=this.cursor.next(pos-this.cursorPos).value,this.cursorPos=pos+this.string.length,this.cursorPos-this.string.length}chunk(pos){return this.syncTo(pos),this.string}get lineChunks(){return!0}read(from,to){let stringStart=this.cursorPos-this.string.length;return from<stringStart||to>=this.cursorPos?this.doc.sliceString(from,to):this.string.slice(from-stringStart,to-stringStart)}}let currentContext=null;class ParseContext{constructor(parser2,state,fragments=[],tree,treeLen,viewport,skipped,scheduleOn){this.parser=parser2,this.state=state,this.fragments=fragments,this.tree=tree,this.treeLen=treeLen,this.viewport=viewport,this.skipped=skipped,this.scheduleOn=scheduleOn,this.parse=null,this.tempSkipped=[]}static create(parser2,state,viewport){return new ParseContext(parser2,state,[],Tree.empty,0,viewport,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(until,upto){return upto!=null&&upto>=this.state.doc.length&&(upto=void 0),this.tree!=Tree.empty&&this.isDone(upto??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var _a4;if(typeof until=="number"){let endTime=Date.now()+until;until=()=>Date.now()>endTime}for(this.parse||(this.parse=this.startParse()),upto!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>upto)&&upto<this.state.doc.length&&this.parse.stopAt(upto);;){let done=this.parse.advance();if(done)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(done,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(_a4=this.parse.stoppedAt)!==null&&_a4!==void 0?_a4:this.state.doc.length,this.tree=done,this.parse=null,this.treeLen<(upto??this.state.doc.length))this.parse=this.startParse();else return!0;if(until())return!1}})}takeTree(){let pos,tree;this.parse&&(pos=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>pos)&&this.parse.stopAt(pos),this.withContext(()=>{for(;!(tree=this.parse.advance()););}),this.treeLen=pos,this.tree=tree,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(f2){let prev=currentContext;currentContext=this;try{return f2()}finally{currentContext=prev}}withoutTempSkipped(fragments){for(let r2;r2=this.tempSkipped.pop();)fragments=cutFragments(fragments,r2.from,r2.to);return fragments}changes(changes,newState){let{fragments,tree,treeLen,viewport,skipped}=this;if(this.takeTree(),!changes.empty){let ranges=[];if(changes.iterChangedRanges((fromA,toA,fromB,toB)=>ranges.push({fromA,toA,fromB,toB})),fragments=TreeFragment.applyChanges(fragments,ranges),tree=Tree.empty,treeLen=0,viewport={from:changes.mapPos(viewport.from,-1),to:changes.mapPos(viewport.to,1)},this.skipped.length){skipped=[];for(let r2 of this.skipped){let from=changes.mapPos(r2.from,1),to=changes.mapPos(r2.to,-1);from<to&&skipped.push({from,to})}}}return new ParseContext(this.parser,newState,fragments,tree,treeLen,viewport,skipped,this.scheduleOn)}updateViewport(viewport){if(this.viewport.from==viewport.from&&this.viewport.to==viewport.to)return!1;this.viewport=viewport;let startLen=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from,to}=this.skipped[i];from<viewport.to&&to>viewport.from&&(this.fragments=cutFragments(this.fragments,from,to),this.skipped.splice(i--,1))}return this.skipped.length>=startLen?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(from,to){this.skipped.push({from,to})}static getSkippingParser(until){return new class extends Parser{createParse(input,fragments,ranges){let from=ranges[0].from,to=ranges[ranges.length-1].to;return{parsedPos:from,advance(){let cx=currentContext;if(cx){for(let r2 of ranges)cx.tempSkipped.push(r2);until&&(cx.scheduleOn=cx.scheduleOn?Promise.all([cx.scheduleOn,until]):until)}return this.parsedPos=to,new Tree(NodeType.none,[],[],to-from)},stoppedAt:null,stopAt(){}}}}}isDone(upto){upto=Math.min(upto,this.state.doc.length);let frags=this.fragments;return this.treeLen>=upto&&frags.length&&frags[0].from==0&&frags[0].to>=upto}static get(){return currentContext}}function cutFragments(fragments,from,to){return TreeFragment.applyChanges(fragments,[{fromA:from,toA:to,fromB:from,toB:to}])}class LanguageState{constructor(context){this.context=context,this.tree=context.tree}apply(tr){if(!tr.docChanged&&this.tree==this.context.tree)return this;let newCx=this.context.changes(tr.changes,tr.state),upto=this.context.treeLen==tr.startState.doc.length?void 0:Math.max(tr.changes.mapPos(this.context.treeLen),newCx.viewport.to);return newCx.work(20,upto)||newCx.takeTree(),new LanguageState(newCx)}static init(state){let vpTo=Math.min(3e3,state.doc.length),parseState=ParseContext.create(state.facet(language).parser,state,{from:0,to:vpTo});return parseState.work(20,vpTo)||parseState.takeTree(),new LanguageState(parseState)}}Language.state=StateField.define({create:LanguageState.init,update(value,tr){for(let e2 of tr.effects)if(e2.is(Language.setState))return e2.value;return tr.startState.facet(language)!=tr.state.facet(language)?LanguageState.init(tr.state):value.apply(tr)}});let requestIdle=callback=>{let timeout=setTimeout(()=>callback(),500);return()=>clearTimeout(timeout)};typeof requestIdleCallback<"u"&&(requestIdle=callback=>{let idle=-1,timeout=setTimeout(()=>{idle=requestIdleCallback(callback,{timeout:500-100})},100);return()=>idle<0?clearTimeout(timeout):cancelIdleCallback(idle)});const isInputPending=typeof navigator<"u"&&(!((_a3=navigator.scheduling)===null||_a3===void 0)&&_a3.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(view){this.view=view,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(update){let cx=this.view.state.field(Language.state).context;(cx.updateViewport(update.view.viewport)||this.view.viewport.to>cx.treeLen)&&this.scheduleWork(),(update.docChanged||update.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(cx)}scheduleWork(){if(this.working)return;let{state}=this.view,field=state.field(Language.state);(field.tree!=field.context.tree||!field.context.isDone(state.doc.length))&&(this.working=requestIdle(this.work))}work(deadline){this.working=null;let now=Date.now();if(this.chunkEnd<now&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=now+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state,viewport:{to:vpTo}}=this.view,field=state.field(Language.state);if(field.tree==field.context.tree&&field.context.isDone(vpTo+1e5))return;let endTime=Date.now()+Math.min(this.chunkBudget,100,deadline&&!isInputPending?Math.max(25,deadline.timeRemaining()-5):1e9),viewportFirst=field.context.treeLen<vpTo&&state.doc.length>vpTo+1e3,done=field.context.work(()=>isInputPending&&isInputPending()||Date.now()>endTime,vpTo+(viewportFirst?0:1e5));this.chunkBudget-=Date.now()-now,(done||this.chunkBudget<=0)&&(field.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(field.context))})),this.chunkBudget>0&&!(done&&!viewportFirst)&&this.scheduleWork(),this.checkAsyncSchedule(field.context)}checkAsyncSchedule(cx){cx.scheduleOn&&(this.workScheduled++,cx.scheduleOn.then(()=>this.scheduleWork()).catch(err=>logException(this.view.state,err)).then(()=>this.workScheduled--),cx.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(languages2){return languages2.length?languages2[0]:null},enables:language2=>[Language.state,parseWorker,EditorView.contentAttributes.compute([language2],state=>{let lang=state.facet(language2);return lang&&lang.name?{"data-language":lang.name}:{}})]});class LanguageSupport{constructor(language2,support=[]){this.language=language2,this.support=support,this.extension=[language2,support]}}class LanguageDescription{constructor(name2,alias,extensions,filename,loadFunc,support=void 0){this.name=name2,this.alias=alias,this.extensions=extensions,this.filename=filename,this.loadFunc=loadFunc,this.support=support,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(support=>this.support=support,err=>{throw this.loading=null,err}))}static of(spec){let{load,support}=spec;if(!load){if(!support)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");load=()=>Promise.resolve(support)}return new LanguageDescription(spec.name,(spec.alias||[]).concat(spec.name).map(s2=>s2.toLowerCase()),spec.extensions||[],spec.filename,load,support)}static matchFilename(descs,filename){for(let d2 of descs)if(d2.filename&&d2.filename.test(filename))return d2;let ext=/\.([^.]+)$/.exec(filename);if(ext){for(let d2 of descs)if(d2.extensions.indexOf(ext[1])>-1)return d2}return null}static matchLanguageName(descs,name2,fuzzy=!0){name2=name2.toLowerCase();for(let d2 of descs)if(d2.alias.some(a2=>a2==name2))return d2;if(fuzzy)for(let d2 of descs)for(let a2 of d2.alias){let found=name2.indexOf(a2);if(found>-1&&(a2.length>2||!/\w/.test(name2[found-1])&&!/\w/.test(name2[found+a2.length])))return d2}return null}}const indentService=Facet.define(),indentUnit=Facet.define({combine:values2=>{if(!values2.length)return"  ";let unit=values2[0];if(!unit||/\S/.test(unit)||Array.from(unit).some(e2=>e2!=unit[0]))throw new Error("Invalid indent unit: "+JSON.stringify(values2[0]));return unit}});function getIndentUnit(state){let unit=state.facet(indentUnit);return unit.charCodeAt(0)==9?state.tabSize*unit.length:unit.length}function indentString(state,cols){let result="",ts=state.tabSize,ch=state.facet(indentUnit)[0];if(ch=="	"){for(;cols>=ts;)result+="	",cols-=ts;ch=" "}for(let i=0;i<cols;i++)result+=ch;return result}function getIndentation(context,pos){context instanceof EditorState&&(context=new IndentContext(context));for(let service of context.state.facet(indentService)){let result=service(context,pos);if(result!==void 0)return result}let tree=syntaxTree(context.state);return tree.length>=pos?syntaxIndentation(context,tree,pos):null}class IndentContext{constructor(state,options={}){this.state=state,this.options=options,this.unit=getIndentUnit(state)}lineAt(pos,bias=1){let line=this.state.doc.lineAt(pos),{simulateBreak,simulateDoubleBreak}=this.options;return simulateBreak!=null&&simulateBreak>=line.from&&simulateBreak<=line.to?simulateDoubleBreak&&simulateBreak==pos?{text:"",from:pos}:(bias<0?simulateBreak<pos:simulateBreak<=pos)?{text:line.text.slice(simulateBreak-line.from),from:simulateBreak}:{text:line.text.slice(0,simulateBreak-line.from),from:line.from}:line}textAfterPos(pos,bias=1){if(this.options.simulateDoubleBreak&&pos==this.options.simulateBreak)return"";let{text:text2,from}=this.lineAt(pos,bias);return text2.slice(pos-from,Math.min(text2.length,pos+100-from))}column(pos,bias=1){let{text:text2,from}=this.lineAt(pos,bias),result=this.countColumn(text2,pos-from),override=this.options.overrideIndentation?this.options.overrideIndentation(from):-1;return override>-1&&(result+=override-this.countColumn(text2,text2.search(/\S|$/))),result}countColumn(line,pos=line.length){return countColumn(line,this.state.tabSize,pos)}lineIndent(pos,bias=1){let{text:text2,from}=this.lineAt(pos,bias),override=this.options.overrideIndentation;if(override){let overriden=override(from);if(overriden>-1)return overriden}return this.countColumn(text2,text2.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(cx,ast,pos){let stack=ast.resolveStack(pos),inner=ast.resolveInner(pos,-1).resolve(pos,0).enterUnfinishedNodesBefore(pos);if(inner!=stack.node){let add3=[];for(let cur2=inner;cur2&&!(cur2.from<stack.node.from||cur2.to>stack.node.to||cur2.from==stack.node.from&&cur2.type==stack.node.type);cur2=cur2.parent)add3.push(cur2);for(let i=add3.length-1;i>=0;i--)stack={node:add3[i],next:stack}}return indentFor(stack,cx,pos)}function indentFor(stack,cx,pos){for(let cur2=stack;cur2;cur2=cur2.next){let strategy=indentStrategy(cur2.node);if(strategy)return strategy(TreeIndentContext.create(cx,pos,cur2))}return 0}function ignoreClosed(cx){return cx.pos==cx.options.simulateBreak&&cx.options.simulateDoubleBreak}function indentStrategy(tree){let strategy=tree.type.prop(indentNodeProp);if(strategy)return strategy;let first=tree.firstChild,close;if(first&&(close=first.type.prop(NodeProp.closedBy))){let last=tree.lastChild,closed=last&&close.indexOf(last.name)>-1;return cx=>delimitedStrategy(cx,!0,1,void 0,closed&&!ignoreClosed(cx)?last.from:void 0)}return tree.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(base2,pos,context){super(base2.state,base2.options),this.base=base2,this.pos=pos,this.context=context}get node(){return this.context.node}static create(base2,pos,context){return new TreeIndentContext(base2,pos,context)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(node){let line=this.state.doc.lineAt(node.from);for(;;){let atBreak=node.resolve(line.from);for(;atBreak.parent&&atBreak.parent.from==atBreak.from;)atBreak=atBreak.parent;if(isParent(atBreak,node))break;line=this.state.doc.lineAt(atBreak.from)}return this.lineIndent(line.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(parent,of){for(let cur2=of;cur2;cur2=cur2.parent)if(parent==cur2)return!0;return!1}function bracketedAligned(context){let tree=context.node,openToken=tree.childAfter(tree.from),last=tree.lastChild;if(!openToken)return null;let sim=context.options.simulateBreak,openLine=context.state.doc.lineAt(openToken.from),lineEnd2=sim==null||sim<=openLine.from?openLine.to:Math.min(openLine.to,sim);for(let pos=openToken.to;;){let next=tree.childAfter(pos);if(!next||next==last)return null;if(!next.type.isSkipped){if(next.from>=lineEnd2)return null;let space2=/^ */.exec(openLine.text.slice(openToken.to-openLine.from))[0].length;return{from:openToken.from,to:openToken.to+space2}}pos=next.to}}function delimitedIndent({closing,align=!0,units=1}){return context=>delimitedStrategy(context,align,units,closing)}function delimitedStrategy(context,align,units,closing,closedAt){let after=context.textAfter,space2=after.match(/^\s*/)[0].length,closed=closing&&after.slice(space2,space2+closing.length)==closing||closedAt==context.pos+space2,aligned=align?bracketedAligned(context):null;return aligned?closed?context.column(aligned.from):context.column(aligned.to):context.baseIndent+(closed?0:context.unit*units)}const flatIndent=context=>context.baseIndent;function continuedIndent({except,units=1}={}){return context=>{let matchExcept=except&&except.test(context.textAfter);return context.baseIndent+(matchExcept?0:units*context.unit)}}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(node){let first=node.firstChild,last=node.lastChild;return first&&first.to<last.from?{from:first.to,to:last.type.isError?node.to:last.from}:null}class HighlightStyle{constructor(specs,options){this.specs=specs;let modSpec;function def(spec){let cls=StyleModule.newName();return(modSpec||(modSpec=Object.create(null)))["."+cls]=spec,cls}const all=typeof options.all=="string"?options.all:options.all?def(options.all):void 0,scopeOpt=options.scope;this.scope=scopeOpt instanceof Language?type=>type.prop(languageDataProp)==scopeOpt.data:scopeOpt?type=>type==scopeOpt:void 0,this.style=tagHighlighter(specs.map(style=>({tag:style.tag,class:style.class||def(Object.assign({},style,{tag:null}))})),{all}).style,this.module=modSpec?new StyleModule(modSpec):null,this.themeType=options.themeType}static define(specs,options){return new HighlightStyle(specs,options||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(values2){return values2.length?[values2[0]]:null}});function getHighlighters(state){let main=state.facet(highlighterFacet);return main.length?main:state.facet(fallbackHighlighter)}function syntaxHighlighting(highlighter,options){let ext=[treeHighlighter],themeType;return highlighter instanceof HighlightStyle&&(highlighter.module&&ext.push(EditorView.styleModule.of(highlighter.module)),themeType=highlighter.themeType),options?.fallback?ext.push(fallbackHighlighter.of(highlighter)):themeType?ext.push(highlighterFacet.computeN([EditorView.darkTheme],state=>state.facet(EditorView.darkTheme)==(themeType=="dark")?[highlighter]:[])):ext.push(highlighterFacet.of(highlighter)),ext}class TreeHighlighter{constructor(view){this.markCache=Object.create(null),this.tree=syntaxTree(view.state),this.decorations=this.buildDeco(view,getHighlighters(view.state)),this.decoratedTo=view.viewport.to}update(update){let tree=syntaxTree(update.state),highlighters=getHighlighters(update.state),styleChange=highlighters!=getHighlighters(update.startState),{viewport}=update.view,decoratedToMapped=update.changes.mapPos(this.decoratedTo,1);tree.length<viewport.to&&!styleChange&&tree.type==this.tree.type&&decoratedToMapped>=viewport.to?(this.decorations=this.decorations.map(update.changes),this.decoratedTo=decoratedToMapped):(tree!=this.tree||update.viewportChanged||styleChange)&&(this.tree=tree,this.decorations=this.buildDeco(update.view,highlighters),this.decoratedTo=viewport.to)}buildDeco(view,highlighters){if(!highlighters||!this.tree.length)return Decoration.none;let builder=new RangeSetBuilder;for(let{from,to}of view.visibleRanges)highlightTree(this.tree,highlighters,(from2,to2,style)=>{builder.add(from2,to2,this.markCache[style]||(this.markCache[style]=Decoration.mark({class:style})))},from,to);return builder.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:v2=>v2.decorations}));tags$1.meta,tags$1.link,tags$1.heading,tags$1.emphasis,tags$1.strong,tags$1.strikethrough,tags$1.keyword,tags$1.atom,tags$1.bool,tags$1.url,tags$1.contentSeparator,tags$1.labelName,tags$1.literal,tags$1.inserted,tags$1.string,tags$1.deleted,tags$1.regexp,tags$1.escape,tags$1.string,tags$1.variableName,tags$1.variableName,tags$1.typeName,tags$1.namespace,tags$1.className,tags$1.variableName,tags$1.macroName,tags$1.propertyName,tags$1.comment,tags$1.invalid;const DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingHandle=new NodeProp;function matchingNodes(node,dir,brackets){let byProp=node.prop(dir<0?NodeProp.openedBy:NodeProp.closedBy);if(byProp)return byProp;if(node.name.length==1){let index2=brackets.indexOf(node.name);if(index2>-1&&index2%2==(dir<0?1:0))return[brackets[index2+dir]]}return null}function findHandle(node){let hasHandle=node.type.prop(bracketMatchingHandle);return hasHandle?hasHandle(node.node):node}function matchBrackets(state,pos,dir,config2={}){let maxScanDistance=config2.maxScanDistance||DefaultScanDist,brackets=config2.brackets||DefaultBrackets,tree=syntaxTree(state),node=tree.resolveInner(pos,dir);for(let cur2=node;cur2;cur2=cur2.parent){let matches=matchingNodes(cur2.type,dir,brackets);if(matches&&cur2.from<cur2.to){let handle=findHandle(cur2);if(handle&&(dir>0?pos>=handle.from&&pos<handle.to:pos>handle.from&&pos<=handle.to))return matchMarkedBrackets(state,pos,dir,cur2,handle,matches,brackets)}}return matchPlainBrackets(state,pos,dir,tree,node.type,maxScanDistance,brackets)}function matchMarkedBrackets(_state,_pos,dir,token,handle,matching,brackets){let parent=token.parent,firstToken={from:handle.from,to:handle.to},depth=0,cursor=parent?.cursor();if(cursor&&(dir<0?cursor.childBefore(token.from):cursor.childAfter(token.to)))do if(dir<0?cursor.to<=token.from:cursor.from>=token.to){if(depth==0&&matching.indexOf(cursor.type.name)>-1&&cursor.from<cursor.to){let endHandle=findHandle(cursor);return{start:firstToken,end:endHandle?{from:endHandle.from,to:endHandle.to}:void 0,matched:!0}}else if(matchingNodes(cursor.type,dir,brackets))depth++;else if(matchingNodes(cursor.type,-dir,brackets)){if(depth==0){let endHandle=findHandle(cursor);return{start:firstToken,end:endHandle&&endHandle.from<endHandle.to?{from:endHandle.from,to:endHandle.to}:void 0,matched:!1}}depth--}}while(dir<0?cursor.prevSibling():cursor.nextSibling());return{start:firstToken,matched:!1}}function matchPlainBrackets(state,pos,dir,tree,tokenType,maxScanDistance,brackets){let startCh=dir<0?state.sliceDoc(pos-1,pos):state.sliceDoc(pos,pos+1),bracket2=brackets.indexOf(startCh);if(bracket2<0||bracket2%2==0!=dir>0)return null;let startToken={from:dir<0?pos-1:pos,to:dir>0?pos+1:pos},iter=state.doc.iterRange(pos,dir>0?state.doc.length:0),depth=0;for(let distance=0;!iter.next().done&&distance<=maxScanDistance;){let text2=iter.value;dir<0&&(distance+=text2.length);let basePos=pos+distance*dir;for(let pos2=dir>0?0:text2.length-1,end=dir>0?text2.length:-1;pos2!=end;pos2+=dir){let found=brackets.indexOf(text2[pos2]);if(!(found<0||tree.resolveInner(basePos+pos2,1).type!=tokenType))if(found%2==0==dir>0)depth++;else{if(depth==1)return{start:startToken,end:{from:basePos+pos2,to:basePos+pos2+1},matched:found>>1==bracket2>>1};depth--}}dir>0&&(distance+=text2.length)}return iter.done?{start:startToken,matched:!1}:null}function countCol(string2,end,tabSize,startIndex=0,startValue=0){end==null&&(end=string2.search(/[^\s\u00a0]/),end==-1&&(end=string2.length));let n2=startValue;for(let i=startIndex;i<end;i++)string2.charCodeAt(i)==9?n2+=tabSize-n2%tabSize:n2++;return n2}class StringStream{constructor(string2,tabSize,indentUnit2,overrideIndent){this.string=string2,this.tabSize=tabSize,this.indentUnit=indentUnit2,this.overrideIndent=overrideIndent,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(match2){let ch=this.string.charAt(this.pos),ok;if(typeof match2=="string"?ok=ch==match2:ok=ch&&(match2 instanceof RegExp?match2.test(ch):match2(ch)),ok)return++this.pos,ch}eatWhile(match2){let start=this.pos;for(;this.eat(match2););return this.pos>start}eatSpace(){let start=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>start}skipToEnd(){this.pos=this.string.length}skipTo(ch){let found=this.string.indexOf(ch,this.pos);if(found>-1)return this.pos=found,!0}backUp(n2){this.pos-=n2}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var _a4;return(_a4=this.overrideIndent)!==null&&_a4!==void 0?_a4:countCol(this.string,null,this.tabSize)}match(pattern,consume,caseInsensitive){if(typeof pattern=="string"){let cased=str=>caseInsensitive?str.toLowerCase():str,substr=this.string.substr(this.pos,pattern.length);return cased(substr)==cased(pattern)?(consume!==!1&&(this.pos+=pattern.length),!0):null}else{let match2=this.string.slice(this.pos).match(pattern);return match2&&match2.index>0?null:(match2&&consume!==!1&&(this.pos+=match2[0].length),match2)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(spec){return{name:spec.name||"",token:spec.token,blankLine:spec.blankLine||(()=>{}),startState:spec.startState||(()=>!0),copyState:spec.copyState||defaultCopyState,indent:spec.indent||(()=>null),languageData:spec.languageData||{},tokenTable:spec.tokenTable||noTokens,mergeTokens:spec.mergeTokens!==!1}}function defaultCopyState(state){if(typeof state!="object")return state;let newState={};for(let prop in state){let val=state[prop];newState[prop]=val instanceof Array?val.slice():val}return newState}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(parser2){let data2=defineLanguageFacet(parser2.languageData),p2=fullParser(parser2),self2,impl=new class extends Parser{createParse(input,fragments,ranges){return new Parse$1(self2,input,fragments,ranges)}};super(data2,impl,[],parser2.name),this.topNode=docID(data2,this),self2=this,this.streamParser=p2,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=parser2.tokenTable?new TokenTable(p2.tokenTable):defaultTokenTable}static define(spec){return new StreamLanguage(spec)}getIndent(cx){let from,{overrideIndentation}=cx.options;overrideIndentation&&(from=IndentedFrom.get(cx.state),from!=null&&from<cx.pos-1e4&&(from=void 0));let start=findState(this,cx.node.tree,cx.node.from,cx.node.from,from??cx.pos),statePos,state;if(start?(state=start.state,statePos=start.pos+1):(state=this.streamParser.startState(cx.unit),statePos=cx.node.from),cx.pos-statePos>1e4)return null;for(;statePos<cx.pos;){let line2=cx.state.doc.lineAt(statePos),end=Math.min(cx.pos,line2.to);if(line2.length){let indentation=overrideIndentation?overrideIndentation(line2.from):-1,stream=new StringStream(line2.text,cx.state.tabSize,cx.unit,indentation<0?void 0:indentation);for(;stream.pos<end-line2.from;)readToken$1(this.streamParser.token,stream,state)}else this.streamParser.blankLine(state,cx.unit);if(end==cx.pos)break;statePos=line2.to+1}let line=cx.lineAt(cx.pos);return overrideIndentation&&from==null&&IndentedFrom.set(cx.state,line.from),this.streamParser.indent(state,/^\s*(.*)/.exec(line.text)[1],cx)}get allowsNesting(){return!1}}function findState(lang,tree,off,startPos,before){let state=off>=startPos&&off+tree.length<=before&&tree.prop(lang.stateAfter);if(state)return{state:lang.streamParser.copyState(state),pos:off+tree.length};for(let i=tree.children.length-1;i>=0;i--){let child=tree.children[i],pos=off+tree.positions[i],found=child instanceof Tree&&pos<before&&findState(lang,child,pos,startPos,before);if(found)return found}return null}function cutTree(lang,tree,from,to,inside2){if(inside2&&from<=0&&to>=tree.length)return tree;!inside2&&from==0&&tree.type==lang.topNode&&(inside2=!0);for(let i=tree.children.length-1;i>=0;i--){let pos=tree.positions[i],child=tree.children[i],inner;if(pos<to&&child instanceof Tree){if(!(inner=cutTree(lang,child,from-pos,to-pos,inside2)))break;return inside2?new Tree(tree.type,tree.children.slice(0,i).concat(inner),tree.positions.slice(0,i+1),pos+inner.length):inner}}return null}function findStartInFragments(lang,fragments,startPos,endPos,editorState){for(let f2 of fragments){let from=f2.from+(f2.openStart?25:0),to=f2.to-(f2.openEnd?25:0),found=from<=startPos&&to>startPos&&findState(lang,f2.tree,0-f2.offset,startPos,to),tree;if(found&&found.pos<=endPos&&(tree=cutTree(lang,f2.tree,startPos+f2.offset,found.pos+f2.offset,!1)))return{state:found.state,tree}}return{state:lang.streamParser.startState(editorState?getIndentUnit(editorState):4),tree:Tree.empty}}let Parse$1=class{constructor(lang,input,fragments,ranges){this.lang=lang,this.input=input,this.fragments=fragments,this.ranges=ranges,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=ranges[ranges.length-1].to;let context=ParseContext.get(),from=ranges[0].from,{state,tree}=findStartInFragments(lang,fragments,from,this.to,context?.state);this.state=state,this.parsedPos=this.chunkStart=from+tree.length;for(let i=0;i<tree.children.length;i++)this.chunks.push(tree.children[i]),this.chunkPos.push(tree.positions[i]);context&&this.parsedPos<context.viewport.from-1e5&&ranges.some(r2=>r2.from<=context.viewport.from&&r2.to>=context.viewport.from)&&(this.state=this.lang.streamParser.startState(getIndentUnit(context.state)),context.skipUntilInView(this.parsedPos,context.viewport.from),this.parsedPos=context.viewport.from),this.moveRangeIndex()}advance(){let context=ParseContext.get(),parseEnd=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),end=Math.min(parseEnd,this.chunkStart+512);for(context&&(end=Math.min(end,context.viewport.to));this.parsedPos<end;)this.parseLine(context);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=parseEnd?this.finish():context&&this.parsedPos>=context.viewport.to?(context.skipUntilInView(this.parsedPos,parseEnd),this.finish()):null}stopAt(pos){this.stoppedAt=pos}lineAfter(pos){let chunk=this.input.chunk(pos);if(this.input.lineChunks)chunk==`
`&&(chunk="");else{let eol=chunk.indexOf(`
`);eol>-1&&(chunk=chunk.slice(0,eol))}return pos+chunk.length<=this.to?chunk:chunk.slice(0,this.to-pos)}nextLine(){let from=this.parsedPos,line=this.lineAfter(from),end=from+line.length;for(let index2=this.rangeIndex;;){let rangeEnd2=this.ranges[index2].to;if(rangeEnd2>=end||(line=line.slice(0,rangeEnd2-(end-line.length)),index2++,index2==this.ranges.length))break;let rangeStart=this.ranges[index2].from,after=this.lineAfter(rangeStart);line+=after,end=rangeStart+after.length}return{line,end}}skipGapsTo(pos,offset,side){for(;;){let end=this.ranges[this.rangeIndex].to,offPos=pos+offset;if(side>0?end>offPos:end>=offPos)break;let start=this.ranges[++this.rangeIndex].from;offset+=start-end}return offset}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(id2,from,to,offset){let size=4;if(this.ranges.length>1){offset=this.skipGapsTo(from,offset,1),from+=offset;let len0=this.chunk.length;offset=this.skipGapsTo(to,offset,-1),to+=offset,size+=this.chunk.length-len0}let last=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&size==4&&last>=0&&this.chunk[last]==id2&&this.chunk[last+2]==from?this.chunk[last+2]=to:this.chunk.push(id2,from,to,size),offset}parseLine(context){let{line,end}=this.nextLine(),offset=0,{streamParser}=this.lang,stream=new StringStream(line,context?context.state.tabSize:4,context?getIndentUnit(context.state):2);if(stream.eol())streamParser.blankLine(this.state,stream.indentUnit);else for(;!stream.eol();){let token=readToken$1(streamParser.token,stream,this.state);if(token&&(offset=this.emitToken(this.lang.tokenTable.resolve(token),this.parsedPos+stream.start,this.parsedPos+stream.pos,offset)),stream.start>1e4)break}this.parsedPos=end,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let tree=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:512,reused:this.chunkReused});tree=new Tree(tree.type,tree.children,tree.positions,tree.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(tree),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function readToken$1(token,stream,state){stream.start=stream.pos;for(let i=0;i<10;i++){let result=token(stream,state);if(stream.pos>stream.start)return result}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[legacyName,name2]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[legacyName]=createTokenType(noTokens,name2);class TokenTable{constructor(extra){this.extra=extra,this.table=Object.assign(Object.create(null),defaultTable)}resolve(tag){return tag?this.table[tag]||(this.table[tag]=createTokenType(this.extra,tag)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(part,msg){warned.indexOf(part)>-1||(warned.push(part),console.warn(msg))}function createTokenType(extra,tagStr){let tags$1$1=[];for(let name3 of tagStr.split(" ")){let found=[];for(let part of name3.split(".")){let value=extra[part]||tags$1[part];value?typeof value=="function"?found.length?found=found.map(value):warnForPart(part,`Modifier ${part} used at start of tag`):found.length?warnForPart(part,`Tag ${part} used as modifier`):found=Array.isArray(value)?value:[value]:warnForPart(part,`Unknown highlighting tag ${part}`)}for(let tag of found)tags$1$1.push(tag)}if(!tags$1$1.length)return 0;let name2=tagStr.replace(/ /g,"_"),key=name2+" "+tags$1$1.map(t2=>t2.id),known=byTag[key];if(known)return known.id;let type=byTag[key]=NodeType.define({id:typeArray.length,name:name2,props:[styleTags({[name2]:tags$1$1})]});return typeArray.push(type),type.id}function docID(data2,lang){let type=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>data2),indentNodeProp.add(()=>cx=>lang.getIndent(cx))],top:!0});return typeArray.push(type),type}Direction.RTL,Direction.LTR;const toggleComment=target=>{let{state}=target,line=state.doc.lineAt(state.selection.main.from),config2=getConfig(target.state,line.from);return config2.line?toggleLineComment(target):config2.block?toggleBlockCommentByLine(target):!1};function command(f2,option){return({state,dispatch})=>{if(state.readOnly)return!1;let tr=f2(option,state);return tr?(dispatch(state.update(tr)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((o2,s2)=>changeBlockComment(o2,s2,selectedLineRanges(s2)),0);function getConfig(state,pos){let data2=state.languageDataAt("commentTokens",pos,1);return data2.length?data2[0]:{}}const SearchMargin=50;function findBlockComment(state,{open,close},from,to){let textBefore=state.sliceDoc(from-SearchMargin,from),textAfter=state.sliceDoc(to,to+SearchMargin),spaceBefore=/\s*$/.exec(textBefore)[0].length,spaceAfter=/^\s*/.exec(textAfter)[0].length,beforeOff=textBefore.length-spaceBefore;if(textBefore.slice(beforeOff-open.length,beforeOff)==open&&textAfter.slice(spaceAfter,spaceAfter+close.length)==close)return{open:{pos:from-spaceBefore,margin:spaceBefore&&1},close:{pos:to+spaceAfter,margin:spaceAfter&&1}};let startText,endText;to-from<=2*SearchMargin?startText=endText=state.sliceDoc(from,to):(startText=state.sliceDoc(from,from+SearchMargin),endText=state.sliceDoc(to-SearchMargin,to));let startSpace=/^\s*/.exec(startText)[0].length,endSpace=/\s*$/.exec(endText)[0].length,endOff=endText.length-endSpace-close.length;return startText.slice(startSpace,startSpace+open.length)==open&&endText.slice(endOff,endOff+close.length)==close?{open:{pos:from+startSpace+open.length,margin:/\s/.test(startText.charAt(startSpace+open.length))?1:0},close:{pos:to-endSpace-close.length,margin:/\s/.test(endText.charAt(endOff-1))?1:0}}:null}function selectedLineRanges(state){let ranges=[];for(let r2 of state.selection.ranges){let fromLine=state.doc.lineAt(r2.from),toLine=r2.to<=fromLine.to?fromLine:state.doc.lineAt(r2.to);toLine.from>fromLine.from&&toLine.from==r2.to&&(toLine=r2.to==fromLine.to+1?fromLine:state.doc.lineAt(r2.to-1));let last=ranges.length-1;last>=0&&ranges[last].to>fromLine.from?ranges[last].to=toLine.to:ranges.push({from:fromLine.from+/^\s*/.exec(fromLine.text)[0].length,to:toLine.to})}return ranges}function changeBlockComment(option,state,ranges=state.selection.ranges){let tokens=ranges.map(r2=>getConfig(state,r2.from).block);if(!tokens.every(c2=>c2))return null;let comments=ranges.map((r2,i)=>findBlockComment(state,tokens[i],r2.from,r2.to));if(option!=2&&!comments.every(c2=>c2))return{changes:state.changes(ranges.map((range,i)=>comments[i]?[]:[{from:range.from,insert:tokens[i].open+" "},{from:range.to,insert:" "+tokens[i].close}]))};if(option!=1&&comments.some(c2=>c2)){let changes=[];for(let i=0,comment2;i<comments.length;i++)if(comment2=comments[i]){let token=tokens[i],{open,close}=comment2;changes.push({from:open.pos-token.open.length,to:open.pos+open.margin},{from:close.pos-close.margin,to:close.pos+token.close.length})}return{changes}}return null}function changeLineComment(option,state,ranges=state.selection.ranges){let lines=[],prevLine=-1;for(let{from,to}of ranges){let startI=lines.length,minIndent=1e9,token=getConfig(state,from).line;if(token){for(let pos=from;pos<=to;){let line=state.doc.lineAt(pos);if(line.from>prevLine&&(from==to||to>line.from)){prevLine=line.from;let indent=/^\s*/.exec(line.text)[0].length,empty2=indent==line.length,comment2=line.text.slice(indent,indent+token.length)==token?indent:-1;indent<line.text.length&&indent<minIndent&&(minIndent=indent),lines.push({line,comment:comment2,token,indent,empty:empty2,single:!1})}pos=line.to+1}if(minIndent<1e9)for(let i=startI;i<lines.length;i++)lines[i].indent<lines[i].line.text.length&&(lines[i].indent=minIndent);lines.length==startI+1&&(lines[startI].single=!0)}}if(option!=2&&lines.some(l2=>l2.comment<0&&(!l2.empty||l2.single))){let changes=[];for(let{line,token,indent,empty:empty2,single}of lines)(single||!empty2)&&changes.push({from:line.from+indent,insert:token+" "});let changeSet=state.changes(changes);return{changes:changeSet,selection:state.selection.map(changeSet,1)}}else if(option!=1&&lines.some(l2=>l2.comment>=0)){let changes=[];for(let{line,comment:comment2,token}of lines)if(comment2>=0){let from=line.from+comment2,to=from+token.length;line.text[to-line.from]==" "&&to++,changes.push({from,to})}return{changes}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(configs){return combineConfig(configs,{minDepth:100,newGroupDelay:500,joinToEvent:(_t,isAdjacent2)=>isAdjacent2},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(a2,b2)=>(tr,adj)=>a2(tr,adj)||b2(tr,adj)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(state,tr){let config2=tr.state.facet(historyConfig),fromHist=tr.annotation(fromHistory);if(fromHist){let item=HistEvent.fromTransaction(tr,fromHist.selection),from=fromHist.side,other=from==0?state.undone:state.done;return item?other=updateBranch(other,other.length,config2.minDepth,item):other=addSelection(other,tr.startState.selection),new HistoryState(from==0?fromHist.rest:other,from==0?other:fromHist.rest)}let isolate=tr.annotation(isolateHistory);if((isolate=="full"||isolate=="before")&&(state=state.isolate()),tr.annotation(Transaction.addToHistory)===!1)return tr.changes.empty?state:state.addMapping(tr.changes.desc);let event=HistEvent.fromTransaction(tr),time=tr.annotation(Transaction.time),userEvent=tr.annotation(Transaction.userEvent);return event?state=state.addChanges(event,time,userEvent,config2,tr):tr.selection&&(state=state.addSelection(tr.startState.selection,time,userEvent,config2.newGroupDelay)),(isolate=="full"||isolate=="after")&&(state=state.isolate()),state},toJSON(value){return{done:value.done.map(e2=>e2.toJSON()),undone:value.undone.map(e2=>e2.toJSON())}},fromJSON(json){return new HistoryState(json.done.map(HistEvent.fromJSON),json.undone.map(HistEvent.fromJSON))}});function history(config2={}){return[historyField_,historyConfig.of(config2),EditorView.domEventHandlers({beforeinput(e2,view){let command2=e2.inputType=="historyUndo"?undo:e2.inputType=="historyRedo"?redo:null;return command2?(e2.preventDefault(),command2(view)):!1}})]}function cmd(side,selection){return function({state,dispatch}){if(!selection&&state.readOnly)return!1;let historyState=state.field(historyField_,!1);if(!historyState)return!1;let tr=historyState.pop(side,state,selection);return tr?(dispatch(tr),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(changes,effects,mapped,startSelection,selectionsAfter){this.changes=changes,this.effects=effects,this.mapped=mapped,this.startSelection=startSelection,this.selectionsAfter=selectionsAfter}setSelAfter(after){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,after)}toJSON(){var _a4,_b,_c;return{changes:(_a4=this.changes)===null||_a4===void 0?void 0:_a4.toJSON(),mapped:(_b=this.mapped)===null||_b===void 0?void 0:_b.toJSON(),startSelection:(_c=this.startSelection)===null||_c===void 0?void 0:_c.toJSON(),selectionsAfter:this.selectionsAfter.map(s2=>s2.toJSON())}}static fromJSON(json){return new HistEvent(json.changes&&ChangeSet.fromJSON(json.changes),[],json.mapped&&ChangeDesc.fromJSON(json.mapped),json.startSelection&&EditorSelection.fromJSON(json.startSelection),json.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(tr,selection){let effects=none$2;for(let invert of tr.startState.facet(invertedEffects)){let result=invert(tr);result.length&&(effects=effects.concat(result))}return!effects.length&&tr.changes.empty?null:new HistEvent(tr.changes.invert(tr.startState.doc),effects,void 0,selection||tr.startState.selection,none$2)}static selection(selections){return new HistEvent(void 0,none$2,void 0,void 0,selections)}}function updateBranch(branch,to,maxLen,newEvent){let start=to+1>maxLen+20?to-maxLen-1:0,newBranch=branch.slice(start,to);return newBranch.push(newEvent),newBranch}function isAdjacent(a2,b2){let ranges=[],isAdjacent2=!1;return a2.iterChangedRanges((f2,t2)=>ranges.push(f2,t2)),b2.iterChangedRanges((_f,_t,f2,t2)=>{for(let i=0;i<ranges.length;){let from=ranges[i++],to=ranges[i++];t2>=from&&f2<=to&&(isAdjacent2=!0)}}),isAdjacent2}function eqSelectionShape(a2,b2){return a2.ranges.length==b2.ranges.length&&a2.ranges.filter((r2,i)=>r2.empty!=b2.ranges[i].empty).length===0}function conc(a2,b2){return a2.length?b2.length?a2.concat(b2):a2:b2}const none$2=[],MaxSelectionsPerEvent=200;function addSelection(branch,selection){if(branch.length){let lastEvent=branch[branch.length-1],sels=lastEvent.selectionsAfter.slice(Math.max(0,lastEvent.selectionsAfter.length-MaxSelectionsPerEvent));return sels.length&&sels[sels.length-1].eq(selection)?branch:(sels.push(selection),updateBranch(branch,branch.length-1,1e9,lastEvent.setSelAfter(sels)))}else return[HistEvent.selection([selection])]}function popSelection(branch){let last=branch[branch.length-1],newBranch=branch.slice();return newBranch[branch.length-1]=last.setSelAfter(last.selectionsAfter.slice(0,last.selectionsAfter.length-1)),newBranch}function addMappingToBranch(branch,mapping){if(!branch.length)return branch;let length=branch.length,selections=none$2;for(;length;){let event=mapEvent(branch[length-1],mapping,selections);if(event.changes&&!event.changes.empty||event.effects.length){let result=branch.slice(0,length);return result[length-1]=event,result}else mapping=event.mapped,length--,selections=event.selectionsAfter}return selections.length?[HistEvent.selection(selections)]:none$2}function mapEvent(event,mapping,extraSelections){let selections=conc(event.selectionsAfter.length?event.selectionsAfter.map(s2=>s2.map(mapping)):none$2,extraSelections);if(!event.changes)return HistEvent.selection(selections);let mappedChanges=event.changes.map(mapping),before=mapping.mapDesc(event.changes,!0),fullMapping=event.mapped?event.mapped.composeDesc(before):before;return new HistEvent(mappedChanges,StateEffect.mapEffects(event.effects,mapping),fullMapping,event.startSelection.map(before),selections)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(done,undone,prevTime=0,prevUserEvent=void 0){this.done=done,this.undone=undone,this.prevTime=prevTime,this.prevUserEvent=prevUserEvent}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(event,time,userEvent,config2,tr){let done=this.done,lastEvent=done[done.length-1];return lastEvent&&lastEvent.changes&&!lastEvent.changes.empty&&event.changes&&(!userEvent||joinableUserEvent.test(userEvent))&&(!lastEvent.selectionsAfter.length&&time-this.prevTime<config2.newGroupDelay&&config2.joinToEvent(tr,isAdjacent(lastEvent.changes,event.changes))||userEvent=="input.type.compose")?done=updateBranch(done,done.length-1,config2.minDepth,new HistEvent(event.changes.compose(lastEvent.changes),conc(StateEffect.mapEffects(event.effects,lastEvent.changes),lastEvent.effects),lastEvent.mapped,lastEvent.startSelection,none$2)):done=updateBranch(done,done.length,config2.minDepth,event),new HistoryState(done,none$2,time,userEvent)}addSelection(selection,time,userEvent,newGroupDelay){let last=this.done.length?this.done[this.done.length-1].selectionsAfter:none$2;return last.length>0&&time-this.prevTime<newGroupDelay&&userEvent==this.prevUserEvent&&userEvent&&/^select($|\.)/.test(userEvent)&&eqSelectionShape(last[last.length-1],selection)?this:new HistoryState(addSelection(this.done,selection),this.undone,time,userEvent)}addMapping(mapping){return new HistoryState(addMappingToBranch(this.done,mapping),addMappingToBranch(this.undone,mapping),this.prevTime,this.prevUserEvent)}pop(side,state,onlySelection){let branch=side==0?this.done:this.undone;if(branch.length==0)return null;let event=branch[branch.length-1],selection=event.selectionsAfter[0]||state.selection;if(onlySelection&&event.selectionsAfter.length)return state.update({selection:event.selectionsAfter[event.selectionsAfter.length-1],annotations:fromHistory.of({side,rest:popSelection(branch),selection}),userEvent:side==0?"select.undo":"select.redo",scrollIntoView:!0});if(event.changes){let rest=branch.length==1?none$2:branch.slice(0,branch.length-1);return event.mapped&&(rest=addMappingToBranch(rest,event.mapped)),state.update({changes:event.changes,selection:event.startSelection,effects:event.effects,annotations:fromHistory.of({side,rest,selection}),filter:!1,userEvent:side==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$2,none$2);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(sel,by){return EditorSelection.create(sel.ranges.map(by),sel.mainIndex)}function setSel(state,selection){return state.update({selection,scrollIntoView:!0,userEvent:"select"})}function moveSel({state,dispatch},how){let selection=updateSel(state.selection,how);return selection.eq(state.selection,!0)?!1:(dispatch(setSel(state,selection)),!0)}function rangeEnd(range,forward){return EditorSelection.cursor(forward?range.to:range.from)}function cursorByChar(view,forward){return moveSel(view,range=>range.empty?view.moveByChar(range,forward):rangeEnd(range,forward))}function ltrAtCursor(view){return view.textDirectionAt(view.state.selection.main.head)==Direction.LTR}const cursorCharLeft=view=>cursorByChar(view,!ltrAtCursor(view)),cursorCharRight=view=>cursorByChar(view,ltrAtCursor(view));function cursorByGroup(view,forward){return moveSel(view,range=>range.empty?view.moveByGroup(range,forward):rangeEnd(range,forward))}const cursorGroupLeft=view=>cursorByGroup(view,!ltrAtCursor(view)),cursorGroupRight=view=>cursorByGroup(view,ltrAtCursor(view));function interestingNode(state,node,bracketProp){if(node.type.prop(bracketProp))return!0;let len=node.to-node.from;return len&&(len>2||/[^\s,.;:]/.test(state.sliceDoc(node.from,node.to)))||node.firstChild}function moveBySyntax(state,start,forward){let pos=syntaxTree(state).resolveInner(start.head),bracketProp=forward?NodeProp.closedBy:NodeProp.openedBy;for(let at2=start.head;;){let next=forward?pos.childAfter(at2):pos.childBefore(at2);if(!next)break;interestingNode(state,next,bracketProp)?pos=next:at2=forward?next.to:next.from}let bracket2=pos.type.prop(bracketProp),match2,newPos;return bracket2&&(match2=forward?matchBrackets(state,pos.from,1):matchBrackets(state,pos.to,-1))&&match2.matched?newPos=forward?match2.end.to:match2.end.from:newPos=forward?pos.to:pos.from,EditorSelection.cursor(newPos,forward?-1:1)}const cursorSyntaxLeft=view=>moveSel(view,range=>moveBySyntax(view.state,range,!ltrAtCursor(view))),cursorSyntaxRight=view=>moveSel(view,range=>moveBySyntax(view.state,range,ltrAtCursor(view)));function cursorByLine(view,forward){return moveSel(view,range=>{if(!range.empty)return rangeEnd(range,forward);let moved=view.moveVertically(range,forward);return moved.head!=range.head?moved:view.moveToLineBoundary(range,forward)})}const cursorLineUp=view=>cursorByLine(view,!1),cursorLineDown=view=>cursorByLine(view,!0);function pageInfo(view){let selfScroll=view.scrollDOM.clientHeight<view.scrollDOM.scrollHeight-2,marginTop=0,marginBottom=0,height;if(selfScroll){for(let source of view.state.facet(EditorView.scrollMargins)){let margins=source(view);margins?.top&&(marginTop=Math.max(margins?.top,marginTop)),margins?.bottom&&(marginBottom=Math.max(margins?.bottom,marginBottom))}height=view.scrollDOM.clientHeight-marginTop-marginBottom}else height=(view.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop,marginBottom,selfScroll,height:Math.max(view.defaultLineHeight,height-5)}}function cursorByPage(view,forward){let page=pageInfo(view),{state}=view,selection=updateSel(state.selection,range=>range.empty?view.moveVertically(range,forward,page.height):rangeEnd(range,forward));if(selection.eq(state.selection))return!1;let effect;if(page.selfScroll){let startPos=view.coordsAtPos(state.selection.main.head),scrollRect=view.scrollDOM.getBoundingClientRect(),scrollTop=scrollRect.top+page.marginTop,scrollBottom=scrollRect.bottom-page.marginBottom;startPos&&startPos.top>scrollTop&&startPos.bottom<scrollBottom&&(effect=EditorView.scrollIntoView(selection.main.head,{y:"start",yMargin:startPos.top-scrollTop}))}return view.dispatch(setSel(state,selection),{effects:effect}),!0}const cursorPageUp=view=>cursorByPage(view,!1),cursorPageDown=view=>cursorByPage(view,!0);function moveByLineBoundary(view,start,forward){let line=view.lineBlockAt(start.head),moved=view.moveToLineBoundary(start,forward);if(moved.head==start.head&&moved.head!=(forward?line.to:line.from)&&(moved=view.moveToLineBoundary(start,forward,!1)),!forward&&moved.head==line.from&&line.length){let space2=/^\s*/.exec(view.state.sliceDoc(line.from,Math.min(line.from+100,line.to)))[0].length;space2&&start.head!=line.from+space2&&(moved=EditorSelection.cursor(line.from+space2))}return moved}const cursorLineBoundaryForward=view=>moveSel(view,range=>moveByLineBoundary(view,range,!0)),cursorLineBoundaryBackward=view=>moveSel(view,range=>moveByLineBoundary(view,range,!1)),cursorLineBoundaryLeft=view=>moveSel(view,range=>moveByLineBoundary(view,range,!ltrAtCursor(view))),cursorLineBoundaryRight=view=>moveSel(view,range=>moveByLineBoundary(view,range,ltrAtCursor(view))),cursorLineStart=view=>moveSel(view,range=>EditorSelection.cursor(view.lineBlockAt(range.head).from,1)),cursorLineEnd=view=>moveSel(view,range=>EditorSelection.cursor(view.lineBlockAt(range.head).to,-1));function toMatchingBracket(state,dispatch,extend){let found=!1,selection=updateSel(state.selection,range=>{let matching=matchBrackets(state,range.head,-1)||matchBrackets(state,range.head,1)||range.head>0&&matchBrackets(state,range.head-1,1)||range.head<state.doc.length&&matchBrackets(state,range.head+1,-1);if(!matching||!matching.end)return range;found=!0;let head=matching.start.from==range.head?matching.end.to:matching.end.from;return extend?EditorSelection.range(range.anchor,head):EditorSelection.cursor(head)});return found?(dispatch(setSel(state,selection)),!0):!1}const cursorMatchingBracket=({state,dispatch})=>toMatchingBracket(state,dispatch,!1);function extendSel(target,how){let selection=updateSel(target.state.selection,range=>{let head=how(range);return EditorSelection.range(range.anchor,head.head,head.goalColumn,head.bidiLevel||void 0)});return selection.eq(target.state.selection)?!1:(target.dispatch(setSel(target.state,selection)),!0)}function selectByChar(view,forward){return extendSel(view,range=>view.moveByChar(range,forward))}const selectCharLeft=view=>selectByChar(view,!ltrAtCursor(view)),selectCharRight=view=>selectByChar(view,ltrAtCursor(view));function selectByGroup(view,forward){return extendSel(view,range=>view.moveByGroup(range,forward))}const selectGroupLeft=view=>selectByGroup(view,!ltrAtCursor(view)),selectGroupRight=view=>selectByGroup(view,ltrAtCursor(view)),selectSyntaxLeft=view=>extendSel(view,range=>moveBySyntax(view.state,range,!ltrAtCursor(view))),selectSyntaxRight=view=>extendSel(view,range=>moveBySyntax(view.state,range,ltrAtCursor(view)));function selectByLine(view,forward){return extendSel(view,range=>view.moveVertically(range,forward))}const selectLineUp=view=>selectByLine(view,!1),selectLineDown=view=>selectByLine(view,!0);function selectByPage(view,forward){return extendSel(view,range=>view.moveVertically(range,forward,pageInfo(view).height))}const selectPageUp=view=>selectByPage(view,!1),selectPageDown=view=>selectByPage(view,!0),selectLineBoundaryForward=view=>extendSel(view,range=>moveByLineBoundary(view,range,!0)),selectLineBoundaryBackward=view=>extendSel(view,range=>moveByLineBoundary(view,range,!1)),selectLineBoundaryLeft=view=>extendSel(view,range=>moveByLineBoundary(view,range,!ltrAtCursor(view))),selectLineBoundaryRight=view=>extendSel(view,range=>moveByLineBoundary(view,range,ltrAtCursor(view))),selectLineStart=view=>extendSel(view,range=>EditorSelection.cursor(view.lineBlockAt(range.head).from)),selectLineEnd=view=>extendSel(view,range=>EditorSelection.cursor(view.lineBlockAt(range.head).to)),cursorDocStart=({state,dispatch})=>(dispatch(setSel(state,{anchor:0})),!0),cursorDocEnd=({state,dispatch})=>(dispatch(setSel(state,{anchor:state.doc.length})),!0),selectDocStart=({state,dispatch})=>(dispatch(setSel(state,{anchor:state.selection.main.anchor,head:0})),!0),selectDocEnd=({state,dispatch})=>(dispatch(setSel(state,{anchor:state.selection.main.anchor,head:state.doc.length})),!0),selectAll=({state,dispatch})=>(dispatch(state.update({selection:{anchor:0,head:state.doc.length},userEvent:"select"})),!0),selectLine=({state,dispatch})=>{let ranges=selectedLineBlocks(state).map(({from,to})=>EditorSelection.range(from,Math.min(to+1,state.doc.length)));return dispatch(state.update({selection:EditorSelection.create(ranges),userEvent:"select"})),!0},selectParentSyntax=({state,dispatch})=>{let selection=updateSel(state.selection,range=>{let tree=syntaxTree(state),stack=tree.resolveStack(range.from,1);if(range.empty){let stackBefore=tree.resolveStack(range.from,-1);stackBefore.node.from>=stack.node.from&&stackBefore.node.to<=stack.node.to&&(stack=stackBefore)}for(let cur2=stack;cur2;cur2=cur2.next){let{node}=cur2;if((node.from<range.from&&node.to>=range.to||node.to>range.to&&node.from<=range.from)&&cur2.next)return EditorSelection.range(node.to,node.from)}return range});return selection.eq(state.selection)?!1:(dispatch(setSel(state,selection)),!0)};function addCursorVertically(view,forward){let{state}=view,sel=state.selection,ranges=state.selection.ranges.slice();for(let range of state.selection.ranges){let line=state.doc.lineAt(range.head);if(forward?line.to<view.state.doc.length:line.from>0)for(let cur2=range;;){let next=view.moveVertically(cur2,forward);if(next.head<line.from||next.head>line.to){ranges.some(r2=>r2.head==next.head)||ranges.push(next);break}else{if(next.head==cur2.head)break;cur2=next}}}return ranges.length==sel.ranges.length?!1:(view.dispatch(setSel(state,EditorSelection.create(ranges,ranges.length-1))),!0)}const addCursorAbove=view=>addCursorVertically(view,!1),addCursorBelow=view=>addCursorVertically(view,!0),simplifySelection=({state,dispatch})=>{let cur2=state.selection,selection=null;return cur2.ranges.length>1?selection=EditorSelection.create([cur2.main]):cur2.main.empty||(selection=EditorSelection.create([EditorSelection.cursor(cur2.main.head)])),selection?(dispatch(setSel(state,selection)),!0):!1};function deleteBy(target,by){if(target.state.readOnly)return!1;let event="delete.selection",{state}=target,changes=state.changeByRange(range=>{let{from,to}=range;if(from==to){let towards=by(range);towards<from?(event="delete.backward",towards=skipAtomic(target,towards,!1)):towards>from&&(event="delete.forward",towards=skipAtomic(target,towards,!0)),from=Math.min(from,towards),to=Math.max(to,towards)}else from=skipAtomic(target,from,!1),to=skipAtomic(target,to,!0);return from==to?{range}:{changes:{from,to},range:EditorSelection.cursor(from,from<range.head?-1:1)}});return changes.changes.empty?!1:(target.dispatch(state.update(changes,{scrollIntoView:!0,userEvent:event,effects:event=="delete.selection"?EditorView.announce.of(state.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(target,pos,forward){if(target instanceof EditorView)for(let ranges of target.state.facet(EditorView.atomicRanges).map(f2=>f2(target)))ranges.between(pos,pos,(from,to)=>{from<pos&&to>pos&&(pos=forward?to:from)});return pos}const deleteByChar=(target,forward,byIndentUnit)=>deleteBy(target,range=>{let pos=range.from,{state}=target,line=state.doc.lineAt(pos),before,targetPos;if(byIndentUnit&&!forward&&pos>line.from&&pos<line.from+200&&!/[^ \t]/.test(before=line.text.slice(0,pos-line.from))){if(before[before.length-1]=="	")return pos-1;let col=countColumn(before,state.tabSize),drop=col%getIndentUnit(state)||getIndentUnit(state);for(let i=0;i<drop&&before[before.length-1-i]==" ";i++)pos--;targetPos=pos}else targetPos=findClusterBreak(line.text,pos-line.from,forward,forward)+line.from,targetPos==pos&&line.number!=(forward?state.doc.lines:1)?targetPos+=forward?1:-1:!forward&&/[\ufe00-\ufe0f]/.test(line.text.slice(targetPos-line.from,pos-line.from))&&(targetPos=findClusterBreak(line.text,targetPos-line.from,!1,!1)+line.from);return targetPos}),deleteCharBackward=view=>deleteByChar(view,!1,!0),deleteCharForward=view=>deleteByChar(view,!0,!1),deleteByGroup=(target,forward)=>deleteBy(target,range=>{let pos=range.head,{state}=target,line=state.doc.lineAt(pos),categorize=state.charCategorizer(pos);for(let cat=null;;){if(pos==(forward?line.to:line.from)){pos==range.head&&line.number!=(forward?state.doc.lines:1)&&(pos+=forward?1:-1);break}let next=findClusterBreak(line.text,pos-line.from,forward)+line.from,nextChar=line.text.slice(Math.min(pos,next)-line.from,Math.max(pos,next)-line.from),nextCat=categorize(nextChar);if(cat!=null&&nextCat!=cat)break;(nextChar!=" "||pos!=range.head)&&(cat=nextCat),pos=next}return pos}),deleteGroupBackward=target=>deleteByGroup(target,!1),deleteGroupForward=target=>deleteByGroup(target,!0),deleteToLineEnd=view=>deleteBy(view,range=>{let lineEnd2=view.lineBlockAt(range.head).to;return range.head<lineEnd2?lineEnd2:Math.min(view.state.doc.length,range.head+1)}),deleteLineBoundaryBackward=view=>deleteBy(view,range=>{let lineStart=view.moveToLineBoundary(range,!1).head;return range.head>lineStart?lineStart:Math.max(0,range.head-1)}),deleteLineBoundaryForward=view=>deleteBy(view,range=>{let lineStart=view.moveToLineBoundary(range,!0).head;return range.head<lineStart?lineStart:Math.min(view.state.doc.length,range.head+1)}),splitLine=({state,dispatch})=>{if(state.readOnly)return!1;let changes=state.changeByRange(range=>({changes:{from:range.from,to:range.to,insert:Text.of(["",""])},range:EditorSelection.cursor(range.from)}));return dispatch(state.update(changes,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state,dispatch})=>{if(state.readOnly)return!1;let changes=state.changeByRange(range=>{if(!range.empty||range.from==0||range.from==state.doc.length)return{range};let pos=range.from,line=state.doc.lineAt(pos),from=pos==line.from?pos-1:findClusterBreak(line.text,pos-line.from,!1)+line.from,to=pos==line.to?pos+1:findClusterBreak(line.text,pos-line.from,!0)+line.from;return{changes:{from,to,insert:state.doc.slice(pos,to).append(state.doc.slice(from,pos))},range:EditorSelection.cursor(to)}});return changes.changes.empty?!1:(dispatch(state.update(changes,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(state){let blocks=[],upto=-1;for(let range of state.selection.ranges){let startLine=state.doc.lineAt(range.from),endLine=state.doc.lineAt(range.to);if(!range.empty&&range.to==endLine.from&&(endLine=state.doc.lineAt(range.to-1)),upto>=startLine.number){let prev=blocks[blocks.length-1];prev.to=endLine.to,prev.ranges.push(range)}else blocks.push({from:startLine.from,to:endLine.to,ranges:[range]});upto=endLine.number+1}return blocks}function moveLine(state,dispatch,forward){if(state.readOnly)return!1;let changes=[],ranges=[];for(let block2 of selectedLineBlocks(state)){if(forward?block2.to==state.doc.length:block2.from==0)continue;let nextLine=state.doc.lineAt(forward?block2.to+1:block2.from-1),size=nextLine.length+1;if(forward){changes.push({from:block2.to,to:nextLine.to},{from:block2.from,insert:nextLine.text+state.lineBreak});for(let r2 of block2.ranges)ranges.push(EditorSelection.range(Math.min(state.doc.length,r2.anchor+size),Math.min(state.doc.length,r2.head+size)))}else{changes.push({from:nextLine.from,to:block2.from},{from:block2.to,insert:state.lineBreak+nextLine.text});for(let r2 of block2.ranges)ranges.push(EditorSelection.range(r2.anchor-size,r2.head-size))}}return changes.length?(dispatch(state.update({changes,scrollIntoView:!0,selection:EditorSelection.create(ranges,state.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state,dispatch})=>moveLine(state,dispatch,!1),moveLineDown=({state,dispatch})=>moveLine(state,dispatch,!0);function copyLine(state,dispatch,forward){if(state.readOnly)return!1;let changes=[];for(let block2 of selectedLineBlocks(state))forward?changes.push({from:block2.from,insert:state.doc.slice(block2.from,block2.to)+state.lineBreak}):changes.push({from:block2.to,insert:state.lineBreak+state.doc.slice(block2.from,block2.to)});return dispatch(state.update({changes,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state,dispatch})=>copyLine(state,dispatch,!1),copyLineDown=({state,dispatch})=>copyLine(state,dispatch,!0),deleteLine=view=>{if(view.state.readOnly)return!1;let{state}=view,changes=state.changes(selectedLineBlocks(state).map(({from,to})=>(from>0?from--:to<state.doc.length&&to++,{from,to}))),selection=updateSel(state.selection,range=>{let dist2;if(view.lineWrapping){let block2=view.lineBlockAt(range.head),pos=view.coordsAtPos(range.head,range.assoc||1);pos&&(dist2=block2.bottom+view.documentTop-pos.bottom+view.defaultLineHeight/2)}return view.moveVertically(range,!0,dist2)}).map(changes);return view.dispatch({changes,selection,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(state,pos){if(/\(\)|\[\]|\{\}/.test(state.sliceDoc(pos-1,pos+1)))return{from:pos,to:pos};let context=syntaxTree(state).resolveInner(pos),before=context.childBefore(pos),after=context.childAfter(pos),closedBy;return before&&after&&before.to<=pos&&after.from>=pos&&(closedBy=before.type.prop(NodeProp.closedBy))&&closedBy.indexOf(after.name)>-1&&state.doc.lineAt(before.to).from==state.doc.lineAt(after.from).from&&!/\S/.test(state.sliceDoc(before.to,after.from))?{from:before.to,to:after.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(atEof){return({state,dispatch})=>{if(state.readOnly)return!1;let changes=state.changeByRange(range=>{let{from,to}=range,line=state.doc.lineAt(from),explode=!atEof&&from==to&&isBetweenBrackets(state,from);atEof&&(from=to=(to<=line.to?line:state.doc.lineAt(to)).to);let cx=new IndentContext(state,{simulateBreak:from,simulateDoubleBreak:!!explode}),indent=getIndentation(cx,from);for(indent==null&&(indent=countColumn(/^\s*/.exec(state.doc.lineAt(from).text)[0],state.tabSize));to<line.to&&/\s/.test(line.text[to-line.from]);)to++;explode?{from,to}=explode:from>line.from&&from<line.from+100&&!/\S/.test(line.text.slice(0,from))&&(from=line.from);let insert2=["",indentString(state,indent)];return explode&&insert2.push(indentString(state,cx.lineIndent(line.from,-1))),{changes:{from,to,insert:Text.of(insert2)},range:EditorSelection.cursor(from+1+insert2[1].length)}});return dispatch(state.update(changes,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(state,f2){let atLine=-1;return state.changeByRange(range=>{let changes=[];for(let pos=range.from;pos<=range.to;){let line=state.doc.lineAt(pos);line.number>atLine&&(range.empty||range.to>line.from)&&(f2(line,changes,range),atLine=line.number),pos=line.to+1}let changeSet=state.changes(changes);return{changes,range:EditorSelection.range(changeSet.mapPos(range.anchor,1),changeSet.mapPos(range.head,1))}})}const indentSelection=({state,dispatch})=>{if(state.readOnly)return!1;let updated=Object.create(null),context=new IndentContext(state,{overrideIndentation:start=>{let found=updated[start];return found??-1}}),changes=changeBySelectedLine(state,(line,changes2,range)=>{let indent=getIndentation(context,line.from);if(indent==null)return;/\S/.test(line.text)||(indent=0);let cur2=/^\s*/.exec(line.text)[0],norm=indentString(state,indent);(cur2!=norm||range.from<line.from+cur2.length)&&(updated[line.from]=indent,changes2.push({from:line.from,to:line.from+cur2.length,insert:norm}))});return changes.changes.empty||dispatch(state.update(changes,{userEvent:"indent"})),!0},indentMore=({state,dispatch})=>state.readOnly?!1:(dispatch(state.update(changeBySelectedLine(state,(line,changes)=>{changes.push({from:line.from,insert:state.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state,dispatch})=>state.readOnly?!1:(dispatch(state.update(changeBySelectedLine(state,(line,changes)=>{let space2=/^\s*/.exec(line.text)[0];if(!space2)return;let col=countColumn(space2,state.tabSize),keep=0,insert2=indentString(state,Math.max(0,col-getIndentUnit(state)));for(;keep<space2.length&&keep<insert2.length&&space2.charCodeAt(keep)==insert2.charCodeAt(keep);)keep++;changes.push({from:line.from+keep,to:line.from+space2.length,insert:insert2.slice(keep)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=view=>(view.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward,preventDefault:!0},{key:"Delete",run:deleteCharForward,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward,preventDefault:!0},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward,preventDefault:!0},{mac:"Mod-Delete",run:deleteLineBoundaryForward,preventDefault:!0}].concat(emacsStyleKeymap.map(b2=>({mac:b2.key,run:b2.run,shift:b2.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Mod-Alt-ArrowUp",run:addCursorAbove},{key:"Mod-Alt-ArrowDown",run:addCursorBelow},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};class CompletionContext{constructor(state,pos,explicit,view){this.state=state,this.pos=pos,this.explicit=explicit,this.view=view,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(types2){let token=syntaxTree(this.state).resolveInner(this.pos,-1);for(;token&&types2.indexOf(token.name)<0;)token=token.parent;return token?{from:token.from,to:this.pos,text:this.state.sliceDoc(token.from,this.pos),type:token.type}:null}matchBefore(expr){let line=this.state.doc.lineAt(this.pos),start=Math.max(line.from,this.pos-250),str=line.text.slice(start-line.from,this.pos-line.from),found=str.search(ensureAnchor(expr,!1));return found<0?null:{from:start+found,to:this.pos,text:str.slice(found)}}get aborted(){return this.abortListeners==null}addEventListener(type,listener,options){type=="abort"&&this.abortListeners&&(this.abortListeners.push(listener),options&&options.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(chars){let flat=Object.keys(chars).join(""),words=/\w/.test(flat);return words&&(flat=flat.replace(/\w/g,"")),`[${words?"\\w":""}${flat.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(options){let first=Object.create(null),rest=Object.create(null);for(let{label}of options){first[label[0]]=!0;for(let i=1;i<label.length;i++)rest[label[i]]=!0}let source=toSet(first)+toSet(rest)+"*$";return[new RegExp("^"+source),new RegExp(source)]}function completeFromList(list2){let options=list2.map(o2=>typeof o2=="string"?{label:o2}:o2),[validFor,match2]=options.every(o2=>/^\w+$/.test(o2.label))?[/\w*$/,/\w+$/]:prefixMatch(options);return context=>{let token=context.matchBefore(match2);return token||context.explicit?{from:token?token.from:context.pos,options,validFor}:null}}function ifNotIn(nodes,source){return context=>{for(let pos=syntaxTree(context.state).resolveInner(context.pos,-1);pos;pos=pos.parent){if(nodes.indexOf(pos.name)>-1)return null;if(pos.type.isTop)break}return source(context)}}class Option{constructor(completion,source,match2,score2){this.completion=completion,this.source=source,this.match=match2,this.score=score2}}function cur(state){return state.selection.main.from}function ensureAnchor(expr,start){var _a4;let{source}=expr,addStart=start&&source[0]!="^",addEnd=source[source.length-1]!="$";return!addStart&&!addEnd?expr:new RegExp(`${addStart?"^":""}(?:${source})${addEnd?"$":""}`,(_a4=expr.flags)!==null&&_a4!==void 0?_a4:expr.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(state,text2,from,to){let{main}=state.selection,fromOff=from-main.from,toOff=to-main.from;return{...state.changeByRange(range=>{if(range!=main&&from!=to&&state.sliceDoc(range.from+fromOff,range.from+toOff)!=state.sliceDoc(from,to))return{range};let lines=state.toText(text2);return{changes:{from:range.from+fromOff,to:to==main.from?range.to:range.from+toOff,insert:lines},range:EditorSelection.cursor(range.from+fromOff+lines.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const SourceCache=new WeakMap;function asSource(source){if(!Array.isArray(source))return source;let known=SourceCache.get(source);return known||SourceCache.set(source,known=completeFromList(source)),known}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(pattern){this.pattern=pattern,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let p2=0;p2<pattern.length;){let char=codePointAt(pattern,p2),size=codePointSize(char);this.chars.push(char);let part=pattern.slice(p2,p2+size),upper=part.toUpperCase();this.folded.push(codePointAt(upper==part?part.toLowerCase():upper,0)),p2+=size}this.astral=pattern.length!=this.chars.length}ret(score2,matched){return this.score=score2,this.matched=matched,this}match(word){if(this.pattern.length==0)return this.ret(-100,[]);if(word.length<this.pattern.length)return null;let{chars,folded,any,precise,byWord}=this;if(chars.length==1){let first=codePointAt(word,0),firstSize=codePointSize(first),score2=firstSize==word.length?0:-100;if(first!=chars[0])if(first==folded[0])score2+=-200;else return null;return this.ret(score2,[0,firstSize])}let direct=word.indexOf(this.pattern);if(direct==0)return this.ret(word.length==this.pattern.length?0:-100,[0,this.pattern.length]);let len=chars.length,anyTo=0;if(direct<0){for(let i=0,e2=Math.min(word.length,200);i<e2&&anyTo<len;){let next=codePointAt(word,i);(next==chars[anyTo]||next==folded[anyTo])&&(any[anyTo++]=i),i+=codePointSize(next)}if(anyTo<len)return null}let preciseTo=0,byWordTo=0,byWordFolded=!1,adjacentTo=0,adjacentStart=-1,adjacentEnd=-1,hasLower=/[a-z]/.test(word),wordAdjacent=!0;for(let i=0,e2=Math.min(word.length,200),prevType=0;i<e2&&byWordTo<len;){let next=codePointAt(word,i);direct<0&&(preciseTo<len&&next==chars[preciseTo]&&(precise[preciseTo++]=i),adjacentTo<len&&(next==chars[adjacentTo]||next==folded[adjacentTo]?(adjacentTo==0&&(adjacentStart=i),adjacentEnd=i+1,adjacentTo++):adjacentTo=0));let ch,type=next<255?next>=48&&next<=57||next>=97&&next<=122?2:next>=65&&next<=90?1:0:(ch=fromCodePoint(next))!=ch.toLowerCase()?1:ch!=ch.toUpperCase()?2:0;(!i||type==1&&hasLower||prevType==0&&type!=0)&&(chars[byWordTo]==next||folded[byWordTo]==next&&(byWordFolded=!0)?byWord[byWordTo++]=i:byWord.length&&(wordAdjacent=!1)),prevType=type,i+=codePointSize(next)}return byWordTo==len&&byWord[0]==0&&wordAdjacent?this.result(-100+(byWordFolded?-200:0),byWord,word):adjacentTo==len&&adjacentStart==0?this.ret(-200-word.length+(adjacentEnd==word.length?0:-100),[0,adjacentEnd]):direct>-1?this.ret(-700-word.length,[direct,direct+this.pattern.length]):adjacentTo==len?this.ret(-200+-700-word.length,[adjacentStart,adjacentEnd]):byWordTo==len?this.result(-100+(byWordFolded?-200:0)+-700+(wordAdjacent?0:-1100),byWord,word):chars.length==2?null:this.result((any[0]?-700:0)+-200+-1100,any,word)}result(score2,positions,word){let result=[],i=0;for(let pos of positions){let to=pos+(this.astral?codePointSize(codePointAt(word,pos)):1);i&&result[i-1]==pos?result[i-1]=to:(result[i++]=pos,result[i++]=to)}return this.ret(score2-word.length,result)}}class StrictMatcher{constructor(pattern){this.pattern=pattern,this.matched=[],this.score=0,this.folded=pattern.toLowerCase()}match(word){if(word.length<this.pattern.length)return null;let start=word.slice(0,this.pattern.length),match2=start==this.pattern?0:start.toLowerCase()==this.folded?-200:null;return match2==null?null:(this.matched=[0,start.length],this.score=match2+(word.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(configs){return combineConfig(configs,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(a2,b2)=>a2.label.localeCompare(b2.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(a2,b2)=>a2&&b2,closeOnBlur:(a2,b2)=>a2&&b2,icons:(a2,b2)=>a2&&b2,tooltipClass:(a2,b2)=>c2=>joinClass(a2(c2),b2(c2)),optionClass:(a2,b2)=>c2=>joinClass(a2(c2),b2(c2)),addToOptions:(a2,b2)=>a2.concat(b2),filterStrict:(a2,b2)=>a2||b2})}});function joinClass(a2,b2){return a2?b2?a2+" "+b2:a2:b2}function defaultPositionInfo(view,list2,option,info,space2,tooltip){let rtl=view.textDirection==Direction.RTL,left=rtl,narrow=!1,side="top",offset,maxWidth,spaceLeft=list2.left-space2.left,spaceRight=space2.right-list2.right,infoWidth=info.right-info.left,infoHeight=info.bottom-info.top;if(left&&spaceLeft<Math.min(infoWidth,spaceRight)?left=!1:!left&&spaceRight<Math.min(infoWidth,spaceLeft)&&(left=!0),infoWidth<=(left?spaceLeft:spaceRight))offset=Math.max(space2.top,Math.min(option.top,space2.bottom-infoHeight))-list2.top,maxWidth=Math.min(400,left?spaceLeft:spaceRight);else{narrow=!0,maxWidth=Math.min(400,(rtl?list2.right:space2.right-list2.left)-30);let spaceBelow=space2.bottom-list2.bottom;spaceBelow>=infoHeight||spaceBelow>list2.top?offset=option.bottom-list2.top:(side="bottom",offset=list2.bottom-option.top)}let scaleY=(list2.bottom-list2.top)/tooltip.offsetHeight,scaleX=(list2.right-list2.left)/tooltip.offsetWidth;return{style:`${side}: ${offset/scaleY}px; max-width: ${maxWidth/scaleX}px`,class:"cm-completionInfo-"+(narrow?rtl?"left-narrow":"right-narrow":left?"left":"right")}}function optionContent(config2){let content2=config2.addToOptions.slice();return config2.icons&&content2.push({render(completion){let icon=document.createElement("div");return icon.classList.add("cm-completionIcon"),completion.type&&icon.classList.add(...completion.type.split(/\s+/g).map(cls=>"cm-completionIcon-"+cls)),icon.setAttribute("aria-hidden","true"),icon},position:20}),content2.push({render(completion,_s,_v,match2){let labelElt=document.createElement("span");labelElt.className="cm-completionLabel";let label=completion.displayLabel||completion.label,off=0;for(let j2=0;j2<match2.length;){let from=match2[j2++],to=match2[j2++];from>off&&labelElt.appendChild(document.createTextNode(label.slice(off,from)));let span=labelElt.appendChild(document.createElement("span"));span.appendChild(document.createTextNode(label.slice(from,to))),span.className="cm-completionMatchedText",off=to}return off<label.length&&labelElt.appendChild(document.createTextNode(label.slice(off))),labelElt},position:50},{render(completion){if(!completion.detail)return null;let detailElt=document.createElement("span");return detailElt.className="cm-completionDetail",detailElt.textContent=completion.detail,detailElt},position:80}),content2.sort((a2,b2)=>a2.position-b2.position).map(a2=>a2.render)}function rangeAroundSelected(total,selected,max){if(total<=max)return{from:0,to:total};if(selected<0&&(selected=0),selected<=total>>1){let off2=Math.floor(selected/max);return{from:off2*max,to:(off2+1)*max}}let off=Math.floor((total-selected)/max);return{from:total-(off+1)*max,to:total-off*max}}class CompletionTooltip{constructor(view,stateField,applyCompletion2){this.view=view,this.stateField=stateField,this.applyCompletion=applyCompletion2,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:pos=>this.placeInfo(pos),key:this},this.space=null,this.currentClass="";let cState=view.state.field(stateField),{options,selected}=cState.open,config2=view.state.facet(completionConfig);this.optionContent=optionContent(config2),this.optionClass=config2.optionClass,this.tooltipClass=config2.tooltipClass,this.range=rangeAroundSelected(options.length,selected,config2.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(view.state),this.dom.addEventListener("mousedown",e2=>{let{options:options2}=view.state.field(stateField).open;for(let dom=e2.target,match2;dom&&dom!=this.dom;dom=dom.parentNode)if(dom.nodeName=="LI"&&(match2=/-(\d+)$/.exec(dom.id))&&+match2[1]<options2.length){this.applyCompletion(view,options2[+match2[1]]),e2.preventDefault();return}}),this.dom.addEventListener("focusout",e2=>{let state=view.state.field(this.stateField,!1);state&&state.tooltip&&view.state.facet(completionConfig).closeOnBlur&&e2.relatedTarget!=view.contentDOM&&view.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(options,cState.id)}mount(){this.updateSel()}showOptions(options,id2){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(options,id2,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(update){var _a4;let cState=update.state.field(this.stateField),prevState=update.startState.field(this.stateField);if(this.updateTooltipClass(update.state),cState!=prevState){let{options,selected,disabled}=cState.open;(!prevState.open||prevState.open.options!=options)&&(this.range=rangeAroundSelected(options.length,selected,update.state.facet(completionConfig).maxRenderedOptions),this.showOptions(options,cState.id)),this.updateSel(),disabled!=((_a4=prevState.open)===null||_a4===void 0?void 0:_a4.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!disabled)}}updateTooltipClass(state){let cls=this.tooltipClass(state);if(cls!=this.currentClass){for(let c2 of this.currentClass.split(" "))c2&&this.dom.classList.remove(c2);for(let c2 of cls.split(" "))c2&&this.dom.classList.add(c2);this.currentClass=cls}}positioned(space2){this.space=space2,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let cState=this.view.state.field(this.stateField),open=cState.open;(open.selected>-1&&open.selected<this.range.from||open.selected>=this.range.to)&&(this.range=rangeAroundSelected(open.options.length,open.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(open.options,cState.id));let newSel=this.updateSelectedOption(open.selected);if(newSel){this.destroyInfo();let{completion}=open.options[open.selected],{info}=completion;if(!info)return;let infoResult=typeof info=="string"?document.createTextNode(info):info(completion);if(!infoResult)return;"then"in infoResult?infoResult.then(obj=>{obj&&this.view.state.field(this.stateField,!1)==cState&&this.addInfoPane(obj,completion)}).catch(e2=>logException(this.view.state,e2,"completion info")):(this.addInfoPane(infoResult,completion),newSel.setAttribute("aria-describedby",this.info.id))}}addInfoPane(content2,completion){this.destroyInfo();let wrap=this.info=document.createElement("div");if(wrap.className="cm-tooltip cm-completionInfo",wrap.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),content2.nodeType!=null)wrap.appendChild(content2),this.infoDestroy=null;else{let{dom,destroy}=content2;wrap.appendChild(dom),this.infoDestroy=destroy||null}this.dom.appendChild(wrap),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(selected){let set2=null;for(let opt=this.list.firstChild,i=this.range.from;opt;opt=opt.nextSibling,i++)opt.nodeName!="LI"||!opt.id?i--:i==selected?opt.hasAttribute("aria-selected")||(opt.setAttribute("aria-selected","true"),set2=opt):opt.hasAttribute("aria-selected")&&(opt.removeAttribute("aria-selected"),opt.removeAttribute("aria-describedby"));return set2&&scrollIntoView(this.list,set2),set2}measureInfo(){let sel=this.dom.querySelector("[aria-selected]");if(!sel||!this.info)return null;let listRect=this.dom.getBoundingClientRect(),infoRect=this.info.getBoundingClientRect(),selRect=sel.getBoundingClientRect(),space2=this.space;if(!space2){let docElt=this.dom.ownerDocument.documentElement;space2={left:0,top:0,right:docElt.clientWidth,bottom:docElt.clientHeight}}return selRect.top>Math.min(space2.bottom,listRect.bottom)-10||selRect.bottom<Math.max(space2.top,listRect.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,listRect,selRect,infoRect,space2,this.dom)}placeInfo(pos){this.info&&(pos?(pos.style&&(this.info.style.cssText=pos.style),this.info.className="cm-tooltip cm-completionInfo "+(pos.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(options,id2,range){const ul2=document.createElement("ul");ul2.id=id2,ul2.setAttribute("role","listbox"),ul2.setAttribute("aria-expanded","true"),ul2.setAttribute("aria-label",this.view.state.phrase("Completions")),ul2.addEventListener("mousedown",e2=>{e2.target==ul2&&e2.preventDefault()});let curSection=null;for(let i=range.from;i<range.to;i++){let{completion,match:match2}=options[i],{section}=completion;if(section){let name2=typeof section=="string"?section:section.name;if(name2!=curSection&&(i>range.from||range.from==0))if(curSection=name2,typeof section!="string"&&section.header)ul2.appendChild(section.header(section));else{let header=ul2.appendChild(document.createElement("completion-section"));header.textContent=name2}}const li=ul2.appendChild(document.createElement("li"));li.id=id2+"-"+i,li.setAttribute("role","option");let cls=this.optionClass(completion);cls&&(li.className=cls);for(let source of this.optionContent){let node=source(completion,this.view.state,this.view,match2);node&&li.appendChild(node)}}return range.from&&ul2.classList.add("cm-completionListIncompleteTop"),range.to<options.length&&ul2.classList.add("cm-completionListIncompleteBottom"),ul2}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(stateField,applyCompletion2){return view=>new CompletionTooltip(view,stateField,applyCompletion2)}function scrollIntoView(container,element){let parent=container.getBoundingClientRect(),self2=element.getBoundingClientRect(),scaleY=parent.height/container.offsetHeight;self2.top<parent.top?container.scrollTop-=(parent.top-self2.top)/scaleY:self2.bottom>parent.bottom&&(container.scrollTop+=(self2.bottom-parent.bottom)/scaleY)}function score(option){return(option.boost||0)*100+(option.apply?10:0)+(option.info?5:0)+(option.type?1:0)}function sortOptions(active,state){let options=[],sections=null,dynamicSectionScore=null,addOption=option=>{options.push(option);let{section}=option.completion;if(section){sections||(sections=[]);let name2=typeof section=="string"?section:section.name;sections.some(s2=>s2.name==name2)||sections.push(typeof section=="string"?{name:name2}:section)}},conf=state.facet(completionConfig);for(let a2 of active)if(a2.hasResult()){let getMatch=a2.result.getMatch;if(a2.result.filter===!1)for(let option of a2.result.options)addOption(new Option(option,a2.source,getMatch?getMatch(option):[],1e9-options.length));else{let pattern=state.sliceDoc(a2.from,a2.to),match2,matcher=conf.filterStrict?new StrictMatcher(pattern):new FuzzyMatcher(pattern);for(let option of a2.result.options)if(match2=matcher.match(option.label)){let matched=option.displayLabel?getMatch?getMatch(option,match2.matched):[]:match2.matched,score2=match2.score+(option.boost||0);if(addOption(new Option(option,a2.source,matched,score2)),typeof option.section=="object"&&option.section.rank==="dynamic"){let{name:name2}=option.section;dynamicSectionScore||(dynamicSectionScore=Object.create(null)),dynamicSectionScore[name2]=Math.max(score2,dynamicSectionScore[name2]||-1e9)}}}}if(sections){let sectionOrder=Object.create(null),pos=0,cmp=(a2,b2)=>(a2.rank==="dynamic"&&b2.rank==="dynamic"?dynamicSectionScore[b2.name]-dynamicSectionScore[a2.name]:0)||(typeof a2.rank=="number"?a2.rank:1e9)-(typeof b2.rank=="number"?b2.rank:1e9)||(a2.name<b2.name?-1:1);for(let s2 of sections.sort(cmp))pos-=1e5,sectionOrder[s2.name]=pos;for(let option of options){let{section}=option.completion;section&&(option.score+=sectionOrder[typeof section=="string"?section:section.name])}}let result=[],prev=null,compare2=conf.compareCompletions;for(let opt of options.sort((a2,b2)=>b2.score-a2.score||compare2(a2.completion,b2.completion))){let cur2=opt.completion;!prev||prev.label!=cur2.label||prev.detail!=cur2.detail||prev.type!=null&&cur2.type!=null&&prev.type!=cur2.type||prev.apply!=cur2.apply||prev.boost!=cur2.boost?result.push(opt):score(opt.completion)>score(prev)&&(result[result.length-1]=opt),prev=opt.completion}return result}class CompletionDialog{constructor(options,attrs,tooltip,timestamp,selected,disabled){this.options=options,this.attrs=attrs,this.tooltip=tooltip,this.timestamp=timestamp,this.selected=selected,this.disabled=disabled}setSelected(selected,id2){return selected==this.selected||selected>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(id2,selected),this.tooltip,this.timestamp,selected,this.disabled)}static build(active,state,id2,prev,conf,didSetActive){if(prev&&!didSetActive&&active.some(s2=>s2.isPending))return prev.setDisabled();let options=sortOptions(active,state);if(!options.length)return prev&&active.some(a2=>a2.isPending)?prev.setDisabled():null;let selected=state.facet(completionConfig).selectOnOpen?0:-1;if(prev&&prev.selected!=selected&&prev.selected!=-1){let selectedValue=prev.options[prev.selected].completion;for(let i=0;i<options.length;i++)if(options[i].completion==selectedValue){selected=i;break}}return new CompletionDialog(options,makeAttrs(id2,selected),{pos:active.reduce((a2,b2)=>b2.hasResult()?Math.min(a2,b2.from):a2,1e8),create:createTooltip,above:conf.aboveCursor},prev?prev.timestamp:Date.now(),selected,!1)}map(changes){return new CompletionDialog(this.options,this.attrs,{...this.tooltip,pos:changes.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(active,id2,open){this.active=active,this.id=id2,this.open=open}static start(){return new CompletionState(none$1,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(tr){let{state}=tr,conf=state.facet(completionConfig),active=(conf.override||state.languageDataAt("autocomplete",cur(state)).map(asSource)).map(source=>(this.active.find(s2=>s2.source==source)||new ActiveSource(source,this.active.some(a2=>a2.state!=0)?1:0)).update(tr,conf));active.length==this.active.length&&active.every((a2,i)=>a2==this.active[i])&&(active=this.active);let open=this.open,didSet=tr.effects.some(e2=>e2.is(setActiveEffect));open&&tr.docChanged&&(open=open.map(tr.changes)),tr.selection||active.some(a2=>a2.hasResult()&&tr.changes.touchesRange(a2.from,a2.to))||!sameResults(active,this.active)||didSet?open=CompletionDialog.build(active,state,this.id,open,conf,didSet):open&&open.disabled&&!active.some(a2=>a2.isPending)&&(open=null),!open&&active.every(a2=>!a2.isPending)&&active.some(a2=>a2.hasResult())&&(active=active.map(a2=>a2.hasResult()?new ActiveSource(a2.source,0):a2));for(let effect of tr.effects)effect.is(setSelectedEffect)&&(open=open&&open.setSelected(effect.value,this.id));return active==this.active&&open==this.open?this:new CompletionState(active,this.id,open)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(a2,b2){if(a2==b2)return!0;for(let iA=0,iB=0;;){for(;iA<a2.length&&!a2[iA].hasResult();)iA++;for(;iB<b2.length&&!b2[iB].hasResult();)iB++;let endA=iA==a2.length,endB=iB==b2.length;if(endA||endB)return endA==endB;if(a2[iA++].result!=b2[iB++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(id2,selected){let result={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":id2};return selected>-1&&(result["aria-activedescendant"]=id2+"-"+selected),result}const none$1=[];function getUpdateType(tr,conf){if(tr.isUserEvent("input.complete")){let completion=tr.annotation(pickedCompletion);if(completion&&conf.activateOnCompletion(completion))return 12}let typing=tr.isUserEvent("input.type");return typing&&conf.activateOnTyping?5:typing?1:tr.isUserEvent("delete.backward")?2:tr.selection?8:tr.docChanged?16:0}class ActiveSource{constructor(source,state,explicit=!1){this.source=source,this.state=state,this.explicit=explicit}hasResult(){return!1}get isPending(){return this.state==1}update(tr,conf){let type=getUpdateType(tr,conf),value=this;(type&8||type&16&&this.touches(tr))&&(value=new ActiveSource(value.source,0)),type&4&&value.state==0&&(value=new ActiveSource(this.source,1)),value=value.updateFor(tr,type);for(let effect of tr.effects)if(effect.is(startCompletionEffect))value=new ActiveSource(value.source,1,effect.value);else if(effect.is(closeCompletionEffect))value=new ActiveSource(value.source,0);else if(effect.is(setActiveEffect))for(let active of effect.value)active.source==value.source&&(value=active);return value}updateFor(tr,type){return this.map(tr.changes)}map(changes){return this}touches(tr){return tr.changes.touchesRange(cur(tr.state))}}class ActiveResult extends ActiveSource{constructor(source,explicit,limit,result,from,to){super(source,3,explicit),this.limit=limit,this.result=result,this.from=from,this.to=to}hasResult(){return!0}updateFor(tr,type){var _a4;if(!(type&3))return this.map(tr.changes);let result=this.result;result.map&&!tr.changes.empty&&(result=result.map(result,tr.changes));let from=tr.changes.mapPos(this.from),to=tr.changes.mapPos(this.to,1),pos=cur(tr.state);if(pos>to||!result||type&2&&(cur(tr.startState)==this.from||pos<this.limit))return new ActiveSource(this.source,type&4?1:0);let limit=tr.changes.mapPos(this.limit);return checkValid(result.validFor,tr.state,from,to)?new ActiveResult(this.source,this.explicit,limit,result,from,to):result.update&&(result=result.update(result,from,to,new CompletionContext(tr.state,pos,!1)))?new ActiveResult(this.source,this.explicit,limit,result,result.from,(_a4=result.to)!==null&&_a4!==void 0?_a4:cur(tr.state)):new ActiveSource(this.source,1,this.explicit)}map(mapping){return mapping.empty?this:(this.result.map?this.result.map(this.result,mapping):this.result)?new ActiveResult(this.source,this.explicit,mapping.mapPos(this.limit),this.result,mapping.mapPos(this.from),mapping.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(tr){return tr.changes.touchesRange(this.from,this.to)}}function checkValid(validFor,state,from,to){if(!validFor)return!1;let text2=state.sliceDoc(from,to);return typeof validFor=="function"?validFor(text2,from,to,state):ensureAnchor(validFor,!0).test(text2)}const setActiveEffect=StateEffect.define({map(sources,mapping){return sources.map(s2=>s2.map(mapping))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(value,tr){return value.update(tr)},provide:f2=>[showTooltip.from(f2,val=>val.tooltip),EditorView.contentAttributes.from(f2,state=>state.attrs)]});function applyCompletion(view,option){const apply=option.completion.apply||option.completion.label;let result=view.state.field(completionState).active.find(a2=>a2.source==option.source);return result instanceof ActiveResult?(typeof apply=="string"?view.dispatch({...insertCompletionText(view.state,apply,result.from,result.to),annotations:pickedCompletion.of(option.completion)}):apply(view,option.completion,result.from,result.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(forward,by="option"){return view=>{let cState=view.state.field(completionState,!1);if(!cState||!cState.open||cState.open.disabled||Date.now()-cState.open.timestamp<view.state.facet(completionConfig).interactionDelay)return!1;let step=1,tooltip;by=="page"&&(tooltip=getTooltip(view,cState.open.tooltip))&&(step=Math.max(2,Math.floor(tooltip.dom.offsetHeight/tooltip.dom.querySelector("li").offsetHeight)-1));let{length}=cState.open.options,selected=cState.open.selected>-1?cState.open.selected+step*(forward?1:-1):forward?0:length-1;return selected<0?selected=by=="page"?0:length-1:selected>=length&&(selected=by=="page"?length-1:0),view.dispatch({effects:setSelectedEffect.of(selected)}),!0}}const acceptCompletion=view=>{let cState=view.state.field(completionState,!1);return view.state.readOnly||!cState||!cState.open||cState.open.selected<0||cState.open.disabled||Date.now()-cState.open.timestamp<view.state.facet(completionConfig).interactionDelay?!1:applyCompletion(view,cState.open.options[cState.open.selected])},startCompletion=view=>view.state.field(completionState,!1)?(view.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=view=>{let cState=view.state.field(completionState,!1);return!cState||!cState.active.some(a2=>a2.state!=0)?!1:(view.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(active,context){this.active=active,this.context=context,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(view){this.view=view,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let active of view.state.field(completionState).active)active.isPending&&this.startQuery(active)}update(update){let cState=update.state.field(completionState),conf=update.state.facet(completionConfig);if(!update.selectionSet&&!update.docChanged&&update.startState.field(completionState)==cState)return;let doesReset=update.transactions.some(tr=>{let type=getUpdateType(tr,conf);return type&8||(tr.selection||tr.docChanged)&&!(type&3)});for(let i=0;i<this.running.length;i++){let query=this.running[i];if(doesReset||query.context.abortOnDocChange&&update.docChanged||query.updates.length+update.transactions.length>MaxUpdateCount&&Date.now()-query.time>MinAbortTime){for(let handler of query.context.abortListeners)try{handler()}catch(e2){logException(this.view.state,e2)}query.context.abortListeners=null,this.running.splice(i--,1)}else query.updates.push(...update.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),update.transactions.some(tr=>tr.effects.some(e2=>e2.is(startCompletionEffect)))&&(this.pendingStart=!0);let delay=this.pendingStart?50:conf.activateOnTypingDelay;if(this.debounceUpdate=cState.active.some(a2=>a2.isPending&&!this.running.some(q=>q.active.source==a2.source))?setTimeout(()=>this.startUpdate(),delay):-1,this.composing!=0)for(let tr of update.transactions)tr.isUserEvent("input.type")?this.composing=2:this.composing==2&&tr.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state}=this.view,cState=state.field(completionState);for(let active of cState.active)active.isPending&&!this.running.some(r2=>r2.active.source==active.source)&&this.startQuery(active);this.running.length&&cState.open&&cState.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(active){let{state}=this.view,pos=cur(state),context=new CompletionContext(state,pos,active.explicit,this.view),pending=new RunningQuery(active,context);this.running.push(pending),Promise.resolve(active.source(context)).then(result=>{pending.context.aborted||(pending.done=result||null,this.scheduleAccept())},err=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,err)})}scheduleAccept(){this.running.every(q=>q.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var _a4;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let updated=[],conf=this.view.state.facet(completionConfig),cState=this.view.state.field(completionState);for(let i=0;i<this.running.length;i++){let query=this.running[i];if(query.done===void 0)continue;if(this.running.splice(i--,1),query.done){let pos=cur(query.updates.length?query.updates[0].startState:this.view.state),limit=Math.min(pos,query.done.from+(query.active.explicit?0:1)),active=new ActiveResult(query.active.source,query.active.explicit,limit,query.done,query.done.from,(_a4=query.done.to)!==null&&_a4!==void 0?_a4:pos);for(let tr of query.updates)active=active.update(tr,conf);if(active.hasResult()){updated.push(active);continue}}let current=cState.active.find(a2=>a2.source==query.active.source);if(current&&current.isPending)if(query.done==null){let active=new ActiveSource(query.active.source,0);for(let tr of query.updates)active=active.update(tr,conf);active.isPending||updated.push(active)}else this.startQuery(current)}(updated.length||cState.open&&cState.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(updated)})}},{eventHandlers:{blur(event){let state=this.view.state.field(completionState,!1);if(state&&state.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let dialog=state.open&&getTooltip(this.view,state.open.tooltip);(!dialog||!dialog.dom.contains(event.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(event,view){let field=view.state.field(completionState,!1);if(!field||!field.open||field.open.disabled||field.open.selected<0||event.key.length>1||event.ctrlKey&&!(windows&&event.altKey)||event.metaKey)return!1;let option=field.open.options[field.open.selected],result=field.active.find(a2=>a2.source==option.source),commitChars=option.completion.commitCharacters||result.result.commitCharacters;return commitChars&&commitChars.indexOf(event.key)>-1&&applyCompletion(view,option),!1}})),baseTheme$2=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"¬∑¬∑¬∑"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'∆í'"}},".cm-completionIcon-class":{"&:after":{content:"'‚óã'"}},".cm-completionIcon-interface":{"&:after":{content:"'‚óå'"}},".cm-completionIcon-variable":{"&:after":{content:"'ùë•'"}},".cm-completionIcon-constant":{"&:after":{content:"'ùê∂'"}},".cm-completionIcon-type":{"&:after":{content:"'ùë°'"}},".cm-completionIcon-enum":{"&:after":{content:"'‚à™'"}},".cm-completionIcon-property":{"&:after":{content:"'‚ñ°'"}},".cm-completionIcon-keyword":{"&:after":{content:"'üîëÔ∏é'"}},".cm-completionIcon-namespace":{"&:after":{content:"'‚ñ¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(field,line,from,to){this.field=field,this.line=line,this.from=from,this.to=to}}class FieldRange{constructor(field,from,to){this.field=field,this.from=from,this.to=to}map(changes){let from=changes.mapPos(this.from,-1,MapMode.TrackDel),to=changes.mapPos(this.to,1,MapMode.TrackDel);return from==null||to==null?null:new FieldRange(this.field,from,to)}}class Snippet{constructor(lines,fieldPositions){this.lines=lines,this.fieldPositions=fieldPositions}instantiate(state,pos){let text2=[],lineStart=[pos],lineObj=state.doc.lineAt(pos),baseIndent=/^\s*/.exec(lineObj.text)[0];for(let line of this.lines){if(text2.length){let indent=baseIndent,tabs=/^\t*/.exec(line)[0].length;for(let i=0;i<tabs;i++)indent+=state.facet(indentUnit);lineStart.push(pos+indent.length-tabs),line=indent+line.slice(tabs)}text2.push(line),pos+=line.length+1}let ranges=this.fieldPositions.map(pos2=>new FieldRange(pos2.field,lineStart[pos2.line]+pos2.from,lineStart[pos2.line]+pos2.to));return{text:text2,ranges}}static parse(template){let fields=[],lines=[],positions=[],m2;for(let line of template.split(/\r\n?|\n/)){for(;m2=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(line);){let seq=m2[1]?+m2[1]:null,rawName=m2[2]||m2[3]||"",found=-1,name2=rawName.replace(/\\[{}]/g,m3=>m3[1]);for(let i=0;i<fields.length;i++)(seq!=null?fields[i].seq==seq:name2&&fields[i].name==name2)&&(found=i);if(found<0){let i=0;for(;i<fields.length&&(seq==null||fields[i].seq!=null&&fields[i].seq<seq);)i++;fields.splice(i,0,{seq,name:name2}),found=i;for(let pos of positions)pos.field>=found&&pos.field++}for(let pos of positions)if(pos.line==lines.length&&pos.from>m2.index){let snip=m2[2]?3+(m2[1]||"").length:2;pos.from-=snip,pos.to-=snip}positions.push(new FieldPos(found,lines.length,m2.index,m2.index+name2.length)),line=line.slice(0,m2.index)+rawName+line.slice(m2.index+m2[0].length)}line=line.replace(/\\([{}])/g,(_2,brace,index2)=>{for(let pos of positions)pos.line==lines.length&&pos.from>index2&&(pos.from--,pos.to--);return brace}),lines.push(line)}return new Snippet(lines,positions)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let span=document.createElement("span");return span.className="cm-snippetFieldPosition",span}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(ranges,active){this.ranges=ranges,this.active=active,this.deco=Decoration.set(ranges.map(r2=>(r2.from==r2.to?fieldMarker:fieldRange).range(r2.from,r2.to)),!0)}map(changes){let ranges=[];for(let r2 of this.ranges){let mapped=r2.map(changes);if(!mapped)return null;ranges.push(mapped)}return new ActiveSnippet(ranges,this.active)}selectionInsideField(sel){return sel.ranges.every(range=>this.ranges.some(r2=>r2.field==this.active&&r2.from<=range.from&&r2.to>=range.to))}}const setActive=StateEffect.define({map(value,changes){return value&&value.map(changes)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(value,tr){for(let effect of tr.effects){if(effect.is(setActive))return effect.value;if(effect.is(moveToField)&&value)return new ActiveSnippet(value.ranges,effect.value)}return value&&tr.docChanged&&(value=value.map(tr.changes)),value&&tr.selection&&!value.selectionInsideField(tr.selection)&&(value=null),value},provide:f2=>EditorView.decorations.from(f2,val=>val?val.deco:Decoration.none)});function fieldSelection(ranges,field){return EditorSelection.create(ranges.filter(r2=>r2.field==field).map(r2=>EditorSelection.range(r2.from,r2.to)))}function snippet(template){let snippet2=Snippet.parse(template);return(editor,completion,from,to)=>{let{text:text2,ranges}=snippet2.instantiate(editor.state,from),{main}=editor.state.selection,spec={changes:{from,to:to==main.from?main.to:to,insert:Text.of(text2)},scrollIntoView:!0,annotations:completion?[pickedCompletion.of(completion),Transaction.userEvent.of("input.complete")]:void 0};if(ranges.length&&(spec.selection=fieldSelection(ranges,0)),ranges.some(r2=>r2.field>0)){let active=new ActiveSnippet(ranges,0),effects=spec.effects=[setActive.of(active)];editor.state.field(snippetState,!1)===void 0&&effects.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$2]))}editor.dispatch(editor.state.update(spec))}}function moveField(dir){return({state,dispatch})=>{let active=state.field(snippetState,!1);if(!active||dir<0&&active.active==0)return!1;let next=active.active+dir,last=dir>0&&!active.ranges.some(r2=>r2.field==next+dir);return dispatch(state.update({selection:fieldSelection(active.ranges,next),effects:setActive.of(last?null:new ActiveSnippet(active.ranges,next)),scrollIntoView:!0})),!0}}const clearSnippet=({state,dispatch})=>state.field(snippetState,!1)?(dispatch(state.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(maps){return maps.length?maps[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],state=>state.facet(snippetKeymap)));function snippetCompletion(template,completion){return{...completion,apply:snippet(template)}}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(event,view){let active=view.state.field(snippetState,!1),pos;if(!active||(pos=view.posAtCoords({x:event.clientX,y:event.clientY}))==null)return!1;let match2=active.ranges.find(r2=>r2.from<=pos&&r2.to>=pos);return!match2||match2.field==active.active?!1:(view.dispatch({selection:fieldSelection(active.ranges,match2.field),effects:setActive.of(active.ranges.some(r2=>r2.field>match2.field)?new ActiveSnippet(active.ranges,match2.field):null),scrollIntoView:!0}),!0)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;function autocompletion(config2={}){return[commitCharacters,completionState,completionConfig.of(config2),completionPlugin,completionKeymapExt,baseTheme$2]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{mac:"Alt-i",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],state=>state.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class CompositeBlock{static create(type,value,from,parentHash,end){let hash2=parentHash+(parentHash<<8)+type+(value<<4)|0;return new CompositeBlock(type,value,from,hash2,end,[],[])}constructor(type,value,from,hash2,end,children,positions){this.type=type,this.value=value,this.from=from,this.hash=hash2,this.end=end,this.children=children,this.positions=positions,this.hashProp=[[NodeProp.contextHash,hash2]]}addChild(child,pos){child.prop(NodeProp.contextHash)!=this.hash&&(child=new Tree(child.type,child.children,child.positions,child.length,this.hashProp)),this.children.push(child),this.positions.push(pos)}toTree(nodeSet2,end=this.end){let last=this.children.length-1;return last>=0&&(end=Math.max(end,this.positions[last]+this.children[last].length+this.from)),new Tree(nodeSet2.types[this.type],this.children,this.positions,end-this.from).balance({makeTree:(children,positions,length)=>new Tree(NodeType.none,children,positions,length,this.hashProp)})}}var Type;(function(Type2){Type2[Type2.Document=1]="Document",Type2[Type2.CodeBlock=2]="CodeBlock",Type2[Type2.FencedCode=3]="FencedCode",Type2[Type2.Blockquote=4]="Blockquote",Type2[Type2.HorizontalRule=5]="HorizontalRule",Type2[Type2.BulletList=6]="BulletList",Type2[Type2.OrderedList=7]="OrderedList",Type2[Type2.ListItem=8]="ListItem",Type2[Type2.ATXHeading1=9]="ATXHeading1",Type2[Type2.ATXHeading2=10]="ATXHeading2",Type2[Type2.ATXHeading3=11]="ATXHeading3",Type2[Type2.ATXHeading4=12]="ATXHeading4",Type2[Type2.ATXHeading5=13]="ATXHeading5",Type2[Type2.ATXHeading6=14]="ATXHeading6",Type2[Type2.SetextHeading1=15]="SetextHeading1",Type2[Type2.SetextHeading2=16]="SetextHeading2",Type2[Type2.HTMLBlock=17]="HTMLBlock",Type2[Type2.LinkReference=18]="LinkReference",Type2[Type2.Paragraph=19]="Paragraph",Type2[Type2.CommentBlock=20]="CommentBlock",Type2[Type2.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",Type2[Type2.Escape=22]="Escape",Type2[Type2.Entity=23]="Entity",Type2[Type2.HardBreak=24]="HardBreak",Type2[Type2.Emphasis=25]="Emphasis",Type2[Type2.StrongEmphasis=26]="StrongEmphasis",Type2[Type2.Link=27]="Link",Type2[Type2.Image=28]="Image",Type2[Type2.InlineCode=29]="InlineCode",Type2[Type2.HTMLTag=30]="HTMLTag",Type2[Type2.Comment=31]="Comment",Type2[Type2.ProcessingInstruction=32]="ProcessingInstruction",Type2[Type2.Autolink=33]="Autolink",Type2[Type2.HeaderMark=34]="HeaderMark",Type2[Type2.QuoteMark=35]="QuoteMark",Type2[Type2.ListMark=36]="ListMark",Type2[Type2.LinkMark=37]="LinkMark",Type2[Type2.EmphasisMark=38]="EmphasisMark",Type2[Type2.CodeMark=39]="CodeMark",Type2[Type2.CodeText=40]="CodeText",Type2[Type2.CodeInfo=41]="CodeInfo",Type2[Type2.LinkTitle=42]="LinkTitle",Type2[Type2.LinkLabel=43]="LinkLabel",Type2[Type2.URL=44]="URL"})(Type||(Type={}));class LeafBlock{constructor(start,content2){this.start=start,this.content=content2,this.marks=[],this.parsers=[]}}class Line2{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let newPos=this.skipSpace(this.basePos);this.indent=this.countIndent(newPos,this.pos,this.indent),this.pos=newPos,this.next=newPos==this.text.length?-1:this.text.charCodeAt(newPos)}skipSpace(from){return skipSpace(this.text,from)}reset(text2){for(this.text=text2,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(to){this.basePos=to,this.baseIndent=this.countIndent(to,this.pos,this.indent)}moveBaseColumn(indent){this.baseIndent=indent,this.basePos=this.findColumn(indent)}addMarker(elt2){this.markers.push(elt2)}countIndent(to,from=0,indent=0){for(let i=from;i<to;i++)indent+=this.text.charCodeAt(i)==9?4-indent%4:1;return indent}findColumn(goal){let i=0;for(let indent=0;i<this.text.length&&indent<goal;i++)indent+=this.text.charCodeAt(i)==9?4-indent%4:1;return i}scrub(){if(!this.baseIndent)return this.text;let result="";for(let i=0;i<this.basePos;i++)result+=" ";return result+this.text.slice(this.basePos)}}function skipForList(bl2,cx,line){if(line.pos==line.text.length||bl2!=cx.block&&line.indent>=cx.stack[line.depth+1].value+line.baseIndent)return!0;if(line.indent>=line.baseIndent+4)return!1;let size=(bl2.type==Type.OrderedList?isOrderedList:isBulletList)(line,cx,!1);return size>0&&(bl2.type!=Type.BulletList||isHorizontalRule(line,cx,!1)<0)&&line.text.charCodeAt(line.pos+size-1)==bl2.value}const DefaultSkipMarkup={[Type.Blockquote](bl2,cx,line){return line.next!=62?!1:(line.markers.push(elt(Type.QuoteMark,cx.lineStart+line.pos,cx.lineStart+line.pos+1)),line.moveBase(line.pos+(space$2(line.text.charCodeAt(line.pos+1))?2:1)),bl2.end=cx.lineStart+line.text.length,!0)},[Type.ListItem](bl2,_cx,line){return line.indent<line.baseIndent+bl2.value&&line.next>-1?!1:(line.moveBaseColumn(line.baseIndent+bl2.value),!0)},[Type.OrderedList]:skipForList,[Type.BulletList]:skipForList,[Type.Document](){return!0}};function space$2(ch){return ch==32||ch==9||ch==10||ch==13}function skipSpace(line,i=0){for(;i<line.length&&space$2(line.charCodeAt(i));)i++;return i}function skipSpaceBack(line,i,to){for(;i>to&&space$2(line.charCodeAt(i-1));)i--;return i}function isFencedCode(line){if(line.next!=96&&line.next!=126)return-1;let pos=line.pos+1;for(;pos<line.text.length&&line.text.charCodeAt(pos)==line.next;)pos++;if(pos<line.pos+3)return-1;if(line.next==96){for(let i=pos;i<line.text.length;i++)if(line.text.charCodeAt(i)==96)return-1}return pos}function isBlockquote(line){return line.next!=62?-1:line.text.charCodeAt(line.pos+1)==32?2:1}function isHorizontalRule(line,cx,breaking){if(line.next!=42&&line.next!=45&&line.next!=95)return-1;let count2=1;for(let pos=line.pos+1;pos<line.text.length;pos++){let ch=line.text.charCodeAt(pos);if(ch==line.next)count2++;else if(!space$2(ch))return-1}return breaking&&line.next==45&&isSetextUnderline(line)>-1&&line.depth==cx.stack.length&&cx.parser.leafBlockParsers.indexOf(DefaultLeafBlocks.SetextHeading)>-1||count2<3?-1:1}function inList(cx,type){for(let i=cx.stack.length-1;i>=0;i--)if(cx.stack[i].type==type)return!0;return!1}function isBulletList(line,cx,breaking){return(line.next==45||line.next==43||line.next==42)&&(line.pos==line.text.length-1||space$2(line.text.charCodeAt(line.pos+1)))&&(!breaking||inList(cx,Type.BulletList)||line.skipSpace(line.pos+2)<line.text.length)?1:-1}function isOrderedList(line,cx,breaking){let pos=line.pos,next=line.next;for(;next>=48&&next<=57;){pos++;if(pos==line.text.length)return-1;next=line.text.charCodeAt(pos)}return pos==line.pos||pos>line.pos+9||next!=46&&next!=41||pos<line.text.length-1&&!space$2(line.text.charCodeAt(pos+1))||breaking&&!inList(cx,Type.OrderedList)&&(line.skipSpace(pos+1)==line.text.length||pos>line.pos+1||line.next!=49)?-1:pos+1-line.pos}function isAtxHeading(line){if(line.next!=35)return-1;let pos=line.pos+1;for(;pos<line.text.length&&line.text.charCodeAt(pos)==35;)pos++;if(pos<line.text.length&&line.text.charCodeAt(pos)!=32)return-1;let size=pos-line.pos;return size>6?-1:size}function isSetextUnderline(line){if(line.next!=45&&line.next!=61||line.indent>=line.baseIndent+4)return-1;let pos=line.pos+1;for(;pos<line.text.length&&line.text.charCodeAt(pos)==line.next;)pos++;let end=pos;for(;pos<line.text.length&&space$2(line.text.charCodeAt(pos));)pos++;return pos==line.text.length?end:-1}const EmptyLine=/^[ \t]*$/,CommentEnd=/-->/,ProcessingEnd=/\?>/,HTMLBlockStyle=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,CommentEnd],[/^\s*<\?/,ProcessingEnd],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,EmptyLine],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,EmptyLine]];function isHTMLBlock(line,_cx,breaking){if(line.next!=60)return-1;let rest=line.text.slice(line.pos);for(let i=0,e2=HTMLBlockStyle.length-(breaking?1:0);i<e2;i++)if(HTMLBlockStyle[i][0].test(rest))return i;return-1}function getListIndent(line,pos){let indentAfter=line.countIndent(pos,line.pos,line.indent),indented=line.countIndent(line.skipSpace(pos),pos,indentAfter);return indented>=indentAfter+5?indentAfter+1:indented}function addCodeText(marks,from,to){let last=marks.length-1;last>=0&&marks[last].to==from&&marks[last].type==Type.CodeText?marks[last].to=to:marks.push(elt(Type.CodeText,from,to))}const DefaultBlockParsers={LinkReference:void 0,IndentedCode(cx,line){let base2=line.baseIndent+4;if(line.indent<base2)return!1;let start=line.findColumn(base2),from=cx.lineStart+start,to=cx.lineStart+line.text.length,marks=[],pendingMarks=[];for(addCodeText(marks,from,to);cx.nextLine()&&line.depth>=cx.stack.length;)if(line.pos==line.text.length){addCodeText(pendingMarks,cx.lineStart-1,cx.lineStart);for(let m2 of line.markers)pendingMarks.push(m2)}else{if(line.indent<base2)break;{if(pendingMarks.length){for(let m2 of pendingMarks)m2.type==Type.CodeText?addCodeText(marks,m2.from,m2.to):marks.push(m2);pendingMarks=[]}addCodeText(marks,cx.lineStart-1,cx.lineStart);for(let m2 of line.markers)marks.push(m2);to=cx.lineStart+line.text.length;let codeStart=cx.lineStart+line.findColumn(line.baseIndent+4);codeStart<to&&addCodeText(marks,codeStart,to)}}return pendingMarks.length&&(pendingMarks=pendingMarks.filter(m2=>m2.type!=Type.CodeText),pendingMarks.length&&(line.markers=pendingMarks.concat(line.markers))),cx.addNode(cx.buffer.writeElements(marks,-from).finish(Type.CodeBlock,to-from),from),!0},FencedCode(cx,line){let fenceEnd=isFencedCode(line);if(fenceEnd<0)return!1;let from=cx.lineStart+line.pos,ch=line.next,len=fenceEnd-line.pos,infoFrom=line.skipSpace(fenceEnd),infoTo=skipSpaceBack(line.text,line.text.length,infoFrom),marks=[elt(Type.CodeMark,from,from+len)];infoFrom<infoTo&&marks.push(elt(Type.CodeInfo,cx.lineStart+infoFrom,cx.lineStart+infoTo));for(let first=!0;cx.nextLine()&&line.depth>=cx.stack.length;first=!1){let i=line.pos;if(line.indent-line.baseIndent<4)for(;i<line.text.length&&line.text.charCodeAt(i)==ch;)i++;if(i-line.pos>=len&&line.skipSpace(i)==line.text.length){for(let m2 of line.markers)marks.push(m2);marks.push(elt(Type.CodeMark,cx.lineStart+line.pos,cx.lineStart+i)),cx.nextLine();break}else{first||addCodeText(marks,cx.lineStart-1,cx.lineStart);for(let m2 of line.markers)marks.push(m2);let textStart=cx.lineStart+line.basePos,textEnd=cx.lineStart+line.text.length;textStart<textEnd&&addCodeText(marks,textStart,textEnd)}}return cx.addNode(cx.buffer.writeElements(marks,-from).finish(Type.FencedCode,cx.prevLineEnd()-from),from),!0},Blockquote(cx,line){let size=isBlockquote(line);return size<0?!1:(cx.startContext(Type.Blockquote,line.pos),cx.addNode(Type.QuoteMark,cx.lineStart+line.pos,cx.lineStart+line.pos+1),line.moveBase(line.pos+size),null)},HorizontalRule(cx,line){if(isHorizontalRule(line,cx,!1)<0)return!1;let from=cx.lineStart+line.pos;return cx.nextLine(),cx.addNode(Type.HorizontalRule,from),!0},BulletList(cx,line){let size=isBulletList(line,cx,!1);if(size<0)return!1;cx.block.type!=Type.BulletList&&cx.startContext(Type.BulletList,line.basePos,line.next);let newBase=getListIndent(line,line.pos+1);return cx.startContext(Type.ListItem,line.basePos,newBase-line.baseIndent),cx.addNode(Type.ListMark,cx.lineStart+line.pos,cx.lineStart+line.pos+size),line.moveBaseColumn(newBase),null},OrderedList(cx,line){let size=isOrderedList(line,cx,!1);if(size<0)return!1;cx.block.type!=Type.OrderedList&&cx.startContext(Type.OrderedList,line.basePos,line.text.charCodeAt(line.pos+size-1));let newBase=getListIndent(line,line.pos+size);return cx.startContext(Type.ListItem,line.basePos,newBase-line.baseIndent),cx.addNode(Type.ListMark,cx.lineStart+line.pos,cx.lineStart+line.pos+size),line.moveBaseColumn(newBase),null},ATXHeading(cx,line){let size=isAtxHeading(line);if(size<0)return!1;let off=line.pos,from=cx.lineStart+off,endOfSpace=skipSpaceBack(line.text,line.text.length,off),after=endOfSpace;for(;after>off&&line.text.charCodeAt(after-1)==line.next;)after--;(after==endOfSpace||after==off||!space$2(line.text.charCodeAt(after-1)))&&(after=line.text.length);let buf=cx.buffer.write(Type.HeaderMark,0,size).writeElements(cx.parser.parseInline(line.text.slice(off+size+1,after),from+size+1),-from);after<line.text.length&&buf.write(Type.HeaderMark,after-off,endOfSpace-off);let node=buf.finish(Type.ATXHeading1-1+size,line.text.length-off);return cx.nextLine(),cx.addNode(node,from),!0},HTMLBlock(cx,line){let type=isHTMLBlock(line,cx,!1);if(type<0)return!1;let from=cx.lineStart+line.pos,end=HTMLBlockStyle[type][1],marks=[],trailing=end!=EmptyLine;for(;!end.test(line.text)&&cx.nextLine();){if(line.depth<cx.stack.length){trailing=!1;break}for(let m2 of line.markers)marks.push(m2)}trailing&&cx.nextLine();let nodeType=end==CommentEnd?Type.CommentBlock:end==ProcessingEnd?Type.ProcessingInstructionBlock:Type.HTMLBlock,to=cx.prevLineEnd();return cx.addNode(cx.buffer.writeElements(marks,-from).finish(nodeType,to-from),from),!0},SetextHeading:void 0};class LinkReferenceParser{constructor(leaf){this.stage=0,this.elts=[],this.pos=0,this.start=leaf.start,this.advance(leaf.content)}nextLine(cx,line,leaf){if(this.stage==-1)return!1;let content2=leaf.content+`
`+line.scrub(),finish=this.advance(content2);return finish>-1&&finish<content2.length?this.complete(cx,leaf,finish):!1}finish(cx,leaf){return(this.stage==2||this.stage==3)&&skipSpace(leaf.content,this.pos)==leaf.content.length?this.complete(cx,leaf,leaf.content.length):!1}complete(cx,leaf,len){return cx.addLeafElement(leaf,elt(Type.LinkReference,this.start,this.start+len,this.elts)),!0}nextStage(elt2){return elt2?(this.pos=elt2.to-this.start,this.elts.push(elt2),this.stage++,!0):(elt2===!1&&(this.stage=-1),!1)}advance(content2){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(parseLinkLabel(content2,this.pos,this.start,!0)))return-1;if(content2.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(elt(Type.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(parseURL(content2,skipSpace(content2,this.pos),this.start)))return-1}else if(this.stage==2){let skip=skipSpace(content2,this.pos),end=0;if(skip>this.pos){let title=parseLinkTitle(content2,skip,this.start);if(title){let titleEnd=lineEnd(content2,title.to-this.start);titleEnd>0&&(this.nextStage(title),end=titleEnd)}}return end||(end=lineEnd(content2,this.pos)),end>0&&end<content2.length?end:-1}else return lineEnd(content2,this.pos)}}}function lineEnd(text2,pos){for(;pos<text2.length;pos++){let next=text2.charCodeAt(pos);if(next==10)break;if(!space$2(next))return-1}return pos}class SetextHeadingParser{nextLine(cx,line,leaf){let underline=line.depth<cx.stack.length?-1:isSetextUnderline(line),next=line.next;if(underline<0)return!1;let underlineMark=elt(Type.HeaderMark,cx.lineStart+line.pos,cx.lineStart+underline);return cx.nextLine(),cx.addLeafElement(leaf,elt(next==61?Type.SetextHeading1:Type.SetextHeading2,leaf.start,cx.prevLineEnd(),[...cx.parser.parseInline(leaf.content,leaf.start),underlineMark])),!0}finish(){return!1}}const DefaultLeafBlocks={LinkReference(_2,leaf){return leaf.content.charCodeAt(0)==91?new LinkReferenceParser(leaf):null},SetextHeading(){return new SetextHeadingParser}},DefaultEndLeaf=[(_2,line)=>isAtxHeading(line)>=0,(_2,line)=>isFencedCode(line)>=0,(_2,line)=>isBlockquote(line)>=0,(p2,line)=>isBulletList(line,p2,!0)>=0,(p2,line)=>isOrderedList(line,p2,!0)>=0,(p2,line)=>isHorizontalRule(line,p2,!0)>=0,(p2,line)=>isHTMLBlock(line,p2,!0)>=0],scanLineResult={text:"",end:0};class BlockContext{constructor(parser2,input,fragments,ranges){this.parser=parser2,this.input=input,this.ranges=ranges,this.line=new Line2,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=ranges[ranges.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=ranges[0].from,this.block=CompositeBlock.create(Type.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=fragments.length?new FragmentCursor$1(fragments,input):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line}=this;for(;;){for(let markI=0;;){let next=line.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;markI<line.markers.length&&(!next||line.markers[markI].from<next.end);){let mark=line.markers[markI++];this.addNode(mark.type,mark.from,mark.to)}if(!next)break;this.finishContext()}if(line.pos<line.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(line.basePos))return null;start:for(;;){for(let type of this.parser.blockParsers)if(type){let result=type(this,line);if(result!=!1){if(result==!0)return null;line.forward();continue start}}break}let leaf=new LeafBlock(this.lineStart+line.pos,line.text.slice(line.pos));for(let parse of this.parser.leafBlockParsers)if(parse){let parser2=parse(this,leaf);parser2&&leaf.parsers.push(parser2)}lines:for(;this.nextLine()&&line.pos!=line.text.length;){if(line.indent<line.baseIndent+4){for(let stop of this.parser.endLeafBlock)if(stop(this,line,leaf))break lines}for(let parser2 of leaf.parsers)if(parser2.nextLine(this,line,leaf))return null;leaf.content+=`
`+line.scrub();for(let m2 of line.markers)leaf.marks.push(m2)}return this.finishLeaf(leaf),null}stopAt(pos){if(this.stoppedAt!=null&&this.stoppedAt<pos)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=pos}reuseFragment(start){if(!this.fragments.moveTo(this.absoluteLineStart+start,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let taken=this.fragments.takeNodes(this);return taken?(this.absoluteLineStart+=taken,this.lineStart=toRelative(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(depth=this.depth-1){return this.parser.nodeSet.types[this.stack[depth].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(start){let r2=scanLineResult;if(r2.end=start,start>=this.to)r2.text="";else if(r2.text=this.lineChunkAt(start),r2.end+=r2.text.length,this.ranges.length>1){let textOffset=this.absoluteLineStart,rangeI=this.rangeI;for(;this.ranges[rangeI].to<r2.end;){rangeI++;let nextFrom=this.ranges[rangeI].from,after=this.lineChunkAt(nextFrom);r2.end=nextFrom+after.length,r2.text=r2.text.slice(0,this.ranges[rangeI-1].to-textOffset)+after,textOffset=r2.end-r2.text.length}}return r2}readLine(){let{line}=this,{text:text2,end}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=end,line.reset(text2);line.depth<this.stack.length;line.depth++){let cx=this.stack[line.depth],handler=this.parser.skipContextMarkup[cx.type];if(!handler)throw new Error("Unhandled block context "+Type[cx.type]);let marks=this.line.markers.length;if(!handler(cx,this,line)){this.line.markers.length>marks&&(cx.end=this.line.markers[this.line.markers.length-1].to);break}line.forward()}}lineChunkAt(pos){let next=this.input.chunk(pos),text2;if(this.input.lineChunks)text2=next==`
`?"":next;else{let eol=next.indexOf(`
`);text2=eol<0?next:next.slice(0,eol)}return pos+text2.length>this.to?text2.slice(0,this.to-pos):text2}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(type,start,value=0){this.block=CompositeBlock.create(type,value,this.lineStart+start,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(type,start,value=0){this.startContext(this.parser.getNodeType(type),start,value)}addNode(block2,from,to){typeof block2=="number"&&(block2=new Tree(this.parser.nodeSet.types[block2],none,none,(to??this.prevLineEnd())-from)),this.block.addChild(block2,from-this.block.from)}addElement(elt2){this.block.addChild(elt2.toTree(this.parser.nodeSet),elt2.from-this.block.from)}addLeafElement(leaf,elt2){this.addNode(this.buffer.writeElements(injectMarks(elt2.children,leaf.marks),-elt2.from).finish(elt2.type,elt2.to-elt2.from),elt2.from)}finishContext(){let cx=this.stack.pop(),top2=this.stack[this.stack.length-1];top2.addChild(cx.toTree(this.parser.nodeSet),cx.from-top2.from),this.block=top2}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(tree){return this.ranges.length>1?injectGaps(this.ranges,0,tree.topNode,this.ranges[0].from,this.reusePlaceholders):tree}finishLeaf(leaf){for(let parser2 of leaf.parsers)if(parser2.finish(this,leaf))return;let inline2=injectMarks(this.parser.parseInline(leaf.content,leaf.start),leaf.marks);this.addNode(this.buffer.writeElements(inline2,-leaf.start).finish(Type.Paragraph,leaf.content.length),leaf.start)}elt(type,from,to,children){return typeof type=="string"?elt(this.parser.getNodeType(type),from,to,children):new TreeElement(type,from)}get buffer(){return new Buffer2(this.parser.nodeSet)}}function injectGaps(ranges,rangeI,tree,offset,dummies){let rangeEnd2=ranges[rangeI].to,children=[],positions=[],start=tree.from+offset;function movePastNext(upto,inclusive){for(;inclusive?upto>=rangeEnd2:upto>rangeEnd2;){let size=ranges[rangeI+1].from-rangeEnd2;offset+=size,upto+=size,rangeI++,rangeEnd2=ranges[rangeI].to}}for(let ch=tree.firstChild;ch;ch=ch.nextSibling){movePastNext(ch.from+offset,!0);let from=ch.from+offset,node,reuse=dummies.get(ch.tree);reuse?node=reuse:ch.to+offset>rangeEnd2?(node=injectGaps(ranges,rangeI,ch,offset,dummies),movePastNext(ch.to+offset,!1)):node=ch.toTree(),children.push(node),positions.push(from-start)}return movePastNext(tree.to+offset,!1),new Tree(tree.type,children,positions,tree.to+offset-start,tree.tree?tree.tree.propValues:void 0)}class MarkdownParser extends Parser{constructor(nodeSet2,blockParsers,leafBlockParsers,blockNames,endLeafBlock,skipContextMarkup,inlineParsers,inlineNames,wrappers){super(),this.nodeSet=nodeSet2,this.blockParsers=blockParsers,this.leafBlockParsers=leafBlockParsers,this.blockNames=blockNames,this.endLeafBlock=endLeafBlock,this.skipContextMarkup=skipContextMarkup,this.inlineParsers=inlineParsers,this.inlineNames=inlineNames,this.wrappers=wrappers,this.nodeTypes=Object.create(null);for(let t2 of nodeSet2.types)this.nodeTypes[t2.name]=t2.id}createParse(input,fragments,ranges){let parse=new BlockContext(this,input,fragments,ranges);for(let w2 of this.wrappers)parse=w2(parse,input,fragments,ranges);return parse}configure(spec){let config2=resolveConfig(spec);if(!config2)return this;let{nodeSet:nodeSet2,skipContextMarkup}=this,blockParsers=this.blockParsers.slice(),leafBlockParsers=this.leafBlockParsers.slice(),blockNames=this.blockNames.slice(),inlineParsers=this.inlineParsers.slice(),inlineNames=this.inlineNames.slice(),endLeafBlock=this.endLeafBlock.slice(),wrappers=this.wrappers;if(nonEmpty(config2.defineNodes)){skipContextMarkup=Object.assign({},skipContextMarkup);let nodeTypes2=nodeSet2.types.slice(),styles;for(let s2 of config2.defineNodes){let{name:name2,block:block2,composite,style}=typeof s2=="string"?{name:s2}:s2;if(nodeTypes2.some(t2=>t2.name==name2))continue;composite&&(skipContextMarkup[nodeTypes2.length]=(bl2,cx,line)=>composite(cx,line,bl2.value));let id2=nodeTypes2.length,group=composite?["Block","BlockContext"]:block2?id2>=Type.ATXHeading1&&id2<=Type.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;nodeTypes2.push(NodeType.define({id:id2,name:name2,props:group&&[[NodeProp.group,group]]})),style&&(styles||(styles={}),Array.isArray(style)||style instanceof Tag?styles[name2]=style:Object.assign(styles,style))}nodeSet2=new NodeSet(nodeTypes2),styles&&(nodeSet2=nodeSet2.extend(styleTags(styles)))}if(nonEmpty(config2.props)&&(nodeSet2=nodeSet2.extend(...config2.props)),nonEmpty(config2.remove))for(let rm2 of config2.remove){let block2=this.blockNames.indexOf(rm2),inline2=this.inlineNames.indexOf(rm2);block2>-1&&(blockParsers[block2]=leafBlockParsers[block2]=void 0),inline2>-1&&(inlineParsers[inline2]=void 0)}if(nonEmpty(config2.parseBlock))for(let spec2 of config2.parseBlock){let found=blockNames.indexOf(spec2.name);if(found>-1)blockParsers[found]=spec2.parse,leafBlockParsers[found]=spec2.leaf;else{let pos=spec2.before?findName(blockNames,spec2.before):spec2.after?findName(blockNames,spec2.after)+1:blockNames.length-1;blockParsers.splice(pos,0,spec2.parse),leafBlockParsers.splice(pos,0,spec2.leaf),blockNames.splice(pos,0,spec2.name)}spec2.endLeaf&&endLeafBlock.push(spec2.endLeaf)}if(nonEmpty(config2.parseInline))for(let spec2 of config2.parseInline){let found=inlineNames.indexOf(spec2.name);if(found>-1)inlineParsers[found]=spec2.parse;else{let pos=spec2.before?findName(inlineNames,spec2.before):spec2.after?findName(inlineNames,spec2.after)+1:inlineNames.length-1;inlineParsers.splice(pos,0,spec2.parse),inlineNames.splice(pos,0,spec2.name)}}return config2.wrap&&(wrappers=wrappers.concat(config2.wrap)),new MarkdownParser(nodeSet2,blockParsers,leafBlockParsers,blockNames,endLeafBlock,skipContextMarkup,inlineParsers,inlineNames,wrappers)}getNodeType(name2){let found=this.nodeTypes[name2];if(found==null)throw new RangeError(`Unknown node type '${name2}'`);return found}parseInline(text2,offset){let cx=new InlineContext(this,text2,offset);outer:for(let pos=offset;pos<cx.end;){let next=cx.char(pos);for(let token of this.inlineParsers)if(token){let result=token(cx,next,pos);if(result>=0){pos=result;continue outer}}pos++}return cx.resolveMarkers(0)}}function nonEmpty(a2){return a2!=null&&a2.length>0}function resolveConfig(spec){if(!Array.isArray(spec))return spec;if(spec.length==0)return null;let conf=resolveConfig(spec[0]);if(spec.length==1)return conf;let rest=resolveConfig(spec.slice(1));if(!rest||!conf)return conf||rest;let conc2=(a2,b2)=>(a2||none).concat(b2||none),wrapA=conf.wrap,wrapB=rest.wrap;return{props:conc2(conf.props,rest.props),defineNodes:conc2(conf.defineNodes,rest.defineNodes),parseBlock:conc2(conf.parseBlock,rest.parseBlock),parseInline:conc2(conf.parseInline,rest.parseInline),remove:conc2(conf.remove,rest.remove),wrap:wrapA?wrapB?(inner,input,fragments,ranges)=>wrapA(wrapB(inner,input,fragments,ranges),input,fragments,ranges):wrapA:wrapB}}function findName(names,name2){let found=names.indexOf(name2);if(found<0)throw new RangeError(`Position specified relative to unknown parser ${name2}`);return found}let nodeTypes=[NodeType.none];for(let i=1,name2;name2=Type[i];i++)nodeTypes[i]=NodeType.define({id:i,name:name2,props:i>=Type.Escape?[]:[[NodeProp.group,i in DefaultSkipMarkup?["Block","BlockContext"]:["Block","LeafBlock"]]],top:name2=="Document"});const none=[];class Buffer2{constructor(nodeSet2){this.nodeSet=nodeSet2,this.content=[],this.nodes=[]}write(type,from,to,children=0){return this.content.push(type,from,to,4+children*4),this}writeElements(elts,offset=0){for(let e2 of elts)e2.writeTo(this,offset);return this}finish(type,length){return Tree.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:type,length})}}let Element$1=class{constructor(type,from,to,children=none){this.type=type,this.from=from,this.to=to,this.children=children}writeTo(buf,offset){let startOff=buf.content.length;buf.writeElements(this.children,offset),buf.content.push(this.type,this.from+offset,this.to+offset,buf.content.length+4-startOff)}toTree(nodeSet2){return new Buffer2(nodeSet2).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class TreeElement{constructor(tree,from){this.tree=tree,this.from=from}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return none}writeTo(buf,offset){buf.nodes.push(this.tree),buf.content.push(buf.nodes.length-1,this.from+offset,this.to+offset,-1)}toTree(){return this.tree}}function elt(type,from,to,children){return new Element$1(type,from,to,children)}const EmphasisUnderscore={resolve:"Emphasis",mark:"EmphasisMark"},EmphasisAsterisk={resolve:"Emphasis",mark:"EmphasisMark"},LinkStart={},ImageStart={};class InlineDelimiter{constructor(type,from,to,side){this.type=type,this.from=from,this.to=to,this.side=side}}const Escapable="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Punctuation=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Punctuation=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const DefaultInline={Escape(cx,next,start){if(next!=92||start==cx.end-1)return-1;let escaped=cx.char(start+1);for(let i=0;i<Escapable.length;i++)if(Escapable.charCodeAt(i)==escaped)return cx.append(elt(Type.Escape,start,start+2));return-1},Entity(cx,next,start){if(next!=38)return-1;let m2=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(cx.slice(start+1,start+31));return m2?cx.append(elt(Type.Entity,start,start+1+m2[0].length)):-1},InlineCode(cx,next,start){if(next!=96||start&&cx.char(start-1)==96)return-1;let pos=start+1;for(;pos<cx.end&&cx.char(pos)==96;)pos++;let size=pos-start,curSize=0;for(;pos<cx.end;pos++)if(cx.char(pos)==96){if(curSize++,curSize==size&&cx.char(pos+1)!=96)return cx.append(elt(Type.InlineCode,start,pos+1,[elt(Type.CodeMark,start,start+size),elt(Type.CodeMark,pos+1-size,pos+1)]))}else curSize=0;return-1},HTMLTag(cx,next,start){if(next!=60||start==cx.end-1)return-1;let after=cx.slice(start+1,cx.end),url=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(after);if(url)return cx.append(elt(Type.Autolink,start,start+1+url[0].length,[elt(Type.LinkMark,start,start+1),elt(Type.URL,start+1,start+url[0].length),elt(Type.LinkMark,start+url[0].length,start+1+url[0].length)]));let comment2=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(after);if(comment2)return cx.append(elt(Type.Comment,start,start+1+comment2[0].length));let procInst=/^\?[^]*?\?>/.exec(after);if(procInst)return cx.append(elt(Type.ProcessingInstruction,start,start+1+procInst[0].length));let m2=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(after);return m2?cx.append(elt(Type.HTMLTag,start,start+1+m2[0].length)):-1},Emphasis(cx,next,start){if(next!=95&&next!=42)return-1;let pos=start+1;for(;cx.char(pos)==next;)pos++;let before=cx.slice(start-1,start),after=cx.slice(pos,pos+1),pBefore=Punctuation.test(before),pAfter=Punctuation.test(after),sBefore=/\s|^$/.test(before),sAfter=/\s|^$/.test(after),leftFlanking=!sAfter&&(!pAfter||sBefore||pBefore),rightFlanking=!sBefore&&(!pBefore||sAfter||pAfter),canOpen=leftFlanking&&(next==42||!rightFlanking||pBefore),canClose=rightFlanking&&(next==42||!leftFlanking||pAfter);return cx.append(new InlineDelimiter(next==95?EmphasisUnderscore:EmphasisAsterisk,start,pos,(canOpen?1:0)|(canClose?2:0)))},HardBreak(cx,next,start){if(next==92&&cx.char(start+1)==10)return cx.append(elt(Type.HardBreak,start,start+2));if(next==32){let pos=start+1;for(;cx.char(pos)==32;)pos++;if(cx.char(pos)==10&&pos>=start+2)return cx.append(elt(Type.HardBreak,start,pos+1))}return-1},Link(cx,next,start){return next==91?cx.append(new InlineDelimiter(LinkStart,start,start+1,1)):-1},Image(cx,next,start){return next==33&&cx.char(start+1)==91?cx.append(new InlineDelimiter(ImageStart,start,start+2,1)):-1},LinkEnd(cx,next,start){if(next!=93)return-1;for(let i=cx.parts.length-1;i>=0;i--){let part=cx.parts[i];if(part instanceof InlineDelimiter&&(part.type==LinkStart||part.type==ImageStart)){if(!part.side||cx.skipSpace(part.to)==start&&!/[(\[]/.test(cx.slice(start+1,start+2)))return cx.parts[i]=null,-1;let content2=cx.takeContent(i),link2=cx.parts[i]=finishLink(cx,content2,part.type==LinkStart?Type.Link:Type.Image,part.from,start+1);if(part.type==LinkStart)for(let j2=0;j2<i;j2++){let p2=cx.parts[j2];p2 instanceof InlineDelimiter&&p2.type==LinkStart&&(p2.side=0)}return link2.to}}return-1}};function finishLink(cx,content2,type,start,startPos){let{text:text2}=cx,next=cx.char(startPos),endPos=startPos;if(content2.unshift(elt(Type.LinkMark,start,start+(type==Type.Image?2:1))),content2.push(elt(Type.LinkMark,startPos-1,startPos)),next==40){let pos=cx.skipSpace(startPos+1),dest=parseURL(text2,pos-cx.offset,cx.offset),title;dest&&(pos=cx.skipSpace(dest.to),pos!=dest.to&&(title=parseLinkTitle(text2,pos-cx.offset,cx.offset),title&&(pos=cx.skipSpace(title.to)))),cx.char(pos)==41&&(content2.push(elt(Type.LinkMark,startPos,startPos+1)),endPos=pos+1,dest&&content2.push(dest),title&&content2.push(title),content2.push(elt(Type.LinkMark,pos,endPos)))}else if(next==91){let label=parseLinkLabel(text2,startPos-cx.offset,cx.offset,!1);label&&(content2.push(label),endPos=label.to)}return elt(type,start,endPos,content2)}function parseURL(text2,start,offset){if(text2.charCodeAt(start)==60){for(let pos=start+1;pos<text2.length;pos++){let ch=text2.charCodeAt(pos);if(ch==62)return elt(Type.URL,start+offset,pos+1+offset);if(ch==60||ch==10)return!1}return null}else{let depth=0,pos=start;for(let escaped=!1;pos<text2.length;pos++){let ch=text2.charCodeAt(pos);if(space$2(ch))break;if(escaped)escaped=!1;else if(ch==40)depth++;else if(ch==41){if(!depth)break;depth--}else ch==92&&(escaped=!0)}return pos>start?elt(Type.URL,start+offset,pos+offset):pos==text2.length?null:!1}}function parseLinkTitle(text2,start,offset){let next=text2.charCodeAt(start);if(next!=39&&next!=34&&next!=40)return!1;let end=next==40?41:next;for(let pos=start+1,escaped=!1;pos<text2.length;pos++){let ch=text2.charCodeAt(pos);if(escaped)escaped=!1;else{if(ch==end)return elt(Type.LinkTitle,start+offset,pos+1+offset);ch==92&&(escaped=!0)}}return null}function parseLinkLabel(text2,start,offset,requireNonWS){for(let escaped=!1,pos=start+1,end=Math.min(text2.length,pos+999);pos<end;pos++){let ch=text2.charCodeAt(pos);if(escaped)escaped=!1;else{if(ch==93)return requireNonWS?!1:elt(Type.LinkLabel,start+offset,pos+1+offset);if(requireNonWS&&!space$2(ch)&&(requireNonWS=!1),ch==91)return!1;ch==92&&(escaped=!0)}}return null}class InlineContext{constructor(parser2,text2,offset){this.parser=parser2,this.text=text2,this.offset=offset,this.parts=[]}char(pos){return pos>=this.end?-1:this.text.charCodeAt(pos-this.offset)}get end(){return this.offset+this.text.length}slice(from,to){return this.text.slice(from-this.offset,to-this.offset)}append(elt2){return this.parts.push(elt2),elt2.to}addDelimiter(type,from,to,open,close){return this.append(new InlineDelimiter(type,from,to,(open?1:0)|(close?2:0)))}get hasOpenLink(){for(let i=this.parts.length-1;i>=0;i--){let part=this.parts[i];if(part instanceof InlineDelimiter&&(part.type==LinkStart||part.type==ImageStart))return!0}return!1}addElement(elt2){return this.append(elt2)}resolveMarkers(from){for(let i=from;i<this.parts.length;i++){let close=this.parts[i];if(!(close instanceof InlineDelimiter&&close.type.resolve&&close.side&2))continue;let emp=close.type==EmphasisUnderscore||close.type==EmphasisAsterisk,closeSize=close.to-close.from,open,j2=i-1;for(;j2>=from;j2--){let part=this.parts[j2];if(part instanceof InlineDelimiter&&part.side&1&&part.type==close.type&&!(emp&&(close.side&1||part.side&2)&&(part.to-part.from+closeSize)%3==0&&((part.to-part.from)%3||closeSize%3))){open=part;break}}if(!open)continue;let type=close.type.resolve,content2=[],start=open.from,end=close.to;if(emp){let size=Math.min(2,open.to-open.from,closeSize);start=open.to-size,end=close.from+size,type=size==1?"Emphasis":"StrongEmphasis"}open.type.mark&&content2.push(this.elt(open.type.mark,start,open.to));for(let k2=j2+1;k2<i;k2++)this.parts[k2]instanceof Element$1&&content2.push(this.parts[k2]),this.parts[k2]=null;close.type.mark&&content2.push(this.elt(close.type.mark,close.from,end));let element=this.elt(type,start,end,content2);this.parts[j2]=emp&&open.from!=start?new InlineDelimiter(open.type,open.from,start,open.side):null,(this.parts[i]=emp&&close.to!=end?new InlineDelimiter(close.type,end,close.to,close.side):null)?this.parts.splice(i,0,element):this.parts[i]=element}let result=[];for(let i=from;i<this.parts.length;i++){let part=this.parts[i];part instanceof Element$1&&result.push(part)}return result}findOpeningDelimiter(type){for(let i=this.parts.length-1;i>=0;i--){let part=this.parts[i];if(part instanceof InlineDelimiter&&part.type==type&&part.side&1)return i}return null}takeContent(startIndex){let content2=this.resolveMarkers(startIndex);return this.parts.length=startIndex,content2}getDelimiterAt(index2){let part=this.parts[index2];return part instanceof InlineDelimiter?part:null}skipSpace(from){return skipSpace(this.text,from-this.offset)+this.offset}elt(type,from,to,children){return typeof type=="string"?elt(this.parser.getNodeType(type),from,to,children):new TreeElement(type,from)}}InlineContext.linkStart=LinkStart;InlineContext.imageStart=ImageStart;function injectMarks(elements,marks){if(!marks.length)return elements;if(!elements.length)return marks;let elts=elements.slice(),eI=0;for(let mark of marks){for(;eI<elts.length&&elts[eI].to<mark.to;)eI++;if(eI<elts.length&&elts[eI].from<mark.from){let e2=elts[eI];e2 instanceof Element$1&&(elts[eI]=new Element$1(e2.type,e2.from,e2.to,injectMarks(e2.children,[mark])))}else elts.splice(eI++,0,mark)}return elts}const NotLast=[Type.CodeBlock,Type.ListItem,Type.OrderedList,Type.BulletList];let FragmentCursor$1=class{constructor(fragments,input){this.fragments=fragments,this.input=input,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,fragments.length&&(this.fragment=fragments[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(pos,lineStart){for(;this.fragment&&this.fragment.to<=pos;)this.nextFragment();if(!this.fragment||this.fragment.from>(pos?pos-1:0))return!1;if(this.fragmentEnd<0){let end=this.fragment.to;for(;end>0&&this.input.read(end-1,end)!=`
`;)end--;this.fragmentEnd=end?end-1:0}let c2=this.cursor;c2||(c2=this.cursor=this.fragment.tree.cursor(),c2.firstChild());let rPos=pos+this.fragment.offset;for(;c2.to<=rPos;)if(!c2.parent())return!1;for(;;){if(c2.from>=rPos)return this.fragment.from<=lineStart;if(!c2.childAfter(rPos))return!1}}matches(hash2){let tree=this.cursor.tree;return tree&&tree.prop(NodeProp.contextHash)==hash2}takeNodes(cx){let cur2=this.cursor,off=this.fragment.offset,fragEnd=this.fragmentEnd-(this.fragment.openEnd?1:0),start=cx.absoluteLineStart,end=start,blockI=cx.block.children.length,prevEnd=end,prevI=blockI;for(;;){if(cur2.to-off>fragEnd){if(cur2.type.isAnonymous&&cur2.firstChild())continue;break}let pos=toRelative(cur2.from-off,cx.ranges);if(cur2.to-off<=cx.ranges[cx.rangeI].to)cx.addNode(cur2.tree,pos);else{let dummy=new Tree(cx.parser.nodeSet.types[Type.Paragraph],[],[],0,cx.block.hashProp);cx.reusePlaceholders.set(dummy,cur2.tree),cx.addNode(dummy,pos)}if(cur2.type.is("Block")&&(NotLast.indexOf(cur2.type.id)<0?(end=cur2.to-off,blockI=cx.block.children.length):(end=prevEnd,blockI=prevI,prevEnd=cur2.to-off,prevI=cx.block.children.length)),!cur2.nextSibling())break}for(;cx.block.children.length>blockI;)cx.block.children.pop(),cx.block.positions.pop();return end-start}};function toRelative(abs,ranges){let pos=abs;for(let i=1;i<ranges.length;i++){let gapFrom=ranges[i-1].to,gapTo=ranges[i].from;gapFrom<abs&&(pos-=gapTo-gapFrom)}return pos}const markdownHighlighting=styleTags({"Blockquote/...":tags$1.quote,HorizontalRule:tags$1.contentSeparator,"ATXHeading1/... SetextHeading1/...":tags$1.heading1,"ATXHeading2/... SetextHeading2/...":tags$1.heading2,"ATXHeading3/...":tags$1.heading3,"ATXHeading4/...":tags$1.heading4,"ATXHeading5/...":tags$1.heading5,"ATXHeading6/...":tags$1.heading6,"Comment CommentBlock":tags$1.comment,Escape:tags$1.escape,Entity:tags$1.character,"Emphasis/...":tags$1.emphasis,"StrongEmphasis/...":tags$1.strong,"Link/... Image/...":tags$1.link,"OrderedList/... BulletList/...":tags$1.list,"BlockQuote/...":tags$1.quote,"InlineCode CodeText":tags$1.monospace,"URL Autolink":tags$1.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":tags$1.processingInstruction,"CodeInfo LinkLabel":tags$1.labelName,LinkTitle:tags$1.string,Paragraph:tags$1.content}),parser$3=new MarkdownParser(new NodeSet(nodeTypes).extend(markdownHighlighting),Object.keys(DefaultBlockParsers).map(n2=>DefaultBlockParsers[n2]),Object.keys(DefaultBlockParsers).map(n2=>DefaultLeafBlocks[n2]),Object.keys(DefaultBlockParsers),DefaultEndLeaf,DefaultSkipMarkup,Object.keys(DefaultInline).map(n2=>DefaultInline[n2]),Object.keys(DefaultInline),[]);function leftOverSpace(node,from,to){let ranges=[];for(let n2=node.firstChild,pos=from;;n2=n2.nextSibling){let nextPos=n2?n2.from:to;if(nextPos>pos&&ranges.push({from:pos,to:nextPos}),!n2)break;pos=n2.to}return ranges}function parseCode(config2){let{codeParser,htmlParser}=config2;return{wrap:parseMixed((node,input)=>{let id2=node.type.id;if(codeParser&&(id2==Type.CodeBlock||id2==Type.FencedCode)){let info="";if(id2==Type.FencedCode){let infoNode=node.node.getChild(Type.CodeInfo);infoNode&&(info=input.read(infoNode.from,infoNode.to))}let parser2=codeParser(info);if(parser2)return{parser:parser2,overlay:node2=>node2.type.id==Type.CodeText}}else if(htmlParser&&(id2==Type.HTMLBlock||id2==Type.HTMLTag||id2==Type.CommentBlock))return{parser:htmlParser,overlay:leftOverSpace(node.node,node.from,node.to)};return null})}}const StrikethroughDelim={resolve:"Strikethrough",mark:"StrikethroughMark"},Strikethrough={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":tags$1.strikethrough}},{name:"StrikethroughMark",style:tags$1.processingInstruction}],parseInline:[{name:"Strikethrough",parse(cx,next,pos){if(next!=126||cx.char(pos+1)!=126||cx.char(pos+2)==126)return-1;let before=cx.slice(pos-1,pos),after=cx.slice(pos+2,pos+3),sBefore=/\s|^$/.test(before),sAfter=/\s|^$/.test(after),pBefore=Punctuation.test(before),pAfter=Punctuation.test(after);return cx.addDelimiter(StrikethroughDelim,pos,pos+2,!sAfter&&(!pAfter||sBefore||pBefore),!sBefore&&(!pBefore||sAfter||pAfter))},after:"Emphasis"}]};function parseRow(cx,line,startI=0,elts,offset=0){let count2=0,first=!0,cellStart=-1,cellEnd=-1,esc=!1,parseCell=()=>{elts.push(cx.elt("TableCell",offset+cellStart,offset+cellEnd,cx.parser.parseInline(line.slice(cellStart,cellEnd),offset+cellStart)))};for(let i=startI;i<line.length;i++){let next=line.charCodeAt(i);next==124&&!esc?((!first||cellStart>-1)&&count2++,first=!1,elts&&(cellStart>-1&&parseCell(),elts.push(cx.elt("TableDelimiter",i+offset,i+offset+1))),cellStart=cellEnd=-1):(esc||next!=32&&next!=9)&&(cellStart<0&&(cellStart=i),cellEnd=i+1),esc=!esc&&next==92}return cellStart>-1&&(count2++,elts&&parseCell()),count2}function hasPipe(str,start){for(let i=start;i<str.length;i++){let next=str.charCodeAt(i);if(next==124)return!0;next==92&&i++}return!1}const delimiterLine=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TableParser{constructor(){this.rows=null}nextLine(cx,line,leaf){if(this.rows==null){this.rows=!1;let lineText;if((line.next==45||line.next==58||line.next==124)&&delimiterLine.test(lineText=line.text.slice(line.pos))){let firstRow=[];parseRow(cx,leaf.content,0,firstRow,leaf.start)==parseRow(cx,lineText,line.pos)&&(this.rows=[cx.elt("TableHeader",leaf.start,leaf.start+leaf.content.length,firstRow),cx.elt("TableDelimiter",cx.lineStart+line.pos,cx.lineStart+line.text.length)])}}else if(this.rows){let content2=[];parseRow(cx,line.text,line.pos,content2,cx.lineStart),this.rows.push(cx.elt("TableRow",cx.lineStart+line.pos,cx.lineStart+line.text.length,content2))}return!1}finish(cx,leaf){return this.rows?(cx.addLeafElement(leaf,cx.elt("Table",leaf.start,leaf.start+leaf.content.length,this.rows)),!0):!1}}const Table={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":tags$1.heading}},"TableRow",{name:"TableCell",style:tags$1.content},{name:"TableDelimiter",style:tags$1.processingInstruction}],parseBlock:[{name:"Table",leaf(_2,leaf){return hasPipe(leaf.content,0)?new TableParser:null},endLeaf(cx,line,leaf){if(leaf.parsers.some(p2=>p2 instanceof TableParser)||!hasPipe(line.text,line.basePos))return!1;let next=cx.peekLine();return delimiterLine.test(next)&&parseRow(cx,line.text,line.basePos)==parseRow(cx,next,line.basePos)},before:"SetextHeading"}]};class TaskParser{nextLine(){return!1}finish(cx,leaf){return cx.addLeafElement(leaf,cx.elt("Task",leaf.start,leaf.start+leaf.content.length,[cx.elt("TaskMarker",leaf.start,leaf.start+3),...cx.parser.parseInline(leaf.content.slice(3),leaf.start+3)])),!0}}const TaskList={defineNodes:[{name:"Task",block:!0,style:tags$1.list},{name:"TaskMarker",style:tags$1.atom}],parseBlock:[{name:"TaskList",leaf(cx,leaf){return/^\[[ xX]\][ \t]/.test(leaf.content)&&cx.parentType().name=="ListItem"?new TaskParser:null},after:"SetextHeading"}]},autolinkRE=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,urlRE=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,lastTwoDomainWords=/[\w-]+\.[\w-]+($|\/)/,emailRE=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,xmppResourceRE=/\/[a-zA-Z\d@.]+/gy;function count(str,from,to,ch){let result=0;for(let i=from;i<to;i++)str[i]==ch&&result++;return result}function autolinkURLEnd(text2,from){urlRE.lastIndex=from;let m2=urlRE.exec(text2);if(!m2||lastTwoDomainWords.exec(m2[0])[0].indexOf("_")>-1)return-1;let end=from+m2[0].length;for(;;){let last=text2[end-1],m3;if(/[?!.,:*_~]/.test(last)||last==")"&&count(text2,from,end,")")>count(text2,from,end,"("))end--;else if(last==";"&&(m3=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(text2.slice(from,end))))end=from+m3.index;else break}return end}function autolinkEmailEnd(text2,from){emailRE.lastIndex=from;let m2=emailRE.exec(text2);if(!m2)return-1;let last=m2[0][m2[0].length-1];return last=="_"||last=="-"?-1:from+m2[0].length-(last=="."?1:0)}const Autolink={parseInline:[{name:"Autolink",parse(cx,next,absPos){let pos=absPos-cx.offset;if(pos&&/\w/.test(cx.text[pos-1]))return-1;autolinkRE.lastIndex=pos;let m2=autolinkRE.exec(cx.text),end=-1;if(!m2)return-1;if(m2[1]||m2[2]){if(end=autolinkURLEnd(cx.text,pos+m2[0].length),end>-1&&cx.hasOpenLink){let noBracket=/([^\[\]]|\[[^\]]*\])*/.exec(cx.text.slice(pos,end));end=pos+noBracket[0].length}}else m2[3]?end=autolinkEmailEnd(cx.text,pos):(end=autolinkEmailEnd(cx.text,pos+m2[0].length),end>-1&&m2[0]=="xmpp:"&&(xmppResourceRE.lastIndex=end,m2=xmppResourceRE.exec(cx.text),m2&&(end=m2.index+m2[0].length)));return end<0?-1:(cx.addElement(cx.elt("URL",absPos,end+cx.offset)),end+cx.offset)}}]},GFM=[Table,TaskList,Strikethrough,Autolink];function parseSubSuper(ch,node,mark){return(cx,next,pos)=>{if(next!=ch||cx.char(pos+1)==ch)return-1;let elts=[cx.elt(mark,pos,pos+1)];for(let i=pos+1;i<cx.end;i++){let next2=cx.char(i);if(next2==ch)return cx.addElement(cx.elt(node,pos,i+1,elts.concat(cx.elt(mark,i,i+1))));if(next2==92&&elts.push(cx.elt("Escape",i,i+++2)),space$2(next2))break}return-1}}const Superscript={defineNodes:[{name:"Superscript",style:tags$1.special(tags$1.content)},{name:"SuperscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Superscript",parse:parseSubSuper(94,"Superscript","SuperscriptMark")}]},Subscript={defineNodes:[{name:"Subscript",style:tags$1.special(tags$1.content)},{name:"SubscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Subscript",parse:parseSubSuper(126,"Subscript","SubscriptMark")}]},Emoji={defineNodes:[{name:"Emoji",style:tags$1.character}],parseInline:[{name:"Emoji",parse(cx,next,pos){let match2;return next!=58||!(match2=/^[a-zA-Z_0-9]+:/.exec(cx.slice(pos+1,cx.end)))?-1:cx.addElement(cx.elt("Emoji",pos,pos+1+match2[0].length))}}]};class Stack{constructor(p2,stack,state,reducePos,pos,score2,buffer,bufferBase,curContext,lookAhead=0,parent){this.p=p2,this.stack=stack,this.state=state,this.reducePos=reducePos,this.pos=pos,this.score=score2,this.buffer=buffer,this.bufferBase=bufferBase,this.curContext=curContext,this.lookAhead=lookAhead,this.parent=parent}toString(){return`[${this.stack.filter((_2,i)=>i%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(p2,state,pos=0){let cx=p2.parser.context;return new Stack(p2,[],state,pos,pos,0,[],0,cx?new StackContext(cx,cx.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(state,start){this.stack.push(this.state,start,this.bufferBase+this.buffer.length),this.state=state}reduce(action){var _a4;let depth=action>>19,type=action&65535,{parser:parser2}=this.p,lookaheadRecord=this.reducePos<this.pos-25;lookaheadRecord&&this.setLookAhead(this.pos);let dPrec=parser2.dynamicPrecedence(type);if(dPrec&&(this.score+=dPrec),depth==0){this.pushState(parser2.getGoto(this.state,type,!0),this.reducePos),type<parser2.minRepeatTerm&&this.storeNode(type,this.reducePos,this.reducePos,lookaheadRecord?8:4,!0),this.reduceContext(type,this.reducePos);return}let base2=this.stack.length-(depth-1)*3-(action&262144?6:0),start=base2?this.stack[base2-2]:this.p.ranges[0].from,size=this.reducePos-start;size>=2e3&&!(!((_a4=this.p.parser.nodeSet.types[type])===null||_a4===void 0)&&_a4.isAnonymous)&&(start==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=size):this.p.lastBigReductionSize<size&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=start,this.p.lastBigReductionSize=size));let bufferBase=base2?this.stack[base2-1]:0,count2=this.bufferBase+this.buffer.length-bufferBase;if(type<parser2.minRepeatTerm||action&131072){let pos=parser2.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(type,start,pos,count2+4,!0)}if(action&262144)this.state=this.stack[base2];else{let baseStateID=this.stack[base2-3];this.state=parser2.getGoto(baseStateID,type,!0)}for(;this.stack.length>base2;)this.stack.pop();this.reduceContext(type,start)}storeNode(term,start,end,size=4,mustSink=!1){if(term==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let cur2=this,top2=this.buffer.length;if(top2==0&&cur2.parent&&(top2=cur2.bufferBase-cur2.parent.bufferBase,cur2=cur2.parent),top2>0&&cur2.buffer[top2-4]==0&&cur2.buffer[top2-1]>-1){if(start==end)return;if(cur2.buffer[top2-2]>=start){cur2.buffer[top2-2]=end;return}}}if(!mustSink||this.pos==end)this.buffer.push(term,start,end,size);else{let index2=this.buffer.length;if(index2>0&&(this.buffer[index2-4]!=0||this.buffer[index2-1]<0)){let mustMove=!1;for(let scan=index2;scan>0&&this.buffer[scan-2]>end;scan-=4)if(this.buffer[scan-1]>=0){mustMove=!0;break}if(mustMove)for(;index2>0&&this.buffer[index2-2]>end;)this.buffer[index2]=this.buffer[index2-4],this.buffer[index2+1]=this.buffer[index2-3],this.buffer[index2+2]=this.buffer[index2-2],this.buffer[index2+3]=this.buffer[index2-1],index2-=4,size>4&&(size-=4)}this.buffer[index2]=term,this.buffer[index2+1]=start,this.buffer[index2+2]=end,this.buffer[index2+3]=size}}shift(action,type,start,end){if(action&131072)this.pushState(action&65535,this.pos);else if(action&262144)this.pos=end,this.shiftContext(type,start),type<=this.p.parser.maxNode&&this.buffer.push(type,start,end,4);else{let nextState=action,{parser:parser2}=this.p;(end>this.pos||type<=parser2.maxNode)&&(this.pos=end,parser2.stateFlag(nextState,1)||(this.reducePos=end)),this.pushState(nextState,start),this.shiftContext(type,start),type<=parser2.maxNode&&this.buffer.push(type,start,end,4)}}apply(action,next,nextStart,nextEnd){action&65536?this.reduce(action):this.shift(action,next,nextStart,nextEnd)}useNode(value,next){let index2=this.p.reused.length-1;(index2<0||this.p.reused[index2]!=value)&&(this.p.reused.push(value),index2++);let start=this.pos;this.reducePos=this.pos=start+value.length,this.pushState(next,start),this.buffer.push(index2,start,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,value,this,this.p.stream.reset(this.pos-value.length)))}split(){let parent=this,off=parent.buffer.length;for(;off>0&&parent.buffer[off-2]>parent.reducePos;)off-=4;let buffer=parent.buffer.slice(off),base2=parent.bufferBase+off;for(;parent&&base2==parent.bufferBase;)parent=parent.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,buffer,base2,this.curContext,this.lookAhead,parent)}recoverByDelete(next,nextEnd){let isNode3=next<=this.p.parser.maxNode;isNode3&&this.storeNode(next,this.pos,nextEnd,4),this.storeNode(0,this.pos,nextEnd,isNode3?8:4),this.pos=this.reducePos=nextEnd,this.score-=190}canShift(term){for(let sim=new SimulatedStack(this);;){let action=this.p.parser.stateSlot(sim.state,4)||this.p.parser.hasAction(sim.state,term);if(action==0)return!1;if(!(action&65536))return!0;sim.reduce(action)}}recoverByInsert(next){if(this.stack.length>=300)return[];let nextStates=this.p.parser.nextStates(this.state);if(nextStates.length>8||this.stack.length>=120){let best=[];for(let i=0,s2;i<nextStates.length;i+=2)(s2=nextStates[i+1])!=this.state&&this.p.parser.hasAction(s2,next)&&best.push(nextStates[i],s2);if(this.stack.length<120)for(let i=0;best.length<8&&i<nextStates.length;i+=2){let s2=nextStates[i+1];best.some((v2,i2)=>i2&1&&v2==s2)||best.push(nextStates[i],s2)}nextStates=best}let result=[];for(let i=0;i<nextStates.length&&result.length<4;i+=2){let s2=nextStates[i+1];if(s2==this.state)continue;let stack=this.split();stack.pushState(s2,this.pos),stack.storeNode(0,stack.pos,stack.pos,4,!0),stack.shiftContext(nextStates[i],this.pos),stack.reducePos=this.pos,stack.score-=200,result.push(stack)}return result}forceReduce(){let{parser:parser2}=this.p,reduce=parser2.stateSlot(this.state,5);if(!(reduce&65536))return!1;if(!parser2.validAction(this.state,reduce)){let depth=reduce>>19,term=reduce&65535,target=this.stack.length-depth*3;if(target<0||parser2.getGoto(this.stack[target],term,!1)<0){let backup=this.findForcedReduction();if(backup==null)return!1;reduce=backup}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(reduce),!0}findForcedReduction(){let{parser:parser2}=this.p,seen2=[],explore=(state,depth)=>{if(!seen2.includes(state))return seen2.push(state),parser2.allActions(state,action=>{if(!(action&393216))if(action&65536){let rDepth=(action>>19)-depth;if(rDepth>1){let term=action&65535,target=this.stack.length-rDepth*3;if(target>=0&&parser2.getGoto(this.stack[target],term,!1)>=0)return rDepth<<19|65536|term}}else{let found=explore(action,depth+1);if(found!=null)return found}})};return explore(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:parser2}=this.p;return parser2.data[parser2.stateSlot(this.state,1)]==65535&&!parser2.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(other){if(this.state!=other.state||this.stack.length!=other.stack.length)return!1;for(let i=0;i<this.stack.length;i+=3)if(this.stack[i]!=other.stack[i])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(dialectID){return this.p.parser.dialect.flags[dialectID]}shiftContext(term,start){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,term,this,this.p.stream.reset(start)))}reduceContext(term,start){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,term,this,this.p.stream.reset(start)))}emitContext(){let last=this.buffer.length-1;(last<0||this.buffer[last]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let last=this.buffer.length-1;(last<0||this.buffer[last]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(context){if(context!=this.curContext.context){let newCx=new StackContext(this.curContext.tracker,context);newCx.hash!=this.curContext.hash&&this.emitContext(),this.curContext=newCx}}setLookAhead(lookAhead){lookAhead>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=lookAhead)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(tracker,context){this.tracker=tracker,this.context=context,this.hash=tracker.strict?tracker.hash(context):0}}class SimulatedStack{constructor(start){this.start=start,this.state=start.state,this.stack=start.stack,this.base=this.stack.length}reduce(action){let term=action&65535,depth=action>>19;depth==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(depth-1)*3;let goto=this.start.p.parser.getGoto(this.stack[this.base-3],term,!0);this.state=goto}}class StackBufferCursor{constructor(stack,pos,index2){this.stack=stack,this.pos=pos,this.index=index2,this.buffer=stack.buffer,this.index==0&&this.maybeNext()}static create(stack,pos=stack.bufferBase+stack.buffer.length){return new StackBufferCursor(stack,pos,pos-stack.bufferBase)}maybeNext(){let next=this.stack.parent;next!=null&&(this.index=this.stack.bufferBase-next.bufferBase,this.stack=next,this.buffer=next.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(input,Type2=Uint16Array){if(typeof input!="string")return input;let array=null;for(let pos=0,out=0;pos<input.length;){let value=0;for(;;){let next=input.charCodeAt(pos++),stop=!1;if(next==126){value=65535;break}next>=92&&next--,next>=34&&next--;let digit=next-32;if(digit>=46&&(digit-=46,stop=!0),value+=digit,stop)break;value*=46}array?array[out++]=value:array=new Type2(value)}return array}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(input,ranges){this.input=input,this.ranges=ranges,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=ranges[0].from,this.range=ranges[0],this.end=ranges[ranges.length-1].to,this.readNext()}resolveOffset(offset,assoc){let range=this.range,index2=this.rangeIndex,pos=this.pos+offset;for(;pos<range.from;){if(!index2)return null;let next=this.ranges[--index2];pos-=range.from-next.to,range=next}for(;assoc<0?pos>range.to:pos>=range.to;){if(index2==this.ranges.length-1)return null;let next=this.ranges[++index2];pos+=next.from-range.to,range=next}return pos}clipPos(pos){if(pos>=this.range.from&&pos<this.range.to)return pos;for(let range of this.ranges)if(range.to>pos)return Math.max(pos,range.from);return this.end}peek(offset){let idx=this.chunkOff+offset,pos,result;if(idx>=0&&idx<this.chunk.length)pos=this.pos+offset,result=this.chunk.charCodeAt(idx);else{let resolved=this.resolveOffset(offset,1);if(resolved==null)return-1;if(pos=resolved,pos>=this.chunk2Pos&&pos<this.chunk2Pos+this.chunk2.length)result=this.chunk2.charCodeAt(pos-this.chunk2Pos);else{let i=this.rangeIndex,range=this.range;for(;range.to<=pos;)range=this.ranges[++i];this.chunk2=this.input.chunk(this.chunk2Pos=pos),pos+this.chunk2.length>range.to&&(this.chunk2=this.chunk2.slice(0,range.to-pos)),result=this.chunk2.charCodeAt(0)}}return pos>=this.token.lookAhead&&(this.token.lookAhead=pos+1),result}acceptToken(token,endOffset=0){let end=endOffset?this.resolveOffset(endOffset,-1):this.pos;if(end==null||end<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=token,this.token.end=end}acceptTokenTo(token,endPos){this.token.value=token,this.token.end=endPos}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk,chunkPos}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=chunk,this.chunk2Pos=chunkPos,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let nextChunk=this.input.chunk(this.pos),end=this.pos+nextChunk.length;this.chunk=end>this.range.to?nextChunk.slice(0,this.range.to-this.pos):nextChunk,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(n2=1){for(this.chunkOff+=n2;this.pos+n2>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();n2-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=n2,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(pos,token){if(token?(this.token=token,token.start=pos,token.lookAhead=pos+1,token.value=token.extended=-1):this.token=nullToken,this.pos!=pos){if(this.pos=pos,pos==this.end)return this.setDone(),this;for(;pos<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;pos>=this.range.to;)this.range=this.ranges[++this.rangeIndex];pos>=this.chunkPos&&pos<this.chunkPos+this.chunk.length?this.chunkOff=pos-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(from,to){if(from>=this.chunkPos&&to<=this.chunkPos+this.chunk.length)return this.chunk.slice(from-this.chunkPos,to-this.chunkPos);if(from>=this.chunk2Pos&&to<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(from-this.chunk2Pos,to-this.chunk2Pos);if(from>=this.range.from&&to<=this.range.to)return this.input.read(from,to);let result="";for(let r2 of this.ranges){if(r2.from>=to)break;r2.to>from&&(result+=this.input.read(Math.max(r2.from,from),Math.min(r2.to,to)))}return result}}class TokenGroup{constructor(data2,id2){this.data=data2,this.id=id2}token(input,stack){let{parser:parser2}=stack.p;readToken(this.data,input,stack,this.id,parser2.data,parser2.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(data2,precTable,elseToken){this.precTable=precTable,this.elseToken=elseToken,this.data=typeof data2=="string"?decodeArray(data2):data2}token(input,stack){let start=input.pos,skipped=0;for(;;){let atEof=input.next<0,nextPos=input.resolveOffset(1,1);if(readToken(this.data,input,stack,0,this.data,this.precTable),input.token.value>-1)break;if(this.elseToken==null)return;if(atEof||skipped++,nextPos==null)break;input.reset(nextPos,input.token)}skipped&&(input.reset(start,input.token),input.acceptToken(this.elseToken,skipped))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(token,options={}){this.token=token,this.contextual=!!options.contextual,this.fallback=!!options.fallback,this.extend=!!options.extend}}function readToken(data2,input,stack,group,precTable,precOffset){let state=0,groupMask=1<<group,{dialect}=stack.p.parser;scan:for(;groupMask&data2[state];){let accEnd=data2[state+1];for(let i=state+3;i<accEnd;i+=2)if((data2[i+1]&groupMask)>0){let term=data2[i];if(dialect.allows(term)&&(input.token.value==-1||input.token.value==term||overrides(term,input.token.value,precTable,precOffset))){input.acceptToken(term);break}}let next=input.next,low=0,high=data2[state+2];if(input.next<0&&high>low&&data2[accEnd+high*3-3]==65535){state=data2[accEnd+high*3-1];continue scan}for(;low<high;){let mid=low+high>>1,index2=accEnd+mid+(mid<<1),from=data2[index2],to=data2[index2+1]||65536;if(next<from)high=mid;else if(next>=to)low=mid+1;else{state=data2[index2+2],input.advance();continue scan}}break}}function findOffset(data2,start,term){for(let i=start,next;(next=data2[i])!=65535;i++)if(next==term)return i-start;return-1}function overrides(token,prev,tableData,tableOffset){let iPrev=findOffset(tableData,tableOffset,prev);return iPrev<0||findOffset(tableData,tableOffset,token)<iPrev}const verbose=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let stackIDs=null;function cutAt(tree,pos,side){let cursor=tree.cursor(IterMode.IncludeAnonymous);for(cursor.moveTo(pos);;)if(!(side<0?cursor.childBefore(pos):cursor.childAfter(pos)))for(;;){if((side<0?cursor.to<pos:cursor.from>pos)&&!cursor.type.isError)return side<0?Math.max(0,Math.min(cursor.to-1,pos-25)):Math.min(tree.length,Math.max(cursor.from+1,pos+25));if(side<0?cursor.prevSibling():cursor.nextSibling())break;if(!cursor.parent())return side<0?0:tree.length}}class FragmentCursor3{constructor(fragments,nodeSet2){this.fragments=fragments,this.nodeSet=nodeSet2,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let fr=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(fr){for(this.safeFrom=fr.openStart?cutAt(fr.tree,fr.from+fr.offset,1)-fr.offset:fr.from,this.safeTo=fr.openEnd?cutAt(fr.tree,fr.to+fr.offset,-1)-fr.offset:fr.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(fr.tree),this.start.push(-fr.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(pos){if(pos<this.nextStart)return null;for(;this.fragment&&this.safeTo<=pos;)this.nextFragment();if(!this.fragment)return null;for(;;){let last=this.trees.length-1;if(last<0)return this.nextFragment(),null;let top2=this.trees[last],index2=this.index[last];if(index2==top2.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let next=top2.children[index2],start=this.start[last]+top2.positions[index2];if(start>pos)return this.nextStart=start,null;if(next instanceof Tree){if(start==pos){if(start<this.safeFrom)return null;let end=start+next.length;if(end<=this.safeTo){let lookAhead=next.prop(NodeProp.lookAhead);if(!lookAhead||end+lookAhead<this.fragment.to)return next}}this.index[last]++,start+next.length>=Math.max(this.safeFrom,pos)&&(this.trees.push(next),this.start.push(start),this.index.push(0))}else this.index[last]++,this.nextStart=start+next.length}}}class TokenCache{constructor(parser2,stream){this.stream=stream,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=parser2.tokenizers.map(_2=>new CachedToken)}getActions(stack){let actionIndex=0,main=null,{parser:parser2}=stack.p,{tokenizers}=parser2,mask=parser2.stateSlot(stack.state,3),context=stack.curContext?stack.curContext.hash:0,lookAhead=0;for(let i=0;i<tokenizers.length;i++){if(!(1<<i&mask))continue;let tokenizer=tokenizers[i],token=this.tokens[i];if(!(main&&!tokenizer.fallback)&&((tokenizer.contextual||token.start!=stack.pos||token.mask!=mask||token.context!=context)&&(this.updateCachedToken(token,tokenizer,stack),token.mask=mask,token.context=context),token.lookAhead>token.end+25&&(lookAhead=Math.max(token.lookAhead,lookAhead)),token.value!=0)){let startIndex=actionIndex;if(token.extended>-1&&(actionIndex=this.addActions(stack,token.extended,token.end,actionIndex)),actionIndex=this.addActions(stack,token.value,token.end,actionIndex),!tokenizer.extend&&(main=token,actionIndex>startIndex))break}}for(;this.actions.length>actionIndex;)this.actions.pop();return lookAhead&&stack.setLookAhead(lookAhead),!main&&stack.pos==this.stream.end&&(main=new CachedToken,main.value=stack.p.parser.eofTerm,main.start=main.end=stack.pos,actionIndex=this.addActions(stack,main.value,main.end,actionIndex)),this.mainToken=main,this.actions}getMainToken(stack){if(this.mainToken)return this.mainToken;let main=new CachedToken,{pos,p:p2}=stack;return main.start=pos,main.end=Math.min(pos+1,p2.stream.end),main.value=pos==p2.stream.end?p2.parser.eofTerm:0,main}updateCachedToken(token,tokenizer,stack){let start=this.stream.clipPos(stack.pos);if(tokenizer.token(this.stream.reset(start,token),stack),token.value>-1){let{parser:parser2}=stack.p;for(let i=0;i<parser2.specialized.length;i++)if(parser2.specialized[i]==token.value){let result=parser2.specializers[i](this.stream.read(token.start,token.end),stack);if(result>=0&&stack.p.parser.dialect.allows(result>>1)){result&1?token.extended=result>>1:token.value=result>>1;break}}}else token.value=0,token.end=this.stream.clipPos(start+1)}putAction(action,token,end,index2){for(let i=0;i<index2;i+=3)if(this.actions[i]==action)return index2;return this.actions[index2++]=action,this.actions[index2++]=token,this.actions[index2++]=end,index2}addActions(stack,token,end,index2){let{state}=stack,{parser:parser2}=stack.p,{data:data2}=parser2;for(let set2=0;set2<2;set2++)for(let i=parser2.stateSlot(state,set2?2:1);;i+=3){if(data2[i]==65535)if(data2[i+1]==1)i=pair(data2,i+2);else{index2==0&&data2[i+1]==2&&(index2=this.putAction(pair(data2,i+2),token,end,index2));break}data2[i]==token&&(index2=this.putAction(pair(data2,i+1),token,end,index2))}return index2}}class Parse2{constructor(parser2,input,fragments,ranges){this.parser=parser2,this.input=input,this.ranges=ranges,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(input,ranges),this.tokens=new TokenCache(parser2,this.stream),this.topTerm=parser2.top[1];let{from}=ranges[0];this.stacks=[Stack.start(this,parser2.top[0],from)],this.fragments=fragments.length&&this.stream.end-from>parser2.bufferLength*4?new FragmentCursor3(fragments,parser2.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let stacks=this.stacks,pos=this.minStackPos,newStacks=this.stacks=[],stopped,stoppedTokens;if(this.bigReductionCount>300&&stacks.length==1){let[s2]=stacks;for(;s2.forceReduce()&&s2.stack.length&&s2.stack[s2.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let i=0;i<stacks.length;i++){let stack=stacks[i];for(;;){if(this.tokens.mainToken=null,stack.pos>pos)newStacks.push(stack);else{if(this.advanceStack(stack,newStacks,stacks))continue;{stopped||(stopped=[],stoppedTokens=[]),stopped.push(stack);let tok=this.tokens.getMainToken(stack);stoppedTokens.push(tok.value,tok.end)}}break}}if(!newStacks.length){let finished=stopped&&findFinished(stopped);if(finished)return verbose&&console.log("Finish with "+this.stackID(finished)),this.stackToTree(finished);if(this.parser.strict)throw verbose&&stopped&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+pos);this.recovering||(this.recovering=5)}if(this.recovering&&stopped){let finished=this.stoppedAt!=null&&stopped[0].pos>this.stoppedAt?stopped[0]:this.runRecovery(stopped,stoppedTokens,newStacks);if(finished)return verbose&&console.log("Force-finish "+this.stackID(finished)),this.stackToTree(finished.forceAll())}if(this.recovering){let maxRemaining=this.recovering==1?1:this.recovering*3;if(newStacks.length>maxRemaining)for(newStacks.sort((a2,b2)=>b2.score-a2.score);newStacks.length>maxRemaining;)newStacks.pop();newStacks.some(s2=>s2.reducePos>pos)&&this.recovering--}else if(newStacks.length>1){outer:for(let i=0;i<newStacks.length-1;i++){let stack=newStacks[i];for(let j2=i+1;j2<newStacks.length;j2++){let other=newStacks[j2];if(stack.sameState(other)||stack.buffer.length>500&&other.buffer.length>500)if((stack.score-other.score||stack.buffer.length-other.buffer.length)>0)newStacks.splice(j2--,1);else{newStacks.splice(i--,1);continue outer}}}newStacks.length>12&&newStacks.splice(12,newStacks.length-12)}this.minStackPos=newStacks[0].pos;for(let i=1;i<newStacks.length;i++)newStacks[i].pos<this.minStackPos&&(this.minStackPos=newStacks[i].pos);return null}stopAt(pos){if(this.stoppedAt!=null&&this.stoppedAt<pos)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=pos}advanceStack(stack,stacks,split){let start=stack.pos,{parser:parser2}=this,base2=verbose?this.stackID(stack)+" -> ":"";if(this.stoppedAt!=null&&start>this.stoppedAt)return stack.forceReduce()?stack:null;if(this.fragments){let strictCx=stack.curContext&&stack.curContext.tracker.strict,cxHash=strictCx?stack.curContext.hash:0;for(let cached=this.fragments.nodeAt(start);cached;){let match2=this.parser.nodeSet.types[cached.type.id]==cached.type?parser2.getGoto(stack.state,cached.type.id):-1;if(match2>-1&&cached.length&&(!strictCx||(cached.prop(NodeProp.contextHash)||0)==cxHash))return stack.useNode(cached,match2),verbose&&console.log(base2+this.stackID(stack)+` (via reuse of ${parser2.getName(cached.type.id)})`),!0;if(!(cached instanceof Tree)||cached.children.length==0||cached.positions[0]>0)break;let inner=cached.children[0];if(inner instanceof Tree&&cached.positions[0]==0)cached=inner;else break}}let defaultReduce=parser2.stateSlot(stack.state,4);if(defaultReduce>0)return stack.reduce(defaultReduce),verbose&&console.log(base2+this.stackID(stack)+` (via always-reduce ${parser2.getName(defaultReduce&65535)})`),!0;if(stack.stack.length>=8400)for(;stack.stack.length>6e3&&stack.forceReduce(););let actions=this.tokens.getActions(stack);for(let i=0;i<actions.length;){let action=actions[i++],term=actions[i++],end=actions[i++],last=i==actions.length||!split,localStack=last?stack:stack.split(),main=this.tokens.mainToken;if(localStack.apply(action,term,main?main.start:localStack.pos,end),verbose&&console.log(base2+this.stackID(localStack)+` (via ${action&65536?`reduce of ${parser2.getName(action&65535)}`:"shift"} for ${parser2.getName(term)} @ ${start}${localStack==stack?"":", split"})`),last)return!0;localStack.pos>start?stacks.push(localStack):split.push(localStack)}return!1}advanceFully(stack,newStacks){let pos=stack.pos;for(;;){if(!this.advanceStack(stack,null,null))return!1;if(stack.pos>pos)return pushStackDedup(stack,newStacks),!0}}runRecovery(stacks,tokens,newStacks){let finished=null,restarted=!1;for(let i=0;i<stacks.length;i++){let stack=stacks[i],token=tokens[i<<1],tokenEnd=tokens[(i<<1)+1],base2=verbose?this.stackID(stack)+" -> ":"";if(stack.deadEnd&&(restarted||(restarted=!0,stack.restart(),verbose&&console.log(base2+this.stackID(stack)+" (restarted)"),this.advanceFully(stack,newStacks))))continue;let force=stack.split(),forceBase=base2;for(let j2=0;j2<10&&force.forceReduce()&&(verbose&&console.log(forceBase+this.stackID(force)+" (via force-reduce)"),!this.advanceFully(force,newStacks));j2++)verbose&&(forceBase=this.stackID(force)+" -> ");for(let insert2 of stack.recoverByInsert(token))verbose&&console.log(base2+this.stackID(insert2)+" (via recover-insert)"),this.advanceFully(insert2,newStacks);this.stream.end>stack.pos?(tokenEnd==stack.pos&&(tokenEnd++,token=0),stack.recoverByDelete(token,tokenEnd),verbose&&console.log(base2+this.stackID(stack)+` (via recover-delete ${this.parser.getName(token)})`),pushStackDedup(stack,newStacks)):(!finished||finished.score<stack.score)&&(finished=stack)}return finished}stackToTree(stack){return stack.close(),Tree.build({buffer:StackBufferCursor.create(stack),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:stack.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(stack){let id2=(stackIDs||(stackIDs=new WeakMap)).get(stack);return id2||stackIDs.set(stack,id2=String.fromCodePoint(this.nextStackID++)),id2+stack}}function pushStackDedup(stack,newStacks){for(let i=0;i<newStacks.length;i++){let other=newStacks[i];if(other.pos==stack.pos&&other.sameState(stack)){newStacks[i].score<stack.score&&(newStacks[i]=stack);return}}newStacks.push(stack)}class Dialect{constructor(source,flags,disabled){this.source=source,this.flags=flags,this.disabled=disabled}allows(term){return!this.disabled||this.disabled[term]==0}}const id=x2=>x2;class ContextTracker{constructor(spec){this.start=spec.start,this.shift=spec.shift||id,this.reduce=spec.reduce||id,this.reuse=spec.reuse||id,this.hash=spec.hash||(()=>0),this.strict=spec.strict!==!1}}class LRParser extends Parser{constructor(spec){if(super(),this.wrappers=[],spec.version!=14)throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (14)`);let nodeNames=spec.nodeNames.split(" ");this.minRepeatTerm=nodeNames.length;for(let i=0;i<spec.repeatNodeCount;i++)nodeNames.push("");let topTerms=Object.keys(spec.topRules).map(r2=>spec.topRules[r2][1]),nodeProps=[];for(let i=0;i<nodeNames.length;i++)nodeProps.push([]);function setProp(nodeID,prop,value){nodeProps[nodeID].push([prop,prop.deserialize(String(value))])}if(spec.nodeProps)for(let propSpec of spec.nodeProps){let prop=propSpec[0];typeof prop=="string"&&(prop=NodeProp[prop]);for(let i=1;i<propSpec.length;){let next=propSpec[i++];if(next>=0)setProp(next,prop,propSpec[i++]);else{let value=propSpec[i+-next];for(let j2=-next;j2>0;j2--)setProp(propSpec[i++],prop,value);i++}}}this.nodeSet=new NodeSet(nodeNames.map((name2,i)=>NodeType.define({name:i>=this.minRepeatTerm?void 0:name2,id:i,props:nodeProps[i],top:topTerms.indexOf(i)>-1,error:i==0,skipped:spec.skippedNodes&&spec.skippedNodes.indexOf(i)>-1}))),spec.propSources&&(this.nodeSet=this.nodeSet.extend(...spec.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let tokenArray=decodeArray(spec.tokenData);this.context=spec.context,this.specializerSpecs=spec.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let i=0;i<this.specializerSpecs.length;i++)this.specialized[i]=this.specializerSpecs[i].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(spec.states,Uint32Array),this.data=decodeArray(spec.stateData),this.goto=decodeArray(spec.goto),this.maxTerm=spec.maxTerm,this.tokenizers=spec.tokenizers.map(value=>typeof value=="number"?new TokenGroup(tokenArray,value):value),this.topRules=spec.topRules,this.dialects=spec.dialects||{},this.dynamicPrecedences=spec.dynamicPrecedences||null,this.tokenPrecTable=spec.tokenPrec,this.termNames=spec.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(input,fragments,ranges){let parse=new Parse2(this,input,fragments,ranges);for(let w2 of this.wrappers)parse=w2(parse,input,fragments,ranges);return parse}getGoto(state,term,loose=!1){let table2=this.goto;if(term>=table2[0])return-1;for(let pos=table2[term+1];;){let groupTag=table2[pos++],last=groupTag&1,target=table2[pos++];if(last&&loose)return target;for(let end=pos+(groupTag>>1);pos<end;pos++)if(table2[pos]==state)return target;if(last)return-1}}hasAction(state,terminal){let data2=this.data;for(let set2=0;set2<2;set2++)for(let i=this.stateSlot(state,set2?2:1),next;;i+=3){if((next=data2[i])==65535)if(data2[i+1]==1)next=data2[i=pair(data2,i+2)];else{if(data2[i+1]==2)return pair(data2,i+2);break}if(next==terminal||next==0)return pair(data2,i+1)}return 0}stateSlot(state,slot){return this.states[state*6+slot]}stateFlag(state,flag){return(this.stateSlot(state,0)&flag)>0}validAction(state,action){return!!this.allActions(state,a2=>a2==action?!0:null)}allActions(state,action){let deflt=this.stateSlot(state,4),result=deflt?action(deflt):void 0;for(let i=this.stateSlot(state,1);result==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=pair(this.data,i+2);else break;result=action(pair(this.data,i+1))}return result}nextStates(state){let result=[];for(let i=this.stateSlot(state,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=pair(this.data,i+2);else break;if(!(this.data[i+2]&1)){let value=this.data[i+1];result.some((v2,i2)=>i2&1&&v2==value)||result.push(this.data[i],value)}}return result}configure(config2){let copy=Object.assign(Object.create(LRParser.prototype),this);if(config2.props&&(copy.nodeSet=this.nodeSet.extend(...config2.props)),config2.top){let info=this.topRules[config2.top];if(!info)throw new RangeError(`Invalid top rule name ${config2.top}`);copy.top=info}return config2.tokenizers&&(copy.tokenizers=this.tokenizers.map(t2=>{let found=config2.tokenizers.find(r2=>r2.from==t2);return found?found.to:t2})),config2.specializers&&(copy.specializers=this.specializers.slice(),copy.specializerSpecs=this.specializerSpecs.map((s2,i)=>{let found=config2.specializers.find(r2=>r2.from==s2.external);if(!found)return s2;let spec=Object.assign(Object.assign({},s2),{external:found.to});return copy.specializers[i]=getSpecializer(spec),spec})),config2.contextTracker&&(copy.context=config2.contextTracker),config2.dialect&&(copy.dialect=this.parseDialect(config2.dialect)),config2.strict!=null&&(copy.strict=config2.strict),config2.wrap&&(copy.wrappers=copy.wrappers.concat(config2.wrap)),config2.bufferLength!=null&&(copy.bufferLength=config2.bufferLength),copy}hasWrappers(){return this.wrappers.length>0}getName(term){return this.termNames?this.termNames[term]:String(term<=this.maxNode&&this.nodeSet.types[term].name||term)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(term){let prec2=this.dynamicPrecedences;return prec2==null?0:prec2[term]||0}parseDialect(dialect){let values2=Object.keys(this.dialects),flags=values2.map(()=>!1);if(dialect)for(let part of dialect.split(" ")){let id2=values2.indexOf(part);id2>=0&&(flags[id2]=!0)}let disabled=null;for(let i=0;i<values2.length;i++)if(!flags[i])for(let j2=this.dialects[values2[i]],id2;(id2=this.data[j2++])!=65535;)(disabled||(disabled=new Uint8Array(this.maxTerm+1)))[id2]=1;return new Dialect(dialect,flags,disabled)}static deserialize(spec){return new LRParser(spec)}}function pair(data2,off){return data2[off]|data2[off+1]<<16}function findFinished(stacks){let best=null;for(let stack of stacks){let stopped=stack.p.stoppedAt;(stack.pos==stack.p.stream.end||stopped!=null&&stack.pos>stopped)&&stack.p.parser.stateFlag(stack.state,2)&&(!best||best.score<stack.score)&&(best=stack)}return best}function getSpecializer(spec){if(spec.external){let mask=spec.extend?1:0;return(value,stack)=>spec.external(value,stack)<<1|mask}return spec.get}const scriptText=55,StartCloseScriptTag=1,styleText=56,StartCloseStyleTag=2,textareaText=57,StartCloseTextareaTag=3,EndTag=4,SelfClosingEndTag=5,StartTag=6,StartScriptTag=7,StartStyleTag=8,StartTextareaTag=9,StartSelfClosingTag=10,StartCloseTag=11,NoMatchStartCloseTag=12,MismatchedStartCloseTag=13,missingCloseTag=58,IncompleteTag=14,IncompleteCloseTag=15,commentContent$1=59,Element2=21,TagName=23,Attribute=24,AttributeName=25,AttributeValue=27,UnquotedAttributeValue=28,ScriptText=29,StyleText=32,TextareaText=35,OpenTag=37,CloseTag=38,Dialect_noMatch=0,Dialect_selfClosing=1,selfClosers$1={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},closeOnOpen={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function nameChar(ch){return ch==45||ch==46||ch==58||ch>=65&&ch<=90||ch==95||ch>=97&&ch<=122||ch>=161}let cachedName=null,cachedInput=null,cachedPos=0;function tagNameAfter(input,offset){let pos=input.pos+offset;if(cachedPos==pos&&cachedInput==input)return cachedName;let next=input.peek(offset),name2="";for(;nameChar(next);)name2+=String.fromCharCode(next),next=input.peek(++offset);return cachedInput=input,cachedPos=pos,cachedName=name2?name2.toLowerCase():next==question$1||next==bang?void 0:null}const lessThan=60,greaterThan=62,slash$1=47,question$1=63,bang=33,dash$1=45;function ElementContext(name2,parent){this.name=name2,this.parent=parent}const startTagTerms=[StartTag,StartSelfClosingTag,StartScriptTag,StartStyleTag,StartTextareaTag],elementContext=new ContextTracker({start:null,shift(context,term,stack,input){return startTagTerms.indexOf(term)>-1?new ElementContext(tagNameAfter(input,1)||"",context):context},reduce(context,term){return term==Element2&&context?context.parent:context},reuse(context,node,stack,input){let type=node.type.id;return type==StartTag||type==OpenTag?new ElementContext(tagNameAfter(input,1)||"",context):context},strict:!1}),tagStart=new ExternalTokenizer((input,stack)=>{if(input.next!=lessThan){input.next<0&&stack.context&&input.acceptToken(missingCloseTag);return}input.advance();let close=input.next==slash$1;close&&input.advance();let name2=tagNameAfter(input,0);if(name2===void 0)return;if(!name2)return input.acceptToken(close?IncompleteCloseTag:IncompleteTag);let parent=stack.context?stack.context.name:null;if(close){if(name2==parent)return input.acceptToken(StartCloseTag);if(parent&&implicitlyClosed[parent])return input.acceptToken(missingCloseTag,-2);if(stack.dialectEnabled(Dialect_noMatch))return input.acceptToken(NoMatchStartCloseTag);for(let cx=stack.context;cx;cx=cx.parent)if(cx.name==name2)return;input.acceptToken(MismatchedStartCloseTag)}else{if(name2=="script")return input.acceptToken(StartScriptTag);if(name2=="style")return input.acceptToken(StartStyleTag);if(name2=="textarea")return input.acceptToken(StartTextareaTag);if(selfClosers$1.hasOwnProperty(name2))return input.acceptToken(StartSelfClosingTag);parent&&closeOnOpen[parent]&&closeOnOpen[parent][name2]?input.acceptToken(missingCloseTag,-1):input.acceptToken(StartTag)}},{contextual:!0}),commentContent=new ExternalTokenizer(input=>{for(let dashes=0,i=0;;i++){if(input.next<0){i&&input.acceptToken(commentContent$1);break}if(input.next==dash$1)dashes++;else if(input.next==greaterThan&&dashes>=2){i>=3&&input.acceptToken(commentContent$1,-2);break}else dashes=0;input.advance()}});function inForeignElement(context){for(;context;context=context.parent)if(context.name=="svg"||context.name=="math")return!0;return!1}const endTag=new ExternalTokenizer((input,stack)=>{if(input.next==slash$1&&input.peek(1)==greaterThan){let selfClosing=stack.dialectEnabled(Dialect_selfClosing)||inForeignElement(stack.context);input.acceptToken(selfClosing?SelfClosingEndTag:EndTag,2)}else input.next==greaterThan&&input.acceptToken(EndTag,1)});function contentTokenizer(tag,textToken,endToken){let lastState=2+tag.length;return new ExternalTokenizer(input=>{for(let state=0,matchedLen=0,i=0;;i++){if(input.next<0){i&&input.acceptToken(textToken);break}if(state==0&&input.next==lessThan||state==1&&input.next==slash$1||state>=2&&state<lastState&&input.next==tag.charCodeAt(state-2))state++,matchedLen++;else if(state==lastState&&input.next==greaterThan){i>matchedLen?input.acceptToken(textToken,-matchedLen):input.acceptToken(endToken,-(matchedLen-2));break}else if((input.next==10||input.next==13)&&i){input.acceptToken(textToken,1);break}else state=matchedLen=0;input.advance()}})}const scriptTokens=contentTokenizer("script",scriptText,StartCloseScriptTag),styleTokens=contentTokenizer("style",styleText,StartCloseStyleTag),textareaTokens=contentTokenizer("textarea",textareaText,StartCloseTextareaTag),htmlHighlighting=styleTags({"Text RawText IncompleteTag IncompleteCloseTag":tags$1.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":tags$1.angleBracket,TagName:tags$1.tagName,"MismatchedCloseTag/TagName":[tags$1.tagName,tags$1.invalid],AttributeName:tags$1.attributeName,"AttributeValue UnquotedAttributeValue":tags$1.attributeValue,Is:tags$1.definitionOperator,"EntityReference CharacterReference":tags$1.character,Comment:tags$1.blockComment,ProcessingInst:tags$1.processingInstruction,DoctypeDecl:tags$1.documentMeta}),parser$2=LRParser.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"‚ö† StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:elementContext,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[htmlHighlighting],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[scriptTokens,styleTokens,textareaTokens,endTag,tagStart,commentContent,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function getAttrs(openTag,input){let attrs=Object.create(null);for(let att of openTag.getChildren(Attribute)){let name2=att.getChild(AttributeName),value=att.getChild(AttributeValue)||att.getChild(UnquotedAttributeValue);name2&&(attrs[input.read(name2.from,name2.to)]=value?value.type.id==AttributeValue?input.read(value.from+1,value.to-1):input.read(value.from,value.to):"")}return attrs}function findTagName(openTag,input){let tagNameNode=openTag.getChild(TagName);return tagNameNode?input.read(tagNameNode.from,tagNameNode.to):" "}function maybeNest(node,input,tags2){let attrs;for(let tag of tags2)if(!tag.attrs||tag.attrs(attrs||(attrs=getAttrs(node.node.parent.firstChild,input))))return{parser:tag.parser};return null}function configureNesting(tags2=[],attributes=[]){let script=[],style=[],textarea=[],other=[];for(let tag of tags2)(tag.tag=="script"?script:tag.tag=="style"?style:tag.tag=="textarea"?textarea:other).push(tag);let attrs=attributes.length?Object.create(null):null;for(let attr of attributes)(attrs[attr.name]||(attrs[attr.name]=[])).push(attr);return parseMixed((node,input)=>{let id2=node.type.id;if(id2==ScriptText)return maybeNest(node,input,script);if(id2==StyleText)return maybeNest(node,input,style);if(id2==TextareaText)return maybeNest(node,input,textarea);if(id2==Element2&&other.length){let n2=node.node,open=n2.firstChild,tagName=open&&findTagName(open,input),attrs2;if(tagName){for(let tag of other)if(tag.tag==tagName&&(!tag.attrs||tag.attrs(attrs2||(attrs2=getAttrs(open,input))))){let close=n2.lastChild,to=close.type.id==CloseTag?close.from:n2.to;if(to>open.to)return{parser:tag.parser,overlay:[{from:open.to,to}]}}}}if(attrs&&id2==Attribute){let n2=node.node,nameNode;if(nameNode=n2.firstChild){let matches=attrs[input.read(nameNode.from,nameNode.to)];if(matches)for(let attr of matches){if(attr.tagName&&attr.tagName!=findTagName(n2.parent,input))continue;let value=n2.lastChild;if(value.type.id==AttributeValue){let from=value.from+1,last=value.lastChild,to=value.to-(last&&last.isError?0:1);if(to>from)return{parser:attr.parser,overlay:[{from,to}]}}else if(value.type.id==UnquotedAttributeValue)return{parser:attr.parser,overlay:[{from:value.from,to:value.to}]}}}}return null})}const descendantOp=122,Unit=1,identifier$2=123,callee=124,VariableName=2,queryIdentifier=125,queryVariableName=3,QueryCallee=4,space$1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],colon=58,parenL=40,underscore=95,bracketL$1=91,dash=45,period=46,hash=35,percent=37,ampersand=38,backslash=92,newline$1=10,asterisk=42;function isAlpha(ch){return ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=161}function isDigit(ch){return ch>=48&&ch<=57}function isHex(ch){return isDigit(ch)||ch>=97&&ch<=102||ch>=65&&ch<=70}const identifierTokens=(id2,varName,callee2)=>(input,stack)=>{for(let inside2=!1,dashes=0,i=0;;i++){let{next}=input;if(isAlpha(next)||next==dash||next==underscore||inside2&&isDigit(next))!inside2&&(next!=dash||i>0)&&(inside2=!0),dashes===i&&next==dash&&dashes++,input.advance();else if(next==backslash&&input.peek(1)!=newline$1){if(input.advance(),isHex(input.next)){do input.advance();while(isHex(input.next));input.next==32&&input.advance()}else input.next>-1&&input.advance();inside2=!0}else{inside2&&input.acceptToken(dashes==2&&stack.canShift(VariableName)?varName:next==parenL?callee2:id2);break}}},identifiers=new ExternalTokenizer(identifierTokens(identifier$2,VariableName,callee)),queryIdentifiers=new ExternalTokenizer(identifierTokens(queryIdentifier,queryVariableName,QueryCallee)),descendant=new ExternalTokenizer(input=>{if(space$1.includes(input.peek(-1))){let{next}=input;(isAlpha(next)||next==underscore||next==hash||next==period||next==asterisk||next==bracketL$1||next==colon&&isAlpha(input.peek(1))||next==dash||next==ampersand)&&input.acceptToken(descendantOp)}}),unitToken=new ExternalTokenizer(input=>{if(!space$1.includes(input.peek(-1))){let{next}=input;if(next==percent&&(input.advance(),input.acceptToken(Unit)),isAlpha(next)){do input.advance();while(isAlpha(input.next)||isDigit(input.next));input.acceptToken(Unit)}}}),cssHighlighting=styleTags({"AtKeyword import charset namespace keyframes media supports":tags$1.definitionKeyword,"from to selector":tags$1.keyword,NamespaceName:tags$1.namespace,KeyframeName:tags$1.labelName,KeyframeRangeName:tags$1.operatorKeyword,TagName:tags$1.tagName,ClassName:tags$1.className,PseudoClassName:tags$1.constant(tags$1.className),IdName:tags$1.labelName,"FeatureName PropertyName":tags$1.propertyName,AttributeName:tags$1.attributeName,NumberLiteral:tags$1.number,KeywordQuery:tags$1.keyword,UnaryQueryOp:tags$1.operatorKeyword,"CallTag ValueName":tags$1.atom,VariableName:tags$1.variableName,Callee:tags$1.operatorKeyword,Unit:tags$1.unit,"UniversalSelector NestingSelector":tags$1.definitionOperator,"MatchOp CompareOp":tags$1.compareOperator,"ChildOp SiblingOp, LogicOp":tags$1.logicOperator,BinOp:tags$1.arithmeticOperator,Important:tags$1.modifier,Comment:tags$1.blockComment,ColorLiteral:tags$1.color,"ParenthesizedContent StringLiteral":tags$1.string,":":tags$1.punctuation,"PseudoOp #":tags$1.derefOperator,"; ,":tags$1.separator,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),spec_callee={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},spec_queryIdentifier={__proto__:null,or:98,and:98,not:106,only:106,layer:170},spec_QueryCallee={__proto__:null,selector:112,layer:166},spec_AtKeyword={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},spec_identifier$1={__proto__:null,to:207},parser$1=LRParser.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:"‚ö† Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[cssHighlighting],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[descendant,unitToken,identifiers,queryIdentifiers,1,2,3,4,new LocalTokenGroup("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:value=>spec_callee[value]||-1},{term:125,get:value=>spec_queryIdentifier[value]||-1},{term:4,get:value=>spec_QueryCallee[value]||-1},{term:25,get:value=>spec_AtKeyword[value]||-1},{term:123,get:value=>spec_identifier$1[value]||-1}],tokenPrec:1963});let _properties=null;function properties(){if(!_properties&&typeof document=="object"&&document.body){let{style}=document.body,names=[],seen2=new Set;for(let prop in style)prop!="cssText"&&prop!="cssFloat"&&typeof style[prop]=="string"&&(/[A-Z]/.test(prop)&&(prop=prop.replace(/[A-Z]/g,ch=>"-"+ch.toLowerCase())),seen2.has(prop)||(names.push(prop),seen2.add(prop)));_properties=names.sort().map(name2=>({type:"property",label:name2,apply:name2+": "}))}return _properties||[]}const pseudoClasses=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(name2=>({type:"class",label:name2})),values=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(name2=>({type:"keyword",label:name2})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(name2=>({type:"constant",label:name2}))),tags=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(name2=>({type:"type",label:name2})),atRules=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(label=>({type:"keyword",label})),identifier$1=/^(\w[\w-]*|-\w[\w-]*|)$/,variable=/^-(-[\w-]*)?$/;function isVarArg(node,doc2){var _a4;if((node.name=="("||node.type.isError)&&(node=node.parent||node),node.name!="ArgList")return!1;let callee2=(_a4=node.parent)===null||_a4===void 0?void 0:_a4.firstChild;return callee2?.name!="Callee"?!1:doc2.sliceString(callee2.from,callee2.to)=="var"}const VariablesByNode=new NodeWeakMap,declSelector=["Declaration"];function astTop(node){for(let cur2=node;;){if(cur2.type.isTop)return cur2;if(!(cur2=cur2.parent))return node}}function variableNames(doc2,node,isVariable){if(node.to-node.from>4096){let known=VariablesByNode.get(node);if(known)return known;let result=[],seen2=new Set,cursor=node.cursor(IterMode.IncludeAnonymous);if(cursor.firstChild())do for(let option of variableNames(doc2,cursor.node,isVariable))seen2.has(option.label)||(seen2.add(option.label),result.push(option));while(cursor.nextSibling());return VariablesByNode.set(node,result),result}else{let result=[],seen2=new Set;return node.cursor().iterate(node2=>{var _a4;if(isVariable(node2)&&node2.matchContext(declSelector)&&((_a4=node2.node.nextSibling)===null||_a4===void 0?void 0:_a4.name)==":"){let name2=doc2.sliceString(node2.from,node2.to);seen2.has(name2)||(seen2.add(name2),result.push({label:name2,type:"variable"}))}}),result}}const defineCSSCompletionSource=isVariable=>context=>{let{state,pos}=context,node=syntaxTree(state).resolveInner(pos,-1),isDash=node.type.isError&&node.from==node.to-1&&state.doc.sliceString(node.from,node.to)=="-";if(node.name=="PropertyName"||(isDash||node.name=="TagName")&&/^(Block|Styles)$/.test(node.resolve(node.to).name))return{from:node.from,options:properties(),validFor:identifier$1};if(node.name=="ValueName")return{from:node.from,options:values,validFor:identifier$1};if(node.name=="PseudoClassName")return{from:node.from,options:pseudoClasses,validFor:identifier$1};if(isVariable(node)||(context.explicit||isDash)&&isVarArg(node,state.doc))return{from:isVariable(node)||isDash?node.from:pos,options:variableNames(state.doc,astTop(node),isVariable),validFor:variable};if(node.name=="TagName"){for(let{parent}=node;parent;parent=parent.parent)if(parent.name=="Block")return{from:node.from,options:properties(),validFor:identifier$1};return{from:node.from,options:tags,validFor:identifier$1}}if(node.name=="AtKeyword")return{from:node.from,options:atRules,validFor:identifier$1};if(!context.explicit)return null;let above=node.resolve(pos),before=above.childBefore(pos);return before&&before.name==":"&&above.name=="PseudoClassSelector"?{from:pos,options:pseudoClasses,validFor:identifier$1}:before&&before.name==":"&&above.name=="Declaration"||above.name=="ArgList"?{from:pos,options:values,validFor:identifier$1}:above.name=="Block"||above.name=="Styles"?{from:pos,options:properties(),validFor:identifier$1}:null},cssCompletionSource=defineCSSCompletionSource(n2=>n2.name=="VariableName"),cssLanguage=LRLanguage.define({name:"css",parser:parser$1.configure({props:[indentNodeProp.add({Declaration:continuedIndent()}),foldNodeProp.add({"Block KeyframeList":foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function css(){return new LanguageSupport(cssLanguage,cssLanguage.data.of({autocomplete:cssCompletionSource}))}const index$3=Object.freeze(Object.defineProperty({__proto__:null,css,cssCompletionSource,cssLanguage,defineCSSCompletionSource},Symbol.toStringTag,{value:"Module"})),noSemi=316,noSemiType=317,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=318,spaces=320,newline=321,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(context,term){return term==LineComment||term==BlockComment||term==spaces?context:term==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((input,stack)=>{let{next}=input;(next==braceR||next==-1||stack.context)&&input.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((input,stack)=>{let{next}=input,after;space.indexOf(next)>-1||next==slash&&((after=input.peek(1))==slash||after==star)||next!=braceR&&next!=semicolon&&next!=-1&&!stack.context&&input.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((input,stack)=>{input.next==bracketL&&!stack.context&&input.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((input,stack)=>{let{next}=input;if(next==plus||next==minus){if(input.advance(),next==input.next){input.advance();let mayPostfix=!stack.context&&stack.canShift(incdec);input.acceptToken(mayPostfix?incdec:incdecPrefix)}}else next==question&&input.peek(1)==dot&&(input.advance(),input.advance(),(input.next<48||input.next>57)&&input.acceptToken(questionDot))},{contextual:!0});function identifierChar(ch,start){return ch>=65&&ch<=90||ch>=97&&ch<=122||ch==95||ch>=192||!start&&ch>=48&&ch<=57}const jsx=new ExternalTokenizer((input,stack)=>{if(input.next!=lt||!stack.dialectEnabled(Dialect_jsx)||(input.advance(),input.next==slash))return;let back=0;for(;space.indexOf(input.next)>-1;)input.advance(),back++;if(identifierChar(input.next,!0)){for(input.advance(),back++;identifierChar(input.next,!1);)input.advance(),back++;for(;space.indexOf(input.next)>-1;)input.advance(),back++;if(input.next==comma)return;for(let i=0;;i++){if(i==7){if(!identifierChar(input.next,!0))return;break}if(input.next!="extends".charCodeAt(i))break;input.advance(),back++}}input.acceptToken(JSXStartTag,-back)}),jsHighlight=styleTags({"get set async static":tags$1.modifier,"for while do if else switch try catch finally return throw break continue default case defer":tags$1.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags$1.operatorKeyword,"let var const using function class extends":tags$1.definitionKeyword,"import export from":tags$1.moduleKeyword,"with debugger new":tags$1.keyword,TemplateString:tags$1.special(tags$1.string),super:tags$1.atom,BooleanLiteral:tags$1.bool,this:tags$1.self,null:tags$1.null,Star:tags$1.modifier,VariableName:tags$1.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags$1.function(tags$1.variableName),VariableDefinition:tags$1.definition(tags$1.variableName),Label:tags$1.labelName,PropertyName:tags$1.propertyName,PrivatePropertyName:tags$1.special(tags$1.propertyName),"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),"FunctionDeclaration/VariableDefinition":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDeclaration/VariableDefinition":tags$1.definition(tags$1.className),"NewExpression/VariableName":tags$1.className,PropertyDefinition:tags$1.definition(tags$1.propertyName),PrivatePropertyDefinition:tags$1.definition(tags$1.special(tags$1.propertyName)),UpdateOp:tags$1.updateOperator,"LineComment Hashbang":tags$1.lineComment,BlockComment:tags$1.blockComment,Number:tags$1.number,String:tags$1.string,Escape:tags$1.escape,ArithOp:tags$1.arithmeticOperator,LogicOp:tags$1.logicOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,RegExp:tags$1.regexp,Equals:tags$1.definitionOperator,Arrow:tags$1.function(tags$1.punctuation),": Spread":tags$1.punctuation,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,"InterpolationStart InterpolationEnd":tags$1.special(tags$1.brace),".":tags$1.derefOperator,", ;":tags$1.separator,"@":tags$1.meta,TypeName:tags$1.typeName,TypeDefinition:tags$1.definition(tags$1.typeName),"type enum interface implements namespace module declare":tags$1.definitionKeyword,"abstract global Privacy readonly override":tags$1.modifier,"is keyof unique infer asserts":tags$1.operatorKeyword,JSXAttributeValue:tags$1.attributeValue,JSXText:tags$1.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags$1.angleBracket,"JSXIdentifier JSXNameSpacedName":tags$1.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags$1.attributeName,"JSXBuiltin/JSXIdentifier":tags$1.standard(tags$1.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser=LRParser.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"‚ö† ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new LocalTokenGroup("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:value=>spec_identifier[value]||-1},{term:343,get:value=>spec_word[value]||-1},{term:95,get:value=>spec_LessThan[value]||-1}],tokenPrec:15201}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(type){return(node,def)=>{let id2=node.node.getChild("VariableDefinition");return id2&&def(id2,type),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(node,def){node.matchContext(functionContext)||def(node,"variable")},TypeDefinition(node,def){def(node,"type")},__proto__:null};function getScope(doc2,node){let cached=cache.get(node);if(cached)return cached;let completions=[],top2=!0;function def(node2,type){let name2=doc2.sliceString(node2.from,node2.to);completions.push({label:name2,type})}return node.cursor(IterMode.IncludeAnonymous).iterate(node2=>{if(top2)top2=!1;else if(node2.name){let gather=gatherCompletions[node2.name];if(gather&&gather(node2,def)||ScopeNodes.has(node2.name))return!1}else if(node2.to-node2.from>8192){for(let c2 of getScope(doc2,node2.node))completions.push(c2);return!1}}),cache.set(node,completions),completions}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(context){let inner=syntaxTree(context.state).resolveInner(context.pos,-1);if(dontComplete.indexOf(inner.name)>-1)return null;let isWord=inner.name=="VariableName"||inner.to-inner.from<20&&Identifier.test(context.state.sliceDoc(inner.from,inner.to));if(!isWord&&!context.explicit)return null;let options=[];for(let pos=inner;pos;pos=pos.parent)ScopeNodes.has(pos.name)&&(options=options.concat(getScope(context.state.doc,pos)));return{options,from:isWord?inner.from:context.pos,validFor:Identifier}}function pathFor(read,member,name2){var _a4;let path=[];for(;;){let obj=member.firstChild,prop;if(obj?.name=="VariableName")return path.push(read(obj)),{path:path.reverse(),name:name2};if(obj?.name=="MemberExpression"&&((_a4=prop=obj.lastChild)===null||_a4===void 0?void 0:_a4.name)=="PropertyName")path.push(read(prop)),member=obj;else return null}}function completionPath(context){let read=node=>context.state.doc.sliceString(node.from,node.to),inner=syntaxTree(context.state).resolveInner(context.pos,-1);return inner.name=="PropertyName"?pathFor(read,inner.parent,read(inner)):(inner.name=="."||inner.name=="?.")&&inner.parent.name=="MemberExpression"?pathFor(read,inner.parent,""):dontComplete.indexOf(inner.name)>-1?null:inner.name=="VariableName"||inner.to-inner.from<20&&Identifier.test(read(inner))?{path:[],name:read(inner)}:inner.name=="MemberExpression"?pathFor(read,inner,""):context.explicit?{path:[],name:""}:null}function enumeratePropertyCompletions(obj,top2){let options=[],seen2=new Set;for(let depth=0;;depth++){for(let name2 of(Object.getOwnPropertyNames||Object.keys)(obj)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(name2)||seen2.has(name2))continue;seen2.add(name2);let value;try{value=obj[name2]}catch{continue}options.push({label:name2,type:typeof value=="function"?/^[A-Z]/.test(name2)?"class":top2?"function":"method":top2?"variable":"property",boost:-depth})}let next=Object.getPrototypeOf(obj);if(!next)return options;obj=next}}function scopeCompletionSource(scope){let cache2=new Map;return context=>{let path=completionPath(context);if(!path)return null;let target=scope;for(let step of path.path)if(target=target[step],!target)return null;let options=cache2.get(target);return options||cache2.set(target,options=enumeratePropertyCompletions(target,!path.path.length)),{from:context.pos-path.name.length,options,validFor:Identifier}}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:context=>{let after=context.textAfter,closed=/^\s*\}/.test(after),isCase=/^\s*(case|default)\b/.test(after);return context.baseIndent+(closed?0:isCase?1:2)*context.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:cx=>cx.baseIndent+cx.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^\s*{/}),JSXElement(context){let closed=/^\s*<\//.test(context.textAfter);return context.lineIndent(context.node.from)+(closed?0:context.unit)},JSXEscape(context){let closed=/\s*\}/.test(context.textAfter);return context.lineIndent(context.node.from)+(closed?0:context.unit)},"JSXOpenTag JSXSelfClosingTag"(context){return context.column(context.node.from)+context.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(tree){return{from:tree.from+2,to:tree.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:node=>/^JSX/.test(node.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(n2=>n2.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(n2=>n2.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=name2=>({label:name2,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(config2={}){let lang=config2.jsx?config2.typescript?tsxLanguage:jsxLanguage:config2.typescript?typescriptLanguage:javascriptLanguage,completions=config2.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(lang,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(completions))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),config2.jsx?autoCloseTags$1:[]])}function findOpenTag(node){for(;;){if(node.name=="JSXOpenTag"||node.name=="JSXSelfClosingTag"||node.name=="JSXFragmentTag")return node;if(node.name=="JSXEscape"||!node.parent)return null;node=node.parent}}function elementName$1(doc2,tree,max=doc2.length){for(let ch=tree?.firstChild;ch;ch=ch.nextSibling)if(ch.name=="JSXIdentifier"||ch.name=="JSXBuiltin"||ch.name=="JSXNamespacedName"||ch.name=="JSXMemberExpression")return doc2.sliceString(ch.from,Math.min(ch.to,max));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags$1=EditorView.inputHandler.of((view,from,to,text2,defaultInsert)=>{if((android?view.composing:view.compositionStarted)||view.state.readOnly||from!=to||text2!=">"&&text2!="/"||!javascriptLanguage.isActiveAt(view.state,from,-1))return!1;let base2=defaultInsert(),{state}=base2,closeTags=state.changeByRange(range=>{var _a4;let{head}=range,around=syntaxTree(state).resolveInner(head-1,-1),name2;if(around.name=="JSXStartTag"&&(around=around.parent),!(state.doc.sliceString(head-1,head)!=text2||around.name=="JSXAttributeValue"&&around.to>head)){if(text2==">"&&around.name=="JSXFragmentTag")return{range,changes:{from:head,insert:"</>"}};if(text2=="/"&&around.name=="JSXStartCloseTag"){let empty2=around.parent,base3=empty2.parent;if(base3&&empty2.from==head-2&&((name2=elementName$1(state.doc,base3.firstChild,head))||((_a4=base3.firstChild)===null||_a4===void 0?void 0:_a4.name)=="JSXFragmentTag")){let insert2=`${name2}>`;return{range:EditorSelection.cursor(head+insert2.length,-1),changes:{from:head,insert:insert2}}}}else if(text2==">"){let openTag=findOpenTag(around);if(openTag&&openTag.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(state.doc.sliceString(head,head+2))&&(name2=elementName$1(state.doc,openTag,head)))return{range,changes:{from:head,insert:`</${name2}>`}}}}return{range}});return closeTags.changes.empty?!1:(view.dispatch([base2,state.update(closeTags,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function esLint(eslint,config2){return config2||(config2={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},eslint.getRules().forEach((desc,name2)=>{var _a4;!((_a4=desc.meta.docs)===null||_a4===void 0)&&_a4.recommended&&(config2.rules[name2]=2)})),view=>{let{state}=view,found=[];for(let{from,to}of javascriptLanguage.findRegions(state)){let fromLine=state.doc.lineAt(from),offset={line:fromLine.number-1,col:from-fromLine.from,pos:from};for(let d2 of eslint.verify(state.sliceDoc(from,to),config2))found.push(translateDiagnostic(d2,state.doc,offset))}return found}}function mapPos(line,col,doc2,offset){return doc2.line(line+offset.line).from+col+(line==1?offset.col-1:-1)}function translateDiagnostic(input,doc2,offset){let start=mapPos(input.line,input.column,doc2,offset),result={from:start,to:input.endLine!=null&&input.endColumn!=1?mapPos(input.endLine,input.endColumn,doc2,offset):start,message:input.message,source:input.ruleId?"eslint:"+input.ruleId:"eslint",severity:input.severity==1?"warning":"error"};if(input.fix){let{range,text:text2}=input.fix,from=range[0]+offset.pos-start,to=range[1]+offset.pos-start;result.actions=[{name:"fix",apply(view,start2){view.dispatch({changes:{from:start2+from,to:start2+to,insert:text2},scrollIntoView:!0})}}]}return result}const index$2=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:autoCloseTags$1,completionPath,esLint,javascript,javascriptLanguage,jsxLanguage,localCompletionSource,scopeCompletionSource,snippets,tsxLanguage,typescriptLanguage,typescriptSnippets},Symbol.toStringTag,{value:"Module"})),Targets=["_blank","_self","_top","_parent"],Charsets=["ascii","utf-8","utf-16","latin1","latin1"],Methods=["get","post","put","delete"],Encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bool=["true","false"],S={},Tags={a:{attrs:{href:null,ping:null,type:null,media:null,target:Targets,hreflang:null}},abbr:S,address:S,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:S,aside:S,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:S,base:{attrs:{href:null,target:Targets}},bdi:S,bdo:S,blockquote:{attrs:{cite:null}},body:S,br:S,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:S,center:S,cite:S,code:S,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:S,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:S,div:S,dl:S,dt:S,em:S,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:S,figure:S,footer:S,form:{attrs:{action:null,name:null,"accept-charset":Charsets,autocomplete:["on","off"],enctype:Encs,method:Methods,novalidate:["novalidate"],target:Targets}},h1:S,h2:S,h3:S,h4:S,h5:S,h6:S,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:S,hgroup:S,hr:S,html:{attrs:{manifest:null}},i:S,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:S,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:S,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:S,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Charsets,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:S,noscript:S,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:S,param:{attrs:{name:null,value:null}},pre:S,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:S,rt:S,ruby:S,samp:S,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Charsets}},section:S,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:S,source:{attrs:{src:null,type:null,media:null}},span:S,strong:S,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:S,summary:S,sup:S,table:S,tbody:S,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:S,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:S,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:S,time:{attrs:{datetime:null}},title:S,tr:S,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:S,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:S},GlobalAttrs={accesskey:null,class:null,contenteditable:Bool,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bool,autocorrect:Bool,autocapitalize:Bool,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bool,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bool,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bool,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bool,"aria-hidden":Bool,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bool,"aria-multiselectable":Bool,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bool,"aria-relevant":null,"aria-required":Bool,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},eventAttributes="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n2=>"on"+n2);for(let a2 of eventAttributes)GlobalAttrs[a2]=null;class Schema{constructor(extraTags,extraAttrs){this.tags={...Tags,...extraTags},this.globalAttrs={...GlobalAttrs,...extraAttrs},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Schema.default=new Schema;function elementName(doc2,tree,max=doc2.length){if(!tree)return"";let tag=tree.firstChild,name2=tag&&tag.getChild("TagName");return name2?doc2.sliceString(name2.from,Math.min(name2.to,max)):""}function findParentElement(tree,skip=!1){for(;tree;tree=tree.parent)if(tree.name=="Element")if(skip)skip=!1;else return tree;return null}function allowedChildren(doc2,tree,schema){let parentInfo=schema.tags[elementName(doc2,findParentElement(tree))];return parentInfo?.children||schema.allTags}function openTags(doc2,tree){let open=[];for(let parent=findParentElement(tree);parent&&!parent.type.isTop;parent=findParentElement(parent.parent)){let tagName=elementName(doc2,parent);if(tagName&&parent.lastChild.name=="CloseTag")break;tagName&&open.indexOf(tagName)<0&&(tree.name=="EndTag"||tree.from>=parent.firstChild.to)&&open.push(tagName)}return open}const identifier=/^[:\-\.\w\u00b7-\uffff]*$/;function completeTag(state,schema,tree,from,to){let end=/\s*>/.test(state.sliceDoc(to,to+5))?"":">",parent=findParentElement(tree,tree.name=="StartTag"||tree.name=="TagName");return{from,to,options:allowedChildren(state.doc,parent,schema).map(tagName=>({label:tagName,type:"type"})).concat(openTags(state.doc,tree).map((tag,i)=>({label:"/"+tag,apply:"/"+tag+end,type:"type",boost:99-i}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeCloseTag(state,tree,from,to){let end=/\s*>/.test(state.sliceDoc(to,to+5))?"":">";return{from,to,options:openTags(state.doc,tree).map((tag,i)=>({label:tag,apply:tag+end,type:"type",boost:99-i})),validFor:identifier}}function completeStartTag(state,schema,tree,pos){let options=[],level=0;for(let tagName of allowedChildren(state.doc,tree,schema))options.push({label:"<"+tagName,type:"type"});for(let open of openTags(state.doc,tree))options.push({label:"</"+open+">",type:"type",boost:99-level++});return{from:pos,to:pos,options,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeAttrName(state,schema,tree,from,to){let elt2=findParentElement(tree),info=elt2?schema.tags[elementName(state.doc,elt2)]:null,localAttrs=info&&info.attrs?Object.keys(info.attrs):[],names=info&&info.globalAttrs===!1?localAttrs:localAttrs.length?localAttrs.concat(schema.globalAttrNames):schema.globalAttrNames;return{from,to,options:names.map(attrName=>({label:attrName,type:"property"})),validFor:identifier}}function completeAttrValue(state,schema,tree,from,to){var _a4;let nameNode=(_a4=tree.parent)===null||_a4===void 0?void 0:_a4.getChild("AttributeName"),options=[],token;if(nameNode){let attrName=state.sliceDoc(nameNode.from,nameNode.to),attrs=schema.globalAttrs[attrName];if(!attrs){let elt2=findParentElement(tree),info=elt2?schema.tags[elementName(state.doc,elt2)]:null;attrs=info?.attrs&&info.attrs[attrName]}if(attrs){let base2=state.sliceDoc(from,to).toLowerCase(),quoteStart='"',quoteEnd='"';/^['"]/.test(base2)?(token=base2[0]=='"'?/^[^"]*$/:/^[^']*$/,quoteStart="",quoteEnd=state.sliceDoc(to,to+1)==base2[0]?"":base2[0],base2=base2.slice(1),from++):token=/^[^\s<>='"]*$/;for(let value of attrs)options.push({label:value,apply:quoteStart+value+quoteEnd,type:"constant"})}}return{from,to,options,validFor:token}}function htmlCompletionFor(schema,context){let{state,pos}=context,tree=syntaxTree(state).resolveInner(pos,-1),around=tree.resolve(pos);for(let scan=pos,before;around==tree&&(before=tree.childBefore(scan));){let last=before.lastChild;if(!last||!last.type.isError||last.from<last.to)break;around=tree=before,scan=last.from}return tree.name=="TagName"?tree.parent&&/CloseTag$/.test(tree.parent.name)?completeCloseTag(state,tree,tree.from,pos):completeTag(state,schema,tree,tree.from,pos):tree.name=="StartTag"||tree.name=="IncompleteTag"?completeTag(state,schema,tree,pos,pos):tree.name=="StartCloseTag"||tree.name=="IncompleteCloseTag"?completeCloseTag(state,tree,pos,pos):tree.name=="OpenTag"||tree.name=="SelfClosingTag"||tree.name=="AttributeName"?completeAttrName(state,schema,tree,tree.name=="AttributeName"?tree.from:pos,pos):tree.name=="Is"||tree.name=="AttributeValue"||tree.name=="UnquotedAttributeValue"?completeAttrValue(state,schema,tree,tree.name=="Is"?pos:tree.from,pos):context.explicit&&(around.name=="Element"||around.name=="Text"||around.name=="Document")?completeStartTag(state,schema,tree,pos):null}function htmlCompletionSource(context){return htmlCompletionFor(Schema.default,context)}function htmlCompletionSourceWith(config2){let{extraTags,extraGlobalAttributes:extraAttrs}=config2,schema=extraAttrs||extraTags?new Schema(extraTags,extraAttrs):Schema.default;return context=>htmlCompletionFor(schema,context)}const jsonParser=javascriptLanguage.parser.configure({top:"SingleExpression"}),defaultNesting=[{tag:"script",attrs:attrs=>attrs.type=="text/typescript"||attrs.lang=="ts",parser:typescriptLanguage.parser},{tag:"script",attrs:attrs=>attrs.type=="text/babel"||attrs.type=="text/jsx",parser:jsxLanguage.parser},{tag:"script",attrs:attrs=>attrs.type=="text/typescript-jsx",parser:tsxLanguage.parser},{tag:"script",attrs(attrs){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(attrs.type)},parser:jsonParser},{tag:"script",attrs(attrs){return!attrs.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(attrs.type)},parser:javascriptLanguage.parser},{tag:"style",attrs(attrs){return(!attrs.lang||attrs.lang=="css")&&(!attrs.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(attrs.type))},parser:cssLanguage.parser}],defaultAttrs=[{name:"style",parser:cssLanguage.parser.configure({top:"Styles"})}].concat(eventAttributes.map(name2=>({name:name2,parser:javascriptLanguage.parser}))),htmlPlain=LRLanguage.define({name:"html",parser:parser$2.configure({props:[indentNodeProp.add({Element(context){let after=/^(\s*)(<\/)?/.exec(context.textAfter);return context.node.to<=context.pos+after[0].length?context.continue():context.lineIndent(context.node.from)+(after[2]?0:context.unit)},"OpenTag CloseTag SelfClosingTag"(context){return context.column(context.node.from)+context.unit},Document(context){if(context.pos+/\s*/.exec(context.textAfter)[0].length<context.node.to)return context.continue();let endElt=null,close;for(let cur2=context.node;;){let last=cur2.lastChild;if(!last||last.name!="Element"||last.to!=cur2.to)break;endElt=cur2=last}return endElt&&!((close=endElt.lastChild)&&(close.name=="CloseTag"||close.name=="SelfClosingTag"))?context.lineIndent(endElt.from)+context.unit:null}}),foldNodeProp.add({Element(node){let first=node.firstChild,last=node.lastChild;return!first||first.name!="OpenTag"?null:{from:first.to,to:last.name=="CloseTag"?last.from:node.to}}}),bracketMatchingHandle.add({"OpenTag CloseTag":node=>node.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),htmlLanguage=htmlPlain.configure({wrap:configureNesting(defaultNesting,defaultAttrs)});function html(config2={}){let dialect="",wrap;config2.matchClosingTags===!1&&(dialect="noMatch"),config2.selfClosingTags===!0&&(dialect=(dialect?dialect+" ":"")+"selfClosing"),(config2.nestedLanguages&&config2.nestedLanguages.length||config2.nestedAttributes&&config2.nestedAttributes.length)&&(wrap=configureNesting((config2.nestedLanguages||[]).concat(defaultNesting),(config2.nestedAttributes||[]).concat(defaultAttrs)));let lang=wrap?htmlPlain.configure({wrap,dialect}):dialect?htmlLanguage.configure({dialect}):htmlLanguage;return new LanguageSupport(lang,[htmlLanguage.data.of({autocomplete:htmlCompletionSourceWith(config2)}),config2.autoCloseTags!==!1?autoCloseTags:[],javascript().support,css().support])}const selfClosers=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),autoCloseTags=EditorView.inputHandler.of((view,from,to,text2,insertTransaction)=>{if(view.composing||view.state.readOnly||from!=to||text2!=">"&&text2!="/"||!htmlLanguage.isActiveAt(view.state,from,-1))return!1;let base2=insertTransaction(),{state}=base2,closeTags=state.changeByRange(range=>{var _a4,_b,_c;let didType=state.doc.sliceString(range.from-1,range.to)==text2,{head}=range,after=syntaxTree(state).resolveInner(head,-1),name2;if(didType&&text2==">"&&after.name=="EndTag"){let tag=after.parent;if(((_b=(_a4=tag.parent)===null||_a4===void 0?void 0:_a4.lastChild)===null||_b===void 0?void 0:_b.name)!="CloseTag"&&(name2=elementName(state.doc,tag.parent,head))&&!selfClosers.has(name2)){let to2=head+(state.doc.sliceString(head,head+1)===">"?1:0),insert2=`</${name2}>`;return{range,changes:{from:head,to:to2,insert:insert2}}}}else if(didType&&text2=="/"&&after.name=="IncompleteCloseTag"){let tag=after.parent;if(after.from==head-2&&((_c=tag.lastChild)===null||_c===void 0?void 0:_c.name)!="CloseTag"&&(name2=elementName(state.doc,tag,head))&&!selfClosers.has(name2)){let to2=head+(state.doc.sliceString(head,head+1)===">"?1:0),insert2=`${name2}>`;return{range:EditorSelection.cursor(head+insert2.length,-1),changes:{from:head,to:to2,insert:insert2}}}}return{range}});return closeTags.changes.empty?!1:(view.dispatch([base2,state.update(closeTags,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),index$1=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags,html,htmlCompletionSource,htmlCompletionSourceWith,htmlLanguage},Symbol.toStringTag,{value:"Module"})),data=defineLanguageFacet({commentTokens:{block:{open:"<!--",close:"-->"}}}),headingProp=new NodeProp,commonmark=parser$3.configure({props:[foldNodeProp.add(type=>!type.is("Block")||type.is("Document")||isHeading(type)!=null||isList(type)?void 0:(tree,state)=>({from:state.doc.lineAt(tree.from).to,to:tree.to})),headingProp.add(isHeading),indentNodeProp.add({Document:()=>null}),languageDataProp.add({Document:data})]});function isHeading(type){let match2=/^(?:ATX|Setext)Heading(\d)$/.exec(type.name);return match2?+match2[1]:void 0}function isList(type){return type.name=="OrderedList"||type.name=="BulletList"}function findSectionEnd(headerNode,level){let last=headerNode;for(;;){let next=last.nextSibling,heading2;if(!next||(heading2=isHeading(next.type))!=null&&heading2<=level)break;last=next}return last.to}const headerIndent=foldService.of((state,start,end)=>{for(let node=syntaxTree(state).resolveInner(end,-1);node&&!(node.from<start);node=node.parent){let heading2=node.type.prop(headingProp);if(heading2==null)continue;let upto=findSectionEnd(node,heading2);if(upto>end)return{from:end,to:upto}}return null});function mkLang(parser2){return new Language(data,parser2,[],"markdown")}const commonmarkLanguage=mkLang(commonmark),extended=commonmark.configure([GFM,Subscript,Superscript,Emoji,{props:[foldNodeProp.add({Table:(tree,state)=>({from:state.doc.lineAt(tree.from).to,to:tree.to})})]}]),markdownLanguage=mkLang(extended);function getCodeParser(languages2,defaultLanguage){return info=>{if(info&&languages2){let found=null;if(info=/\S*/.exec(info)[0],typeof languages2=="function"?found=languages2(info):found=LanguageDescription.matchLanguageName(languages2,info,!0),found instanceof LanguageDescription)return found.support?found.support.language.parser:ParseContext.getSkippingParser(found.load());if(found)return found.parser}return defaultLanguage?defaultLanguage.parser:null}}class Context{constructor(node,from,to,spaceBefore,spaceAfter,type,item){this.node=node,this.from=from,this.to=to,this.spaceBefore=spaceBefore,this.spaceAfter=spaceAfter,this.type=type,this.item=item}blank(maxWidth,trailing=!0){let result=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(maxWidth!=null){for(;result.length<maxWidth;)result+=" ";return result}else{for(let i=this.to-this.from-result.length-this.spaceAfter.length;i>0;i--)result+=" ";return result+(trailing?this.spaceAfter:"")}}marker(doc2,add3){let number2=this.node.name=="OrderedList"?String(+itemNumber(this.item,doc2)[2]+add3):"";return this.spaceBefore+number2+this.type+this.spaceAfter}}function getContext(node,doc2){let nodes=[],context=[];for(let cur2=node;cur2;cur2=cur2.parent){if(cur2.name=="FencedCode")return context;(cur2.name=="ListItem"||cur2.name=="Blockquote")&&nodes.push(cur2)}for(let i=nodes.length-1;i>=0;i--){let node2=nodes[i],match2,line=doc2.lineAt(node2.from),startPos=node2.from-line.from;if(node2.name=="Blockquote"&&(match2=/^ *>( ?)/.exec(line.text.slice(startPos))))context.push(new Context(node2,startPos,startPos+match2[0].length,"",match2[1],">",null));else if(node2.name=="ListItem"&&node2.parent.name=="OrderedList"&&(match2=/^( *)\d+([.)])( *)/.exec(line.text.slice(startPos)))){let after=match2[3],len=match2[0].length;after.length>=4&&(after=after.slice(0,after.length-4),len-=4),context.push(new Context(node2.parent,startPos,startPos+len,match2[1],after,match2[2],node2))}else if(node2.name=="ListItem"&&node2.parent.name=="BulletList"&&(match2=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(line.text.slice(startPos)))){let after=match2[4],len=match2[0].length;after.length>4&&(after=after.slice(0,after.length-4),len-=4);let type=match2[2];match2[3]&&(type+=match2[3].replace(/[xX]/," ")),context.push(new Context(node2.parent,startPos,startPos+len,match2[1],after,type,node2))}}return context}function itemNumber(item,doc2){return/^(\s*)(\d+)(?=[.)])/.exec(doc2.sliceString(item.from,item.from+10))}function renumberList(after,doc2,changes,offset=0){for(let prev=-1,node=after;;){if(node.name=="ListItem"){let m2=itemNumber(node,doc2),number2=+m2[2];if(prev>=0){if(number2!=prev+1)return;changes.push({from:node.from+m2[1].length,to:node.from+m2[0].length,insert:String(prev+2+offset)})}prev=number2}let next=node.nextSibling;if(!next)break;node=next}}function normalizeIndent(content2,state){let blank=/^[ \t]*/.exec(content2)[0].length;if(!blank||state.facet(indentUnit)!="	")return content2;let col=countColumn(content2,4,blank),space2="";for(let i=col;i>0;)i>=4?(space2+="	",i-=4):(space2+=" ",i--);return space2+content2.slice(blank)}const insertNewlineContinueMarkupCommand=(config2={})=>({state,dispatch})=>{let tree=syntaxTree(state),{doc:doc2}=state,dont=null,changes=state.changeByRange(range=>{if(!range.empty||!markdownLanguage.isActiveAt(state,range.from,-1)&&!markdownLanguage.isActiveAt(state,range.from,1))return dont={range};let pos=range.from,line=doc2.lineAt(pos),context=getContext(tree.resolveInner(pos,-1),doc2);for(;context.length&&context[context.length-1].from>pos-line.from;)context.pop();if(!context.length)return dont={range};let inner=context[context.length-1];if(inner.to-inner.spaceAfter.length>pos-line.from)return dont={range};let emptyLine=pos>=inner.to-inner.spaceAfter.length&&!/\S/.test(line.text.slice(inner.to));if(inner.item&&emptyLine){let first=inner.node.firstChild,second=inner.node.getChild("ListItem","ListItem");if(first.to>=pos||second&&second.to<pos||line.from>0&&!/[^\s>]/.test(doc2.lineAt(line.from-1).text)||config2.nonTightLists===!1){let next=context.length>1?context[context.length-2]:null,delTo,insert3="";next&&next.item?(delTo=line.from+next.from,insert3=next.marker(doc2,1)):delTo=line.from+(next?next.to:0);let changes3=[{from:delTo,to:pos,insert:insert3}];return inner.node.name=="OrderedList"&&renumberList(inner.item,doc2,changes3,-2),next&&next.node.name=="OrderedList"&&renumberList(next.item,doc2,changes3),{range:EditorSelection.cursor(delTo+insert3.length),changes:changes3}}else{let insert3=blankLine(context,state,line);return{range:EditorSelection.cursor(pos+insert3.length+1),changes:{from:line.from,insert:insert3+state.lineBreak}}}}if(inner.node.name=="Blockquote"&&emptyLine&&line.from){let prevLine=doc2.lineAt(line.from-1),quoted=/>\s*$/.exec(prevLine.text);if(quoted&&quoted.index==inner.from){let changes3=state.changes([{from:prevLine.from+quoted.index,to:prevLine.to},{from:line.from+inner.from,to:line.to}]);return{range:range.map(changes3),changes:changes3}}}let changes2=[];inner.node.name=="OrderedList"&&renumberList(inner.item,doc2,changes2);let continued=inner.item&&inner.item.from<line.from,insert2="";if(!continued||/^[\s\d.)\-+*>]*/.exec(line.text)[0].length>=inner.to)for(let i=0,e2=context.length-1;i<=e2;i++)insert2+=i==e2&&!continued?context[i].marker(doc2,1):context[i].blank(i<e2?countColumn(line.text,4,context[i+1].from)-insert2.length:null);let from=pos;for(;from>line.from&&/\s/.test(line.text.charAt(from-line.from-1));)from--;return insert2=normalizeIndent(insert2,state),nonTightList(inner.node,state.doc)&&(insert2=blankLine(context,state,line)+state.lineBreak+insert2),changes2.push({from,to:pos,insert:state.lineBreak+insert2}),{range:EditorSelection.cursor(from+insert2.length+1),changes:changes2}});return dont?!1:(dispatch(state.update(changes,{scrollIntoView:!0,userEvent:"input"})),!0)},insertNewlineContinueMarkup=insertNewlineContinueMarkupCommand();function isMark(node){return node.name=="QuoteMark"||node.name=="ListMark"}function nonTightList(node,doc2){if(node.name!="OrderedList"&&node.name!="BulletList")return!1;let first=node.firstChild,second=node.getChild("ListItem","ListItem");if(!second)return!1;let line1=doc2.lineAt(first.to),line2=doc2.lineAt(second.from),empty2=/^[\s>]*$/.test(line1.text);return line1.number+(empty2?0:1)<line2.number}function blankLine(context,state,line){let insert2="";for(let i=0,e2=context.length-2;i<=e2;i++)insert2+=context[i].blank(i<e2?countColumn(line.text,4,context[i+1].from)-insert2.length:null,i<e2);return normalizeIndent(insert2,state)}function contextNodeForDelete(tree,pos){let node=tree.resolveInner(pos,-1),scan=pos;isMark(node)&&(scan=node.from,node=node.parent);for(let prev;prev=node.childBefore(scan);)if(isMark(prev))scan=prev.from;else if(prev.name=="OrderedList"||prev.name=="BulletList")node=prev.lastChild,scan=node.to;else break;return node}const deleteMarkupBackward=({state,dispatch})=>{let tree=syntaxTree(state),dont=null,changes=state.changeByRange(range=>{let pos=range.from,{doc:doc2}=state;if(range.empty&&markdownLanguage.isActiveAt(state,range.from)){let line=doc2.lineAt(pos),context=getContext(contextNodeForDelete(tree,pos),doc2);if(context.length){let inner=context[context.length-1],spaceEnd=inner.to-inner.spaceAfter.length+(inner.spaceAfter?1:0);if(pos-line.from>spaceEnd&&!/\S/.test(line.text.slice(spaceEnd,pos-line.from)))return{range:EditorSelection.cursor(line.from+spaceEnd),changes:{from:line.from+spaceEnd,to:pos}};if(pos-line.from==spaceEnd&&(!inner.item||line.from<=inner.item.from||!/\S/.test(line.text.slice(0,inner.to)))){let start=line.from+inner.from;if(inner.item&&inner.node.from<inner.item.from&&/\S/.test(line.text.slice(inner.from,inner.to))){let insert2=inner.blank(countColumn(line.text,4,inner.to)-countColumn(line.text,4,inner.from));return start==line.from&&(insert2=normalizeIndent(insert2,state)),{range:EditorSelection.cursor(start+insert2.length),changes:{from:start,to:line.from+inner.to,insert:insert2}}}if(start<pos)return{range:EditorSelection.cursor(start),changes:{from:start,to:pos}}}}}return dont={range}});return dont?!1:(dispatch(state.update(changes,{scrollIntoView:!0,userEvent:"delete"})),!0)},markdownKeymap=[{key:"Enter",run:insertNewlineContinueMarkup},{key:"Backspace",run:deleteMarkupBackward}],htmlNoMatch=html({matchClosingTags:!1});function markdown(config2={}){let{codeLanguages,defaultCodeLanguage,addKeymap=!0,base:{parser:parser2}=commonmarkLanguage,completeHTMLTags=!0,pasteURLAsLink:pasteURL=!0,htmlTagLanguage=htmlNoMatch}=config2;if(!(parser2 instanceof MarkdownParser))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let extensions=config2.extensions?[config2.extensions]:[],support=[htmlTagLanguage.support,headerIndent],defaultCode;pasteURL&&support.push(pasteURLAsLink),defaultCodeLanguage instanceof LanguageSupport?(support.push(defaultCodeLanguage.support),defaultCode=defaultCodeLanguage.language):defaultCodeLanguage&&(defaultCode=defaultCodeLanguage);let codeParser=codeLanguages||defaultCode?getCodeParser(codeLanguages,defaultCode):void 0;extensions.push(parseCode({codeParser,htmlParser:htmlTagLanguage.language.parser})),addKeymap&&support.push(Prec.high(keymap.of(markdownKeymap)));let lang=mkLang(parser2.configure(extensions));return completeHTMLTags&&support.push(lang.data.of({autocomplete:htmlTagCompletion})),new LanguageSupport(lang,support)}function htmlTagCompletion(context){let{state,pos}=context,m2=/<[:\-\.\w\u00b7-\uffff]*$/.exec(state.sliceDoc(pos-25,pos));if(!m2)return null;let tree=syntaxTree(state).resolveInner(pos,-1);for(;tree&&!tree.type.isTop;){if(tree.name=="CodeBlock"||tree.name=="FencedCode"||tree.name=="ProcessingInstructionBlock"||tree.name=="CommentBlock"||tree.name=="Link"||tree.name=="Image")return null;tree=tree.parent}return{from:pos-m2[0].length,to:pos,options:htmlTagCompletions(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let _tagCompletions=null;function htmlTagCompletions(){if(_tagCompletions)return _tagCompletions;let result=htmlCompletionSource(new CompletionContext(EditorState.create({extensions:htmlNoMatch}),0,!0));return _tagCompletions=result?result.options:[]}const nonPlainText=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,pasteURLAsLink=EditorView.domEventHandlers({paste:(event,view)=>{var _a4;let{main}=view.state.selection;if(main.empty)return!1;let link2=(_a4=event.clipboardData)===null||_a4===void 0?void 0:_a4.getData("text/plain");if(!link2||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(link2)||(/^www\./.test(link2)&&(link2="https://"+link2),!markdownLanguage.isActiveAt(view.state,main.from,1)))return!1;let tree=syntaxTree(view.state),crossesNode=!1;return tree.iterate({from:main.from,to:main.to,enter:node=>{(node.from>main.from||nonPlainText.test(node.name))&&(crossesNode=!0)},leave:node=>{node.to<main.to&&(crossesNode=!0)}}),crossesNode?!1:(view.dispatch({changes:[{from:main.from,insert:"["},{from:main.to,insert:`](${link2})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),index=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage,deleteMarkupBackward,insertNewlineContinueMarkup,insertNewlineContinueMarkupCommand,markdown,markdownKeymap,markdownLanguage,pasteURLAsLink},Symbol.toStringTag,{value:"Module"}));function legacy(parser2){return new LanguageSupport(StreamLanguage.define(parser2))}function sql(dialectName){return __vitePreload(()=>import("./index-0ef085bf.js"),["js/index-0ef085bf.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.sql({dialect:m2[dialectName]}))}const languages=[LanguageDescription.of({name:"C",extensions:["c","h","ino"],load(){return __vitePreload(()=>import("./index-a505e278.js"),["js/index-a505e278.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.cpp())}}),LanguageDescription.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return __vitePreload(()=>import("./index-a505e278.js"),["js/index-a505e278.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.cpp())}}),LanguageDescription.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return sql("Cassandra")}}),LanguageDescription.of({name:"CSS",extensions:["css"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$3),void 0).then(m2=>m2.css())}}),LanguageDescription.of({name:"Go",extensions:["go"],load(){return __vitePreload(()=>import("./index-8b1c1f19.js"),["js/index-8b1c1f19.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.go())}}),LanguageDescription.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$1),void 0).then(m2=>m2.html())}}),LanguageDescription.of({name:"Java",extensions:["java"],load(){return __vitePreload(()=>import("./index-e6016cad.js"),["js/index-e6016cad.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.java())}}),LanguageDescription.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$2),void 0).then(m2=>m2.javascript())}}),LanguageDescription.of({name:"Jinja",extensions:["j2","jinja","jinja2"],load(){return __vitePreload(()=>import("./index-21384dc7.js"),["js/index-21384dc7.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.jinja())}}),LanguageDescription.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return __vitePreload(()=>import("./index-cd9ebdcc.js"),["js/index-cd9ebdcc.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.json())}}),LanguageDescription.of({name:"JSX",extensions:["jsx"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$2),void 0).then(m2=>m2.javascript({jsx:!0}))}}),LanguageDescription.of({name:"LESS",extensions:["less"],load(){return __vitePreload(()=>import("./index-0b226c38.js"),["js/index-0b226c38.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.less())}}),LanguageDescription.of({name:"Liquid",extensions:["liquid"],load(){return __vitePreload(()=>import("./index-960b4bc6.js"),["js/index-960b4bc6.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.liquid())}}),LanguageDescription.of({name:"MariaDB SQL",load(){return sql("MariaSQL")}}),LanguageDescription.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index),void 0).then(m2=>m2.markdown())}}),LanguageDescription.of({name:"MS SQL",load(){return sql("MSSQL")}}),LanguageDescription.of({name:"MySQL",load(){return sql("MySQL")}}),LanguageDescription.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return __vitePreload(()=>import("./index-b488b776.js"),["js/index-b488b776.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.php())}}),LanguageDescription.of({name:"PLSQL",extensions:["pls"],load(){return sql("PLSQL")}}),LanguageDescription.of({name:"PostgreSQL",load(){return sql("PostgreSQL")}}),LanguageDescription.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return __vitePreload(()=>import("./index-c11fd70f.js"),["js/index-c11fd70f.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.python())}}),LanguageDescription.of({name:"Rust",extensions:["rs"],load(){return __vitePreload(()=>import("./index-18fe9bd0.js"),["js/index-18fe9bd0.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.rust())}}),LanguageDescription.of({name:"Sass",extensions:["sass"],load(){return __vitePreload(()=>import("./index-7a27574a.js"),["js/index-7a27574a.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.sass({indented:!0}))}}),LanguageDescription.of({name:"SCSS",extensions:["scss"],load(){return __vitePreload(()=>import("./index-7a27574a.js"),["js/index-7a27574a.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.sass())}}),LanguageDescription.of({name:"SQL",extensions:["sql"],load(){return sql("StandardSQL")}}),LanguageDescription.of({name:"SQLite",load(){return sql("SQLite")}}),LanguageDescription.of({name:"TSX",extensions:["tsx"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$2),void 0).then(m2=>m2.javascript({jsx:!0,typescript:!0}))}}),LanguageDescription.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return __vitePreload(()=>Promise.resolve().then(()=>index$2),void 0).then(m2=>m2.javascript({typescript:!0}))}}),LanguageDescription.of({name:"WebAssembly",extensions:["wat","wast"],load(){return __vitePreload(()=>import("./index-46bca057.js"),["js/index-46bca057.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.wast())}}),LanguageDescription.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return __vitePreload(()=>import("./index-9063971f.js"),["js/index-9063971f.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.xml())}}),LanguageDescription.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return __vitePreload(()=>import("./index-71804718.js"),["js/index-71804718.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.yaml())}}),LanguageDescription.of({name:"APL",extensions:["dyalog","apl"],load(){return __vitePreload(()=>import("./apl-24d8f080.js"),[]).then(m2=>legacy(m2.apl))}}),LanguageDescription.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return __vitePreload(()=>import("./asciiarmor-6f38d0b9.js"),[]).then(m2=>legacy(m2.asciiArmor))}}),LanguageDescription.of({name:"ASN.1",extensions:["asn","asn1"],load(){return __vitePreload(()=>import("./asn1-b91199f1.js"),[]).then(m2=>legacy(m2.asn1({})))}}),LanguageDescription.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return __vitePreload(()=>import("./asterisk-eac09b74.js"),[]).then(m2=>legacy(m2.asterisk))}}),LanguageDescription.of({name:"Brainfuck",extensions:["b","bf"],load(){return __vitePreload(()=>import("./brainfuck-19cabe0f.js"),[]).then(m2=>legacy(m2.brainfuck))}}),LanguageDescription.of({name:"Cobol",extensions:["cob","cpy"],load(){return __vitePreload(()=>import("./cobol-4ad8f3e5.js"),[]).then(m2=>legacy(m2.cobol))}}),LanguageDescription.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return __vitePreload(()=>import("./clike-3b9c38ca.js"),[]).then(m2=>legacy(m2.csharp))}}),LanguageDescription.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return __vitePreload(()=>import("./clojure-93ab95b6.js"),[]).then(m2=>legacy(m2.clojure))}}),LanguageDescription.of({name:"ClojureScript",extensions:["cljs"],load(){return __vitePreload(()=>import("./clojure-93ab95b6.js"),[]).then(m2=>legacy(m2.clojure))}}),LanguageDescription.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return __vitePreload(()=>import("./css-4e5c431b.js"),[]).then(m2=>legacy(m2.gss))}}),LanguageDescription.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return __vitePreload(()=>import("./cmake-45164ea2.js"),[]).then(m2=>legacy(m2.cmake))}}),LanguageDescription.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return __vitePreload(()=>import("./coffeescript-f27dee1d.js"),[]).then(m2=>legacy(m2.coffeeScript))}}),LanguageDescription.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return __vitePreload(()=>import("./commonlisp-3b0f58e9.js"),[]).then(m2=>legacy(m2.commonLisp))}}),LanguageDescription.of({name:"Cypher",extensions:["cyp","cypher"],load(){return __vitePreload(()=>import("./cypher-948ac0f4.js"),[]).then(m2=>legacy(m2.cypher))}}),LanguageDescription.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return __vitePreload(()=>import("./python-16a5d84b.js"),[]).then(m2=>legacy(m2.cython))}}),LanguageDescription.of({name:"Crystal",extensions:["cr"],load(){return __vitePreload(()=>import("./crystal-770d93ab.js"),[]).then(m2=>legacy(m2.crystal))}}),LanguageDescription.of({name:"D",extensions:["d"],load(){return __vitePreload(()=>import("./d-2dfbad1d.js"),[]).then(m2=>legacy(m2.d))}}),LanguageDescription.of({name:"Dart",extensions:["dart"],load(){return __vitePreload(()=>import("./clike-3b9c38ca.js"),[]).then(m2=>legacy(m2.dart))}}),LanguageDescription.of({name:"diff",extensions:["diff","patch"],load(){return __vitePreload(()=>import("./diff-3b41de60.js"),[]).then(m2=>legacy(m2.diff))}}),LanguageDescription.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return __vitePreload(()=>import("./dockerfile-d717a62b.js"),["js/dockerfile-d717a62b.js","js/simple-mode-71617a53.js"]).then(m2=>legacy(m2.dockerFile))}}),LanguageDescription.of({name:"DTD",extensions:["dtd"],load(){return __vitePreload(()=>import("./dtd-09b1c3b8.js"),[]).then(m2=>legacy(m2.dtd))}}),LanguageDescription.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return __vitePreload(()=>import("./dylan-279d67d6.js"),[]).then(m2=>legacy(m2.dylan))}}),LanguageDescription.of({name:"EBNF",load(){return __vitePreload(()=>import("./ebnf-8384c24b.js"),[]).then(m2=>legacy(m2.ebnf))}}),LanguageDescription.of({name:"ECL",extensions:["ecl"],load(){return __vitePreload(()=>import("./ecl-baa8f84a.js"),[]).then(m2=>legacy(m2.ecl))}}),LanguageDescription.of({name:"edn",extensions:["edn"],load(){return __vitePreload(()=>import("./clojure-93ab95b6.js"),[]).then(m2=>legacy(m2.clojure))}}),LanguageDescription.of({name:"Eiffel",extensions:["e"],load(){return __vitePreload(()=>import("./eiffel-eebb9b13.js"),[]).then(m2=>legacy(m2.eiffel))}}),LanguageDescription.of({name:"Elm",extensions:["elm"],load(){return __vitePreload(()=>import("./elm-986a4427.js"),[]).then(m2=>legacy(m2.elm))}}),LanguageDescription.of({name:"Erlang",extensions:["erl"],load(){return __vitePreload(()=>import("./erlang-6758eb44.js"),[]).then(m2=>legacy(m2.erlang))}}),LanguageDescription.of({name:"Esper",load(){return __vitePreload(()=>import("./sql-7c30c105.js"),[]).then(m2=>legacy(m2.esper))}}),LanguageDescription.of({name:"Factor",extensions:["factor"],load(){return __vitePreload(()=>import("./factor-854bc43f.js"),["js/factor-854bc43f.js","js/simple-mode-71617a53.js"]).then(m2=>legacy(m2.factor))}}),LanguageDescription.of({name:"FCL",load(){return __vitePreload(()=>import("./fcl-b66640e3.js"),[]).then(m2=>legacy(m2.fcl))}}),LanguageDescription.of({name:"Forth",extensions:["forth","fth","4th"],load(){return __vitePreload(()=>import("./forth-fce1f3ad.js"),[]).then(m2=>legacy(m2.forth))}}),LanguageDescription.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return __vitePreload(()=>import("./fortran-c1cd3e79.js"),[]).then(m2=>legacy(m2.fortran))}}),LanguageDescription.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return __vitePreload(()=>import("./mllike-9984d541.js"),[]).then(m2=>legacy(m2.fSharp))}}),LanguageDescription.of({name:"Gas",extensions:["s"],load(){return __vitePreload(()=>import("./gas-c7b9f08a.js"),[]).then(m2=>legacy(m2.gas))}}),LanguageDescription.of({name:"Gherkin",extensions:["feature"],load(){return __vitePreload(()=>import("./gherkin-8b37ff84.js"),[]).then(m2=>legacy(m2.gherkin))}}),LanguageDescription.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return __vitePreload(()=>import("./groovy-59a4b83f.js"),[]).then(m2=>legacy(m2.groovy))}}),LanguageDescription.of({name:"Haskell",extensions:["hs"],load(){return __vitePreload(()=>import("./haskell-d240067a.js"),[]).then(m2=>legacy(m2.haskell))}}),LanguageDescription.of({name:"Haxe",extensions:["hx"],load(){return __vitePreload(()=>import("./haxe-456df5ed.js"),[]).then(m2=>legacy(m2.haxe))}}),LanguageDescription.of({name:"HXML",extensions:["hxml"],load(){return __vitePreload(()=>import("./haxe-456df5ed.js"),[]).then(m2=>legacy(m2.hxml))}}),LanguageDescription.of({name:"HTTP",load(){return __vitePreload(()=>import("./http-77fe4192.js"),[]).then(m2=>legacy(m2.http))}}),LanguageDescription.of({name:"IDL",extensions:["pro"],load(){return __vitePreload(()=>import("./idl-515d83ff.js"),[]).then(m2=>legacy(m2.idl))}}),LanguageDescription.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return __vitePreload(()=>import("./javascript-f96623fa.js"),[]).then(m2=>legacy(m2.jsonld))}}),LanguageDescription.of({name:"Julia",extensions:["jl"],load(){return __vitePreload(()=>import("./julia-9157f478.js"),[]).then(m2=>legacy(m2.julia))}}),LanguageDescription.of({name:"Kotlin",extensions:["kt","kts"],load(){return __vitePreload(()=>import("./clike-3b9c38ca.js"),[]).then(m2=>legacy(m2.kotlin))}}),LanguageDescription.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return __vitePreload(()=>import("./livescript-2bd41158.js"),[]).then(m2=>legacy(m2.liveScript))}}),LanguageDescription.of({name:"Lua",extensions:["lua"],load(){return __vitePreload(()=>import("./lua-c559e1e9.js"),[]).then(m2=>legacy(m2.lua))}}),LanguageDescription.of({name:"mIRC",extensions:["mrc"],load(){return __vitePreload(()=>import("./mirc-f75c0a68.js"),[]).then(m2=>legacy(m2.mirc))}}),LanguageDescription.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return __vitePreload(()=>import("./mathematica-f90456b7.js"),[]).then(m2=>legacy(m2.mathematica))}}),LanguageDescription.of({name:"Modelica",extensions:["mo"],load(){return __vitePreload(()=>import("./modelica-60580b90.js"),[]).then(m2=>legacy(m2.modelica))}}),LanguageDescription.of({name:"MUMPS",extensions:["mps"],load(){return __vitePreload(()=>import("./mumps-415c64f1.js"),[]).then(m2=>legacy(m2.mumps))}}),LanguageDescription.of({name:"Mbox",extensions:["mbox"],load(){return __vitePreload(()=>import("./mbox-448c15d1.js"),[]).then(m2=>legacy(m2.mbox))}}),LanguageDescription.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return __vitePreload(()=>import("./nginx-73fb5ab4.js"),[]).then(m2=>legacy(m2.nginx))}}),LanguageDescription.of({name:"NSIS",extensions:["nsh","nsi"],load(){return __vitePreload(()=>import("./nsis-07b7319c.js"),["js/nsis-07b7319c.js","js/simple-mode-71617a53.js"]).then(m2=>legacy(m2.nsis))}}),LanguageDescription.of({name:"NTriples",extensions:["nt","nq"],load(){return __vitePreload(()=>import("./ntriples-db725253.js"),[]).then(m2=>legacy(m2.ntriples))}}),LanguageDescription.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return __vitePreload(()=>import("./clike-3b9c38ca.js"),[]).then(m2=>legacy(m2.objectiveC))}}),LanguageDescription.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return __vitePreload(()=>import("./clike-3b9c38ca.js"),[]).then(m2=>legacy(m2.objectiveCpp))}}),LanguageDescription.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return __vitePreload(()=>import("./mllike-9984d541.js"),[]).then(m2=>legacy(m2.oCaml))}}),LanguageDescription.of({name:"Octave",extensions:["m"],load(){return __vitePreload(()=>import("./octave-4379cc04.js"),[]).then(m2=>legacy(m2.octave))}}),LanguageDescription.of({name:"Oz",extensions:["oz"],load(){return __vitePreload(()=>import("./oz-c900081d.js"),[]).then(m2=>legacy(m2.oz))}}),LanguageDescription.of({name:"Pascal",extensions:["p","pas"],load(){return __vitePreload(()=>import("./pascal-f0fa8b2f.js"),[]).then(m2=>legacy(m2.pascal))}}),LanguageDescription.of({name:"Perl",extensions:["pl","pm"],load(){return __vitePreload(()=>import("./perl-6629ffd7.js"),[]).then(m2=>legacy(m2.perl))}}),LanguageDescription.of({name:"Pig",extensions:["pig"],load(){return __vitePreload(()=>import("./pig-05808974.js"),[]).then(m2=>legacy(m2.pig))}}),LanguageDescription.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return __vitePreload(()=>import("./powershell-dc601292.js"),[]).then(m2=>legacy(m2.powerShell))}}),LanguageDescription.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return __vitePreload(()=>import("./properties-cd932048.js"),[]).then(m2=>legacy(m2.properties))}}),LanguageDescription.of({name:"ProtoBuf",extensions:["proto"],load(){return __vitePreload(()=>import("./protobuf-80875f54.js"),[]).then(m2=>legacy(m2.protobuf))}}),LanguageDescription.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return __vitePreload(()=>import("./pug-e4a23eaa.js"),["js/pug-e4a23eaa.js","js/javascript-f96623fa.js"]).then(m2=>legacy(m2.pug))}}),LanguageDescription.of({name:"Puppet",extensions:["pp"],load(){return __vitePreload(()=>import("./puppet-9e57eb76.js"),[]).then(m2=>legacy(m2.puppet))}}),LanguageDescription.of({name:"Q",extensions:["q"],load(){return __vitePreload(()=>import("./q-200b02f5.js"),[]).then(m2=>legacy(m2.q))}}),LanguageDescription.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return __vitePreload(()=>import("./r-5d4a268e.js"),[]).then(m2=>legacy(m2.r))}}),LanguageDescription.of({name:"RPM Changes",load(){return __vitePreload(()=>import("./rpm-e1a83684.js"),[]).then(m2=>legacy(m2.rpmChanges))}}),LanguageDescription.of({name:"RPM Spec",extensions:["spec"],load(){return __vitePreload(()=>import("./rpm-e1a83684.js"),[]).then(m2=>legacy(m2.rpmSpec))}}),LanguageDescription.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return __vitePreload(()=>import("./ruby-42fd80ac.js"),[]).then(m2=>legacy(m2.ruby))}}),LanguageDescription.of({name:"SAS",extensions:["sas"],load(){return __vitePreload(()=>import("./sas-f9521ed6.js"),[]).then(m2=>legacy(m2.sas))}}),LanguageDescription.of({name:"Scala",extensions:["scala"],load(){return __vitePreload(()=>import("./clike-3b9c38ca.js"),[]).then(m2=>legacy(m2.scala))}}),LanguageDescription.of({name:"Scheme",extensions:["scm","ss"],load(){return __vitePreload(()=>import("./scheme-afc4fe07.js"),[]).then(m2=>legacy(m2.scheme))}}),LanguageDescription.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return __vitePreload(()=>import("./shell-4239f101.js"),[]).then(m2=>legacy(m2.shell))}}),LanguageDescription.of({name:"Sieve",extensions:["siv","sieve"],load(){return __vitePreload(()=>import("./sieve-08c05777.js"),[]).then(m2=>legacy(m2.sieve))}}),LanguageDescription.of({name:"Smalltalk",extensions:["st"],load(){return __vitePreload(()=>import("./smalltalk-e7d8a006.js"),[]).then(m2=>legacy(m2.smalltalk))}}),LanguageDescription.of({name:"Solr",load(){return __vitePreload(()=>import("./solr-a00b35f1.js"),[]).then(m2=>legacy(m2.solr))}}),LanguageDescription.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return __vitePreload(()=>import("./mllike-9984d541.js"),[]).then(m2=>legacy(m2.sml))}}),LanguageDescription.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return __vitePreload(()=>import("./sparql-d555359c.js"),[]).then(m2=>legacy(m2.sparql))}}),LanguageDescription.of({name:"Spreadsheet",alias:["excel","formula"],load(){return __vitePreload(()=>import("./spreadsheet-89995c65.js"),[]).then(m2=>legacy(m2.spreadsheet))}}),LanguageDescription.of({name:"Squirrel",extensions:["nut"],load(){return __vitePreload(()=>import("./clike-3b9c38ca.js"),[]).then(m2=>legacy(m2.squirrel))}}),LanguageDescription.of({name:"Stylus",extensions:["styl"],load(){return __vitePreload(()=>import("./stylus-32af7813.js"),[]).then(m2=>legacy(m2.stylus))}}),LanguageDescription.of({name:"Swift",extensions:["swift"],load(){return __vitePreload(()=>import("./swift-fe0554a9.js"),[]).then(m2=>legacy(m2.swift))}}),LanguageDescription.of({name:"sTeX",load(){return __vitePreload(()=>import("./stex-379cb34e.js"),[]).then(m2=>legacy(m2.stex))}}),LanguageDescription.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return __vitePreload(()=>import("./stex-379cb34e.js"),[]).then(m2=>legacy(m2.stex))}}),LanguageDescription.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return __vitePreload(()=>import("./verilog-7c7f1657.js"),[]).then(m2=>legacy(m2.verilog))}}),LanguageDescription.of({name:"Tcl",extensions:["tcl"],load(){return __vitePreload(()=>import("./tcl-eac29fc0.js"),[]).then(m2=>legacy(m2.tcl))}}),LanguageDescription.of({name:"Textile",extensions:["textile"],load(){return __vitePreload(()=>import("./textile-e0780368.js"),[]).then(m2=>legacy(m2.textile))}}),LanguageDescription.of({name:"TiddlyWiki",load(){return __vitePreload(()=>import("./tiddlywiki-56efcdb0.js"),[]).then(m2=>legacy(m2.tiddlyWiki))}}),LanguageDescription.of({name:"Tiki wiki",load(){return __vitePreload(()=>import("./tiki-57f6b53d.js"),[]).then(m2=>legacy(m2.tiki))}}),LanguageDescription.of({name:"TOML",extensions:["toml"],load(){return __vitePreload(()=>import("./toml-a43e9278.js"),[]).then(m2=>legacy(m2.toml))}}),LanguageDescription.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return __vitePreload(()=>import("./troff-1e51c135.js"),[]).then(m2=>legacy(m2.troff))}}),LanguageDescription.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return __vitePreload(()=>import("./ttcn-6140e7d3.js"),[]).then(m2=>legacy(m2.ttcn))}}),LanguageDescription.of({name:"TTCN_CFG",extensions:["cfg"],load(){return __vitePreload(()=>import("./ttcn-cfg-ba3367a4.js"),[]).then(m2=>legacy(m2.ttcnCfg))}}),LanguageDescription.of({name:"Turtle",extensions:["ttl"],load(){return __vitePreload(()=>import("./turtle-6bf54278.js"),[]).then(m2=>legacy(m2.turtle))}}),LanguageDescription.of({name:"Web IDL",extensions:["webidl"],load(){return __vitePreload(()=>import("./webidl-3306e13e.js"),[]).then(m2=>legacy(m2.webIDL))}}),LanguageDescription.of({name:"VB.NET",extensions:["vb"],load(){return __vitePreload(()=>import("./vb-17aabe92.js"),[]).then(m2=>legacy(m2.vb))}}),LanguageDescription.of({name:"VBScript",extensions:["vbs"],load(){return __vitePreload(()=>import("./vbscript-ea034240.js"),[]).then(m2=>legacy(m2.vbScript))}}),LanguageDescription.of({name:"Velocity",extensions:["vtl"],load(){return __vitePreload(()=>import("./velocity-2e833d5f.js"),[]).then(m2=>legacy(m2.velocity))}}),LanguageDescription.of({name:"Verilog",extensions:["v"],load(){return __vitePreload(()=>import("./verilog-7c7f1657.js"),[]).then(m2=>legacy(m2.verilog))}}),LanguageDescription.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return __vitePreload(()=>import("./vhdl-6278abf6.js"),[]).then(m2=>legacy(m2.vhdl))}}),LanguageDescription.of({name:"XQuery",extensions:["xy","xquery","xq","xqm","xqy"],load(){return __vitePreload(()=>import("./xquery-d1951cb8.js"),[]).then(m2=>legacy(m2.xQuery))}}),LanguageDescription.of({name:"Yacas",extensions:["ys"],load(){return __vitePreload(()=>import("./yacas-566732fc.js"),[]).then(m2=>legacy(m2.yacas))}}),LanguageDescription.of({name:"Z80",extensions:["z80"],load(){return __vitePreload(()=>import("./z80-b073df88.js"),[]).then(m2=>legacy(m2.z80))}}),LanguageDescription.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return __vitePreload(()=>import("./mscgen-626d59d9.js"),[]).then(m2=>legacy(m2.mscgen))}}),LanguageDescription.of({name:"X√π",extensions:["xu"],load(){return __vitePreload(()=>import("./mscgen-626d59d9.js"),[]).then(m2=>legacy(m2.xu))}}),LanguageDescription.of({name:"MsGenny",extensions:["msgenny"],load(){return __vitePreload(()=>import("./mscgen-626d59d9.js"),[]).then(m2=>legacy(m2.msgenny))}}),LanguageDescription.of({name:"Vue",extensions:["vue"],load(){return __vitePreload(()=>import("./index-d5181d17.js"),["js/index-d5181d17.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.vue())}}),LanguageDescription.of({name:"Angular Template",load(){return __vitePreload(()=>import("./index-3be37a71.js"),["js/index-3be37a71.js","js/vue-vendor-31320f47.js"]).then(m2=>m2.angular())}})],basicNormalize=typeof String.prototype.normalize=="function"?x2=>x2.normalize("NFKD"):x2=>x2;class SearchCursor{constructor(text2,query,from=0,to=text2.length,normalize3,test2){this.test=test2,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=text2.iterRange(from,to),this.bufferStart=from,this.normalize=normalize3?x2=>normalize3(basicNormalize(x2)):basicNormalize,this.query=this.normalize(query)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let next=this.peek();if(next<0)return this.done=!0,this;let str=fromCodePoint(next),start=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(next);let norm=this.normalize(str);if(norm.length)for(let i=0,pos=start;;i++){let code=norm.charCodeAt(i),match2=this.match(code,pos,this.bufferPos+this.bufferStart);if(i==norm.length-1){if(match2)return this.value=match2,this;break}pos==start&&i<str.length&&str.charCodeAt(i)==code&&pos++}}}match(code,pos,end){let match2=null;for(let i=0;i<this.matches.length;i+=2){let index2=this.matches[i],keep=!1;this.query.charCodeAt(index2)==code&&(index2==this.query.length-1?match2={from:this.matches[i+1],to:end}:(this.matches[i]++,keep=!0)),keep||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==code&&(this.query.length==1?match2={from:pos,to:end}:this.matches.push(1,pos)),match2&&this.test&&!this.test(match2.from,match2.to,this.buffer,this.bufferStart)&&(match2=null),match2}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(text2,query,options,from=0,to=text2.length){if(this.text=text2,this.to=to,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(query))return new MultilineRegExpCursor(text2,query,options,from,to);this.re=new RegExp(query,baseFlags+(options?.ignoreCase?"i":"")),this.test=options?.test,this.iter=text2.iter();let startLine=text2.lineAt(from);this.curLineStart=startLine.from,this.matchPos=toCharEnd(text2,from),this.getLine(this.curLineStart)}getLine(skip){this.iter.next(skip),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let off=this.matchPos-this.curLineStart;;){this.re.lastIndex=off;let match2=this.matchPos<=this.to&&this.re.exec(this.curLine);if(match2){let from=this.curLineStart+match2.index,to=from+match2[0].length;if(this.matchPos=toCharEnd(this.text,to+(from==to?1:0)),from==this.curLineStart+this.curLine.length&&this.nextLine(),(from<to||from>this.value.to)&&(!this.test||this.test(from,to,match2)))return this.value={from,to,match:match2},this;off=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),off=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(from,text2){this.from=from,this.text=text2}get to(){return this.from+this.text.length}static get(doc2,from,to){let cached=flattened.get(doc2);if(!cached||cached.from>=to||cached.to<=from){let flat=new FlattenedDoc(from,doc2.sliceString(from,to));return flattened.set(doc2,flat),flat}if(cached.from==from&&cached.to==to)return cached;let{text:text2,from:cachedFrom}=cached;return cachedFrom>from&&(text2=doc2.sliceString(from,cachedFrom)+text2,cachedFrom=from),cached.to<to&&(text2+=doc2.sliceString(cached.to,to)),flattened.set(doc2,new FlattenedDoc(cachedFrom,text2)),new FlattenedDoc(from,text2.slice(from-cachedFrom,to-cachedFrom))}}class MultilineRegExpCursor{constructor(text2,query,options,from,to){this.text=text2,this.to=to,this.done=!1,this.value=empty,this.matchPos=toCharEnd(text2,from),this.re=new RegExp(query,baseFlags+(options?.ignoreCase?"i":"")),this.test=options?.test,this.flat=FlattenedDoc.get(text2,from,this.chunkEnd(from+5e3))}chunkEnd(pos){return pos>=this.to?this.to:this.text.lineAt(pos).to}next(){for(;;){let off=this.re.lastIndex=this.matchPos-this.flat.from,match2=this.re.exec(this.flat.text);if(match2&&!match2[0]&&match2.index==off&&(this.re.lastIndex=off+1,match2=this.re.exec(this.flat.text)),match2){let from=this.flat.from+match2.index,to=from+match2[0].length;if((this.flat.to>=this.to||match2.index+match2[0].length<=this.flat.text.length-10)&&(!this.test||this.test(from,to,match2)))return this.value={from,to,match:match2},this.matchPos=toCharEnd(this.text,to+(from==to?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(source){try{return new RegExp(source,baseFlags),!0}catch{return!1}}function toCharEnd(text2,pos){if(pos>=text2.length)return pos;let line=text2.lineAt(pos),next;for(;pos<line.to&&(next=line.text.charCodeAt(pos-line.from))>=56320&&next<57344;)pos++;return pos}function createLineDialog(view){let line=String(view.state.doc.lineAt(view.state.selection.main.head).number),input=crelt("input",{class:"cm-textfield",name:"line",value:line}),dom=crelt("form",{class:"cm-gotoLine",onkeydown:event=>{event.keyCode==27?(event.preventDefault(),view.dispatch({effects:dialogEffect.of(!1)}),view.focus()):event.keyCode==13&&(event.preventDefault(),go2())},onsubmit:event=>{event.preventDefault(),go2()}},crelt("label",view.state.phrase("Go to line"),": ",input)," ",crelt("button",{class:"cm-button",type:"submit"},view.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{view.dispatch({effects:dialogEffect.of(!1)}),view.focus()},"aria-label":view.state.phrase("close"),type:"button"},["√ó"]));function go2(){let match2=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(input.value);if(!match2)return;let{state}=view,startLine=state.doc.lineAt(state.selection.main.head),[,sign,ln,cl2,percent2]=match2,col=cl2?+cl2.slice(1):0,line2=ln?+ln:startLine.number;if(ln&&percent2){let pc=line2/100;sign&&(pc=pc*(sign=="-"?-1:1)+startLine.number/state.doc.lines),line2=Math.round(state.doc.lines*pc)}else ln&&sign&&(line2=line2*(sign=="-"?-1:1)+startLine.number);let docLine=state.doc.line(Math.max(1,Math.min(state.doc.lines,line2))),selection=EditorSelection.cursor(docLine.from+Math.max(0,Math.min(col,docLine.length)));view.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(selection.from,{y:"center"})],selection}),view.focus()}return{dom}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(value,tr){for(let e2 of tr.effects)e2.is(dialogEffect)&&(value=e2.value);return value},provide:f2=>showPanel.from(f2,val=>val?createLineDialog:null)}),gotoLine=view=>{let panel=getPanel(view,createLineDialog);if(!panel){let effects=[dialogEffect.of(!0)];view.state.field(dialogField,!1)==null&&effects.push(StateEffect.appendConfig.of([dialogField,baseTheme$1])),view.dispatch({effects}),panel=getPanel(view,createLineDialog)}return panel&&panel.dom.querySelector("input").select(),!0},baseTheme$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),selectWord=({state,dispatch})=>{let{selection}=state,newSel=EditorSelection.create(selection.ranges.map(range=>state.wordAt(range.head)||EditorSelection.cursor(range.head)),selection.mainIndex);return newSel.eq(selection)?!1:(dispatch(state.update({selection:newSel})),!0)};function findNextOccurrence(state,query){let{main,ranges}=state.selection,word=state.wordAt(main.head),fullWord=word&&word.from==main.from&&word.to==main.to;for(let cycled=!1,cursor=new SearchCursor(state.doc,query,ranges[ranges.length-1].to);;)if(cursor.next(),cursor.done){if(cycled)return null;cursor=new SearchCursor(state.doc,query,0,Math.max(0,ranges[ranges.length-1].from-1)),cycled=!0}else{if(cycled&&ranges.some(r2=>r2.from==cursor.value.from))continue;if(fullWord){let word2=state.wordAt(cursor.value.from);if(!word2||word2.from!=cursor.value.from||word2.to!=cursor.value.to)continue}return cursor.value}}const selectNextOccurrence=({state,dispatch})=>{let{ranges}=state.selection;if(ranges.some(sel=>sel.from===sel.to))return selectWord({state,dispatch});let searchedText=state.sliceDoc(ranges[0].from,ranges[0].to);if(state.selection.ranges.some(r2=>state.sliceDoc(r2.from,r2.to)!=searchedText))return!1;let range=findNextOccurrence(state,searchedText);return range?(dispatch(state.update({selection:state.selection.addRange(EditorSelection.range(range.from,range.to),!1),effects:EditorView.scrollIntoView(range.to)})),!0):!1},searchConfigFacet=Facet.define({combine(configs){return combineConfig(configs,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:view=>new SearchPanel(view),scrollToMatch:range=>EditorView.scrollIntoView(range)})}});class SearchQuery{constructor(config2){this.search=config2.search,this.caseSensitive=!!config2.caseSensitive,this.literal=!!config2.literal,this.regexp=!!config2.regexp,this.replace=config2.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!config2.wholeWord}unquote(text2){return this.literal?text2:text2.replace(/\\([nrt\\])/g,(_2,ch)=>ch=="n"?`
`:ch=="r"?"\r":ch=="t"?"	":"\\")}eq(other){return this.search==other.search&&this.replace==other.replace&&this.caseSensitive==other.caseSensitive&&this.regexp==other.regexp&&this.wholeWord==other.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(state,from=0,to){let st2=state.doc?state:EditorState.create({doc:state});return to==null&&(to=st2.doc.length),this.regexp?regexpCursor(this,st2,from,to):stringCursor(this,st2,from,to)}}class QueryType{constructor(spec){this.spec=spec}}function stringCursor(spec,state,from,to){return new SearchCursor(state.doc,spec.unquoted,from,to,spec.caseSensitive?void 0:x2=>x2.toLowerCase(),spec.wholeWord?stringWordTest(state.doc,state.charCategorizer(state.selection.main.head)):void 0)}function stringWordTest(doc2,categorizer){return(from,to,buf,bufPos)=>((bufPos>from||bufPos+buf.length<to)&&(bufPos=Math.max(0,from-2),buf=doc2.sliceString(bufPos,Math.min(doc2.length,to+2))),(categorizer(charBefore(buf,from-bufPos))!=CharCategory.Word||categorizer(charAfter(buf,from-bufPos))!=CharCategory.Word)&&(categorizer(charAfter(buf,to-bufPos))!=CharCategory.Word||categorizer(charBefore(buf,to-bufPos))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(spec){super(spec)}nextMatch(state,curFrom,curTo){let cursor=stringCursor(this.spec,state,curTo,state.doc.length).nextOverlapping();if(cursor.done){let end=Math.min(state.doc.length,curFrom+this.spec.unquoted.length);cursor=stringCursor(this.spec,state,0,end).nextOverlapping()}return cursor.done||cursor.value.from==curFrom&&cursor.value.to==curTo?null:cursor.value}prevMatchInRange(state,from,to){for(let pos=to;;){let start=Math.max(from,pos-1e4-this.spec.unquoted.length),cursor=stringCursor(this.spec,state,start,pos),range=null;for(;!cursor.nextOverlapping().done;)range=cursor.value;if(range)return range;if(start==from)return null;pos-=1e4}}prevMatch(state,curFrom,curTo){let found=this.prevMatchInRange(state,0,curFrom);return found||(found=this.prevMatchInRange(state,Math.max(0,curTo-this.spec.unquoted.length),state.doc.length)),found&&(found.from!=curFrom||found.to!=curTo)?found:null}getReplacement(_result){return this.spec.unquote(this.spec.replace)}matchAll(state,limit){let cursor=stringCursor(this.spec,state,0,state.doc.length),ranges=[];for(;!cursor.next().done;){if(ranges.length>=limit)return null;ranges.push(cursor.value)}return ranges}highlight(state,from,to,add3){let cursor=stringCursor(this.spec,state,Math.max(0,from-this.spec.unquoted.length),Math.min(to+this.spec.unquoted.length,state.doc.length));for(;!cursor.next().done;)add3(cursor.value.from,cursor.value.to)}}function regexpCursor(spec,state,from,to){return new RegExpCursor(state.doc,spec.search,{ignoreCase:!spec.caseSensitive,test:spec.wholeWord?regexpWordTest(state.charCategorizer(state.selection.main.head)):void 0},from,to)}function charBefore(str,index2){return str.slice(findClusterBreak(str,index2,!1),index2)}function charAfter(str,index2){return str.slice(index2,findClusterBreak(str,index2))}function regexpWordTest(categorizer){return(_from,_to,match2)=>!match2[0].length||(categorizer(charBefore(match2.input,match2.index))!=CharCategory.Word||categorizer(charAfter(match2.input,match2.index))!=CharCategory.Word)&&(categorizer(charAfter(match2.input,match2.index+match2[0].length))!=CharCategory.Word||categorizer(charBefore(match2.input,match2.index+match2[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(state,curFrom,curTo){let cursor=regexpCursor(this.spec,state,curTo,state.doc.length).next();return cursor.done&&(cursor=regexpCursor(this.spec,state,0,curFrom).next()),cursor.done?null:cursor.value}prevMatchInRange(state,from,to){for(let size=1;;size++){let start=Math.max(from,to-size*1e4),cursor=regexpCursor(this.spec,state,start,to),range=null;for(;!cursor.next().done;)range=cursor.value;if(range&&(start==from||range.from>start+10))return range;if(start==from)return null}}prevMatch(state,curFrom,curTo){return this.prevMatchInRange(state,0,curFrom)||this.prevMatchInRange(state,curTo,state.doc.length)}getReplacement(result){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(m2,i)=>{if(i=="&")return result.match[0];if(i=="$")return"$";for(let l2=i.length;l2>0;l2--){let n2=+i.slice(0,l2);if(n2>0&&n2<result.match.length)return result.match[n2]+i.slice(l2)}return m2})}matchAll(state,limit){let cursor=regexpCursor(this.spec,state,0,state.doc.length),ranges=[];for(;!cursor.next().done;){if(ranges.length>=limit)return null;ranges.push(cursor.value)}return ranges}highlight(state,from,to,add3){let cursor=regexpCursor(this.spec,state,Math.max(0,from-250),Math.min(to+250,state.doc.length));for(;!cursor.next().done;)add3(cursor.value.from,cursor.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel=StateEffect.define(),searchState=StateField.define({create(state){return new SearchState(defaultQuery(state).create(),null)},update(value,tr){for(let effect of tr.effects)effect.is(setSearchQuery)?value=new SearchState(effect.value.create(),value.panel):effect.is(togglePanel)&&(value=new SearchState(value.query,effect.value?createSearchPanel:null));return value},provide:f2=>showPanel.from(f2,val=>val.panel)});class SearchState{constructor(query,panel){this.query=query,this.panel=panel}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(view){this.view=view,this.decorations=this.highlight(view.state.field(searchState))}update(update){let state=update.state.field(searchState);(state!=update.startState.field(searchState)||update.docChanged||update.selectionSet||update.viewportChanged)&&(this.decorations=this.highlight(state))}highlight({query,panel}){if(!panel||!query.spec.valid)return Decoration.none;let{view}=this,builder=new RangeSetBuilder;for(let i=0,ranges=view.visibleRanges,l2=ranges.length;i<l2;i++){let{from,to}=ranges[i];for(;i<l2-1&&to>ranges[i+1].from-2*250;)to=ranges[++i].to;query.highlight(view.state,from,to,(from2,to2)=>{let selected=view.state.selection.ranges.some(r2=>r2.from==from2&&r2.to==to2);builder.add(from2,to2,selected?selectedMatchMark:matchMark)})}return builder.finish()}},{decorations:v2=>v2.decorations});function searchCommand(f2){return view=>{let state=view.state.field(searchState,!1);return state&&state.query.spec.valid?f2(view,state):openSearchPanel(view)}}const findNext=searchCommand((view,{query})=>{let{to}=view.state.selection.main,next=query.nextMatch(view.state,to,to);if(!next)return!1;let selection=EditorSelection.single(next.from,next.to),config2=view.state.facet(searchConfigFacet);return view.dispatch({selection,effects:[announceMatch(view,next),config2.scrollToMatch(selection.main,view)],userEvent:"select.search"}),selectSearchInput(view),!0}),findPrevious=searchCommand((view,{query})=>{let{state}=view,{from}=state.selection.main,prev=query.prevMatch(state,from,from);if(!prev)return!1;let selection=EditorSelection.single(prev.from,prev.to),config2=view.state.facet(searchConfigFacet);return view.dispatch({selection,effects:[announceMatch(view,prev),config2.scrollToMatch(selection.main,view)],userEvent:"select.search"}),selectSearchInput(view),!0}),selectMatches=searchCommand((view,{query})=>{let ranges=query.matchAll(view.state,1e3);return!ranges||!ranges.length?!1:(view.dispatch({selection:EditorSelection.create(ranges.map(r2=>EditorSelection.range(r2.from,r2.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state,dispatch})=>{let sel=state.selection;if(sel.ranges.length>1||sel.main.empty)return!1;let{from,to}=sel.main,ranges=[],main=0;for(let cur2=new SearchCursor(state.doc,state.sliceDoc(from,to));!cur2.next().done;){if(ranges.length>1e3)return!1;cur2.value.from==from&&(main=ranges.length),ranges.push(EditorSelection.range(cur2.value.from,cur2.value.to))}return dispatch(state.update({selection:EditorSelection.create(ranges,main),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((view,{query})=>{let{state}=view,{from,to}=state.selection.main;if(state.readOnly)return!1;let match2=query.nextMatch(state,from,from);if(!match2)return!1;let next=match2,changes=[],selection,replacement,effects=[];next.from==from&&next.to==to&&(replacement=state.toText(query.getReplacement(next)),changes.push({from:next.from,to:next.to,insert:replacement}),next=query.nextMatch(state,next.from,next.to),effects.push(EditorView.announce.of(state.phrase("replaced match on line $",state.doc.lineAt(from).number)+".")));let changeSet=view.state.changes(changes);return next&&(selection=EditorSelection.single(next.from,next.to).map(changeSet),effects.push(announceMatch(view,next)),effects.push(state.facet(searchConfigFacet).scrollToMatch(selection.main,view))),view.dispatch({changes:changeSet,selection,effects,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((view,{query})=>{if(view.state.readOnly)return!1;let changes=query.matchAll(view.state,1e9).map(match2=>{let{from,to}=match2;return{from,to,insert:query.getReplacement(match2)}});if(!changes.length)return!1;let announceText=view.state.phrase("replaced $ matches",changes.length)+".";return view.dispatch({changes,effects:EditorView.announce.of(announceText),userEvent:"input.replace.all"}),!0});function createSearchPanel(view){return view.state.facet(searchConfigFacet).createPanel(view)}function defaultQuery(state,fallback){var _a4,_b,_c,_d,_e2;let sel=state.selection.main,selText=sel.empty||sel.to>sel.from+100?"":state.sliceDoc(sel.from,sel.to);if(fallback&&!selText)return fallback;let config2=state.facet(searchConfigFacet);return new SearchQuery({search:((_a4=fallback?.literal)!==null&&_a4!==void 0?_a4:config2.literal)?selText:selText.replace(/\n/g,"\\n"),caseSensitive:(_b=fallback?.caseSensitive)!==null&&_b!==void 0?_b:config2.caseSensitive,literal:(_c=fallback?.literal)!==null&&_c!==void 0?_c:config2.literal,regexp:(_d=fallback?.regexp)!==null&&_d!==void 0?_d:config2.regexp,wholeWord:(_e2=fallback?.wholeWord)!==null&&_e2!==void 0?_e2:config2.wholeWord})}function getSearchInput(view){let panel=getPanel(view,createSearchPanel);return panel&&panel.dom.querySelector("[main-field]")}function selectSearchInput(view){let input=getSearchInput(view);input&&input==view.root.activeElement&&input.select()}const openSearchPanel=view=>{let state=view.state.field(searchState,!1);if(state&&state.panel){let searchInput=getSearchInput(view);if(searchInput&&searchInput!=view.root.activeElement){let query=defaultQuery(view.state,state.query.spec);query.valid&&view.dispatch({effects:setSearchQuery.of(query)}),searchInput.focus(),searchInput.select()}}else view.dispatch({effects:[togglePanel.of(!0),state?setSearchQuery.of(defaultQuery(view.state,state.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=view=>{let state=view.state.field(searchState,!1);if(!state||!state.panel)return!1;let panel=getPanel(view,createSearchPanel);return panel&&panel.dom.contains(view.root.activeElement)&&view.focus(),view.dispatch({effects:togglePanel.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(view){this.view=view;let query=this.query=view.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:query.search,placeholder:phrase(view,"Find"),"aria-label":phrase(view,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:query.replace,placeholder:phrase(view,"Replace"),"aria-label":phrase(view,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:query.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:query.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:query.wholeWord,onchange:this.commit});function button(name2,onclick,content2){return crelt("button",{class:"cm-button",name:name2,onclick,type:"button"},content2)}this.dom=crelt("div",{onkeydown:e2=>this.keydown(e2),class:"cm-search"},[this.searchField,button("next",()=>findNext(view),[phrase(view,"next")]),button("prev",()=>findPrevious(view),[phrase(view,"previous")]),button("select",()=>selectMatches(view),[phrase(view,"all")]),crelt("label",null,[this.caseField,phrase(view,"match case")]),crelt("label",null,[this.reField,phrase(view,"regexp")]),crelt("label",null,[this.wordField,phrase(view,"by word")]),...view.state.readOnly?[]:[crelt("br"),this.replaceField,button("replace",()=>replaceNext(view),[phrase(view,"replace")]),button("replaceAll",()=>replaceAll(view),[phrase(view,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(view),"aria-label":phrase(view,"close"),type:"button"},["√ó"])])}commit(){let query=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});query.eq(this.query)||(this.query=query,this.view.dispatch({effects:setSearchQuery.of(query)}))}keydown(e2){runScopeHandlers(this.view,e2,"search-panel")?e2.preventDefault():e2.keyCode==13&&e2.target==this.searchField?(e2.preventDefault(),(e2.shiftKey?findPrevious:findNext)(this.view)):e2.keyCode==13&&e2.target==this.replaceField&&(e2.preventDefault(),replaceNext(this.view))}update(update){for(let tr of update.transactions)for(let effect of tr.effects)effect.is(setSearchQuery)&&!effect.value.eq(this.query)&&this.setQuery(effect.value)}setQuery(query){this.query=query,this.searchField.value=query.search,this.replaceField.value=query.replace,this.caseField.checked=query.caseSensitive,this.reField.checked=query.regexp,this.wordField.checked=query.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(view,phrase2){return view.state.phrase(phrase2)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(view,{from,to}){let line=view.state.doc.lineAt(from),lineEnd2=view.state.doc.lineAt(to).to,start=Math.max(line.from,from-AnnounceMargin),end=Math.min(lineEnd2,to+AnnounceMargin),text2=view.state.sliceDoc(start,end);if(start!=line.from){for(let i=0;i<AnnounceMargin;i++)if(!Break.test(text2[i+1])&&Break.test(text2[i])){text2=text2.slice(i);break}}if(end!=lineEnd2){for(let i=text2.length-1;i>text2.length-AnnounceMargin;i--)if(!Break.test(text2[i-1])&&Break.test(text2[i])){text2=text2.slice(0,i);break}}return EditorView.announce.of(`${view.state.phrase("current match")}. ${text2} ${view.state.phrase("on line")} ${line.number}.`)}const baseTheme=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme],oo=(e2,t2,o2)=>{const n2=inject("editorId"),i=inject("setting");let s2=()=>{},c2=()=>{};const u2=()=>{s2();const m2=o2.value?.view.contentDOM.getRootNode(),v2=m2?.querySelector(`#${n2} .cm-scroller`),b2=m2?.querySelector(`[id="${n2}-preview-wrapper"]`),h2=m2?.querySelector(`[id="${n2}-html-wrapper"]`);(b2||h2)&&([c2,s2]=(b2?ge$1:ve$2)(v2,b2||h2,o2.value),e2.scrollAuto&&c2())};watch([t2,i],()=>{nextTick(u2)}),watch(()=>e2.scrollAuto,m2=>{m2?c2():s2()}),watch(()=>i.value.previewOnly,m2=>{m2?s2():c2()}),onMounted(u2)},ce$1=async(e2,t2,o2)=>{if(/^h[1-6]$/.test(e2))return lo(e2,t2);if(e2==="prettier")return await ao(t2,o2);switch(e2){case"bold":case"underline":case"italic":case"strikeThrough":case"sub":case"sup":case"codeRow":case"katexInline":case"katexBlock":return ro(e2,t2);case"quote":case"orderedList":case"unorderedList":case"task":return io(e2,t2);case"code":return co(o2,t2);case"table":return bo(o2);case"link":{const n2=t2.getSelectedText(),{desc:i=n2,url:s2=""}=o2,c2=`[${i}](${s2})`;return{text:c2,options:{select:s2==="",deviationStart:c2.length-s2.length-1,deviationEnd:-1}}}case"image":return mo(o2,t2);case"flow":case"sequence":case"gantt":case"class":case"state":case"pie":case"relationship":case"journey":return uo(e2);case"universal":return vo(t2.getSelectedText(),o2);default:return{text:"",options:{}}}},lo=(e2,t2)=>{const o2=e2.slice(1),n2="#".repeat(Number(o2)),[i,s2,c2]=he$1(t2,{wholeLine:!0});return{text:`${n2} ${i}`,options:{deviationStart:n2.length+1,replaceStart:s2,replaceEnd:c2}}},ao=async(e2,t2)=>{const o2=window.prettier||h$2.editorExtensions.prettier?.prettierInstance,n2=[window.prettierPlugins?.markdown||h$2.editorExtensions.prettier?.parserMarkdownInstance];return!o2||!n2[0]?(F$1.emit(t2.editorId,N$1,{name:"prettier",message:"prettier is undefined"}),{text:e2.getValue(),options:{select:!1,replaceAll:!0}}):{text:await o2.format(e2.getValue(),{parser:"markdown",plugins:n2}),options:{select:!1,replaceAll:!0}}},no={bold:["**","**",2,-2],underline:["<u>","</u>",3,-4],italic:["*","*",1,-1],strikeThrough:["~~","~~",2,-2],sub:["~","~",1,-1],sup:["^","^",1,-1],codeRow:["`","`",1,-1],katexInline:["$","$",1,-1],katexBlock:[`
$$
`,`
$$
`,4,-4]},ro=(e2,t2)=>{const o2=t2.getSelectedText(),[n2,i,s2,c2]=no[e2];return{text:`${n2}${o2}${i}`,options:{deviationStart:s2,deviationEnd:c2}}},so={quote:"> ",unorderedList:"- ",orderedList:1,task:"- [ ] "},io=(e2,t2)=>{const[o2,n2,i]=he$1(t2,{wholeLine:!0}),s2=o2.split(`
`),c2=so[e2],u2=e2==="orderedList"?s2.map((b2,h2)=>`${c2+h2}. ${b2}`):s2.map(b2=>`${c2}${b2}`),m2=e2==="orderedList"?"1. ":c2.toString(),v2=s2.length===1?m2.length:0;return{text:u2.join(`
`),options:{deviationStart:v2,replaceStart:n2,replaceEnd:i}}},co=(e2,t2)=>{const[o2,n2,i]=he$1(t2),s2=e2.mode||"language",c2=`
\`\`\`${s2}
${e2.text||o2||""}
\`\`\`
`;return{text:c2,options:{deviationStart:4,deviationEnd:4+s2.length-c2.length,replaceStart:n2,replaceEnd:i}}},uo=e2=>({text:`
\`\`\`mermaid
${{flow:`flowchart TD 
  Start --> Stop`,sequence:`sequenceDiagram
  A->>B: hello!
  B-->>A: hi!`,gantt:`gantt
title Gantt Chart
dateFormat  YYYY-MM-DD`,class:`classDiagram
  class Animal`,state:`stateDiagram-v2
  s1 --> s2`,pie:`pie
  "Dogs" : 386
  "Cats" : 85
  "Rats" : 15`,relationship:`erDiagram
  CAR ||--o{ NAMED-DRIVER : allows`,journey:`journey
  title My Journey`,...h$2.editorConfig.mermaidTemplate}[e2]}
\`\`\`
`,options:{deviationStart:12,deviationEnd:-5}}),mo=(e2,t2)=>{const o2=t2.getSelectedText(),{desc:n2=o2,url:i="",urls:s2}=e2;let c2="";const u2=i===""&&(!s2||s2 instanceof Array&&s2.length===0);return s2 instanceof Array?c2=s2.reduce((m2,v2)=>{const{url:b2="",alt:h2="",title:f2=""}=typeof v2=="object"?v2:{url:v2};return m2+`![${h2}](${b2}${f2?" '"+f2+"'":""})
`},""):c2=`![${n2}](${i})
`,{text:c2,options:{select:i==="",deviationStart:u2?c2.length-i.length-2:c2.length,deviationEnd:u2?-2:0}}},bo=e2=>{const{selectedShape:t2={x:1,y:1}}=e2,{x:o2,y:n2}=t2;let i=`
| Column`;for(let s2=0;s2<=n2;s2++)i+=" |";i+=`
|`;for(let s2=0;s2<=n2;s2++)i+=" - |";for(let s2=0;s2<=o2;s2++){i+=`
|`;for(let c2=0;c2<=n2;c2++)i+=" |"}return i+=`
`,{text:i,options:{deviationStart:3,deviationEnd:10-i.length}}},vo=(e2,t2)=>{const{generate:o2}=t2,n2=o2(e2);return{text:n2.targetValue,options:{select:n2.select??!0,deviationStart:n2.deviationStart||0,deviationEnd:n2.deviationEnd||0}}},he$1=(e2,t2={wholeLine:!1})=>{const o2=e2.view.state,n2=o2.selection.main;if(n2.empty){const i=o2.doc.lineAt(n2.from);return[o2.doc.lineAt(n2.from).text,i.from,i.to]}else if(t2.wholeLine){const i=o2.doc.lineAt(n2.from),s2=o2.doc.lineAt(n2.to);return[o2.doc.sliceString(i.from,s2.to),i.from,s2.to]}return[o2.doc.sliceString(n2.from,n2.to),n2.from,n2.to]},z$1=e2=>{const t2=new Compartment;return n2=>(t2.get(e2.state)?e2.dispatch({effects:t2.reconfigure(n2)}):e2.dispatch({effects:StateEffect.appendConfig.of(t2.of(n2))}),!0)};class go{constructor(t2){__publicField(this,"view");__publicField(this,"maxLength",Number.MAX_SAFE_INTEGER);__publicField(this,"toggleTabSize");__publicField(this,"togglePlaceholder");__publicField(this,"setExtensions");__publicField(this,"toggleDisabled");__publicField(this,"toggleReadOnly");__publicField(this,"toggleMaxlength");this.view=t2,this.toggleTabSize=z$1(this.view),this.togglePlaceholder=z$1(this.view),this.setExtensions=z$1(this.view),this.toggleDisabled=z$1(this.view),this.toggleReadOnly=z$1(this.view),this.toggleMaxlength=z$1(this.view)}getValue(){return this.view.state.doc.toString()}setValue(t2,o2=0,n2=this.view.state.doc.length){this.view.dispatch({changes:{from:o2,to:n2,insert:t2}})}getSelectedText(){const{from:t2,to:o2}=this.view.state.selection.main;return this.view.state.sliceDoc(t2,o2)}replaceSelectedText(t2,o2,n2){const i={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1,replaceStart:-1,replaceEnd:-1,...o2};try{if(i.replaceAll){if(this.setValue(t2),t2.length>this.maxLength)throw new Error("The input text is too long");return}if(this.view.state.doc.length-this.getSelectedText().length+t2.length>this.maxLength)throw new Error("The input text is too long");const{from:s2}=this.view.state.selection.main;i.replaceStart!==-1?this.view.dispatch({changes:{from:i.replaceStart,to:i.replaceEnd,insert:t2}}):this.view.dispatch(this.view.state.replaceSelection(t2)),i.select&&this.view.dispatch({selection:{anchor:i.replaceStart===-1?s2+i.deviationStart:i.replaceStart+i.deviationStart,head:i.replaceStart===-1?s2+t2.length+i.deviationEnd:i.replaceStart+t2.length+i.deviationEnd}}),this.view.focus()}catch(s2){if(s2.message==="The input text is too long")F$1.emit(n2,N$1,{name:"overlength",message:s2.message,data:t2});else throw s2}}setTabSize(t2){this.toggleTabSize([EditorState.tabSize.of(t2),indentUnit.of(" ".repeat(t2))])}setPlaceholder(t2){this.togglePlaceholder(placeholder(t2))}focus(t2){if(this.view.focus(),!t2)return;let o2=0,n2=0,i=0;switch(t2){case"start":break;case"end":{o2=n2=i=this.getValue().length;break}default:o2=t2.rangeAnchor||t2.cursorPos,n2=t2.rangeHead||t2.cursorPos,i=t2.cursorPos}this.view.dispatch({scrollIntoView:!0,selection:EditorSelection.create([EditorSelection.range(o2,n2),EditorSelection.cursor(i)],1)})}setDisabled(t2){this.toggleDisabled([EditorView.editable.of(!t2)])}setReadOnly(t2){this.toggleReadOnly([EditorState.readOnly.of(t2)])}setMaxLength(t2){this.maxLength=t2,this.toggleMaxlength([EditorState.changeFilter.of(o2=>o2.newDoc.length<=t2)])}}const fo=(e2,t2)=>{if(e2===t2)return!0;if(e2.length!==t2.length)return!1;for(let o2=0;o2<e2.length;o2++)if(e2[o2]!==t2[o2])return!1;return!0},ho=(e2,t2)=>{const o2=ref(t2.value);watch([t2],()=>{(!o2.value||!fo(o2.value,t2.value))&&(o2.value=t2.value,e2())})},le$1=(e2,t2,o2,n2,i)=>(s2,c2,u2,m2)=>{const v2=`${e2}${t2}${o2}${n2}`,b2=u2+c2.label.length+(i==="title"?o2.length:0);s2.dispatch({changes:{from:u2,to:m2,insert:v2},selection:EditorSelection.create([EditorSelection.range(u2+c2.label.length+(i==="title"?1:-t2.length),b2),EditorSelection.cursor(b2)],1)}),s2.focus()},Se=e2=>(t2,o2,n2,i)=>{const s2=e2.slice(i-n2);t2.dispatch(t2.state.replaceSelection(`${s2} `))},Ie=e2=>{const t2=o2=>{const n2=o2.matchBefore(/^#+|^-\s*\[*\s*\]*|`+|\[|!\[*|^\|\s?\|?|\$\$?|!+\s*\w*/);return n2===null||n2.from==n2.to&&o2.explicit?null:{from:n2.from,options:[...["h2","h3","h4","h5","h6"].map((i,s2)=>{const c2=new Array(s2+2).fill("#").join("");return{label:c2,type:"text",apply:Se(c2)}}),...["unchecked","checked"].map(i=>{const s2=i==="checked"?"- [x]":"- [ ]";return{label:s2,type:"text",apply:Se(s2)}}),...[["`",""],["```","language"],["```mermaid\n",""],["```echarts\n",""]].map(i=>({label:`${i[0]}${i[1]}`,type:"text",apply:le$1(i[0],i[1],"",i[0]==="`"?"`":"\n```","type")})),{label:"[]()",type:"text"},{label:"![]()",type:"text"},{label:"| |",type:"text",detail:"table",apply:`| col | col | col |
| - | - | - |
| content | content | content |
| content | content | content |`},{label:"$",type:"text",apply:le$1("$","","","$","type")},{label:"$$",type:"text",apply:le$1("$$","",`
`,`
$$`,"title")},...["note","abstract","info","tip","success","question","warning","failure","danger","bug","example","quote","hint","caution","error","attention"].map(i=>({label:`!!! ${i}`,type:"text",apply:le$1("!!!",` ${i}`," Title",`

!!!`,"title")}))]}};return autocompletion({override:e2?[t2,...e2]:[t2]})},po=defineComponent({name:`${p$2}-divider`,setup(){return()=>createVNode("div",{class:`${p$2}-divider`},null)}}),To=defineComponent({name:"ToolbarBold",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.bold,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"bold")},type:"button"},[createVNode(j$1,{name:"bold"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.bold])])}}),wo=defineComponent({name:"ToolbarCatalog",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName"),i=inject("catalogVisible");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,i.value&&`${p$2}-toolbar-active`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.catalog,disabled:o2?.value,onClick:()=>{F$1.emit(e2,C$1)},key:"bar-catalog",type:"button"},[createVNode(j$1,{name:"catalog"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.catalog])])}}),yo=defineComponent({name:"ToolbarCode",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.code,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"code")},type:"button"},[createVNode(j$1,{name:"code"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.code])])}}),Co=defineComponent({name:"ToolbarCodeRow",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.codeRow,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"codeRow")},type:"button"},[createVNode(j$1,{name:"code-row"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.codeRow])])}}),ko=defineComponent({name:"ToolbarFullscreen",setup(){const e2=inject("usedLanguageText"),t2=inject("disabled"),o2=inject("showToolbarName"),n2=inject("setting"),{fullscreenHandler:i}=tl();return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,n2.value.fullscreen&&`${p$2}-toolbar-active`,t2?.value&&`${p$2}-disabled`],title:e2.value.toolbarTips?.fullscreen,disabled:t2?.value,onClick:()=>{i()},type:"button"},[createVNode(j$1,{name:n2.value.fullscreen?"fullscreen-exit":"fullscreen"},null),o2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[e2.value.toolbarTips?.fullscreen])])}}),$o=defineComponent({name:"ToolbarGithub",setup(){const e2=inject("usedLanguageText"),t2=inject("disabled"),o2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,t2?.value&&`${p$2}-disabled`],title:e2.value.toolbarTips?.github,disabled:t2?.value,onClick:()=>{C$2("https://github.com/imzbf/md-editor-v3")},type:"button"},[createVNode(j$1,{name:"github"},null),o2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[e2.value.toolbarTips?.github])])}}),xo=defineComponent({name:"ToolbarHtmlPreview",setup(){const e2=inject("usedLanguageText"),t2=inject("disabled"),o2=inject("showToolbarName"),n2=inject("setting"),i=inject("updateSetting");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,n2.value.htmlPreview&&`${p$2}-toolbar-active`,t2?.value&&`${p$2}-disabled`],title:e2.value.toolbarTips?.htmlPreview,disabled:t2?.value,onClick:()=>{i("htmlPreview")},type:"button"},[createVNode(j$1,{name:"preview-html"},null),o2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[e2.value.toolbarTips?.htmlPreview])])}}),So=defineComponent({name:"ToolbarImage",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.image,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"image")},type:"button"},[createVNode(j$1,{name:"image"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.image])])}}),Io={visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},Eo=defineComponent({name:`${p$2}-modal-clip`,props:Io,setup(e2){const t2=inject("usedLanguageText"),o2=inject("editorId"),n2=inject("rootRef");let i=h$2.editorExtensions.cropper.instance;const s2=ref(),c2=ref(),u$12=ref(),m2=reactive({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let v2=null;watch(()=>e2.visible,()=>{e2.visible&&!m2.cropperInited&&(i=i||window.Cropper,s2.value.onchange=()=>{if(!i){F$1.emit(o2,N$1,{name:"Cropper",message:"Cropper is undefined"});return}const h2=s2.value.files||[];if(m2.imgSelected=!0,h2?.length>0){const f2=new FileReader;f2.onload=p2=>{m2.imgSrc=p2.target.result},f2.readAsDataURL(h2[0])}})}),watch(()=>[m2.imgSelected],()=>{u$12.value.style=""}),watch([toRef(()=>m2.isFullscreen),toRef(()=>m2.imgSrc)],()=>{m2.imgSrc&&nextTick(()=>{v2?.destroy(),u$12.value.style="",c2.value&&(v2=new i(c2.value,{viewMode:2,preview:n2.value.getRootNode().querySelector(`.${p$2}-clip-preview-target`)}))})});const b2=()=>{v2.clear(),v2.destroy(),v2=null,s2.value.value="",m2.imgSelected=!1,m2.imgSrc=""};return()=>createVNode(g$1,{class:`${p$2}-modal-clip`,title:t2.value.clipModalTips?.title,visible:e2.visible,onClose:e2.onCancel,showAdjust:!0,isFullscreen:m2.isFullscreen,onAdjust:h2=>{m2.isFullscreen=h2},width:"668px",height:"421px"},{default:()=>[createVNode("div",{class:`${p$2}-form-item ${p$2}-clip`},[createVNode("div",{class:`${p$2}-clip-main`},[m2.imgSelected?createVNode("div",{class:`${p$2}-clip-cropper`},[createVNode("img",{src:m2.imgSrc,ref:c2,style:{display:"none"},alt:""},null),createVNode("div",{class:`${p$2}-clip-delete`,onClick:b2},[createVNode(j$1,{name:"delete"},null)])]):createVNode("div",{class:`${p$2}-clip-upload`,onClick:()=>{s2.value.click()},role:"button",tabindex:"0","aria-label":t2.value.imgTitleItem?.upload},[createVNode(j$1,{name:"upload"},null)])]),createVNode("div",{class:`${p$2}-clip-preview`},[createVNode("div",{class:`${p$2}-clip-preview-target`,ref:u$12},null)])]),createVNode("div",{class:`${p$2}-form-item`},[createVNode("button",{class:`${p$2}-btn`,type:"button",onClick:()=>{if(v2){const h2=v2.getCroppedCanvas();F$1.emit(o2,I,[u(h2.toDataURL("image/png"))],e2.onOk),b2()}}},[t2.value.clipModalTips?.buttonUpload||t2.value.linkModalTips?.buttonOK])]),createVNode("input",{ref:s2,accept:"image/*",type:"file",multiple:!1,style:{display:"none"},"aria-hidden":"true"},null)]})}}),Lo={clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},No=defineComponent({name:`${p$2}-modals`,props:Lo,setup(e2){return()=>createVNode(Eo,{visible:e2.clipVisible,onOk:e2.onOk,onCancel:e2.onCancel},null)}}),Ao=defineComponent({name:"ToolbarImageDropdown",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName"),i=`${e2}-toolbar-wrapper`,s2=ref(!1),c2=ref(!1),u2=ref(),m2=()=>{F$1.emit(e2,I,Array.from(u2.value.files||[])),u2.value.value=""},v2=(b2,h2)=>{o2?.value||F$1.emit(e2,G,b2,h2)};return onMounted(()=>{u2.value.addEventListener("change",m2)}),()=>createVNode(Fragment,null,[createVNode("label",{for:`${i}_label`,style:{display:"none"},"aria-label":t2.value.imgTitleItem?.upload},null),createVNode("input",{id:`${i}_label`,ref:u2,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),createVNode(I$1,{relative:`#${i}`,visible:s2.value,onChange:b2=>{s2.value=b2},disabled:o2?.value,overlay:createVNode("ul",{class:`${p$2}-menu`,onClick:()=>{s2.value=!1},role:"menu"},[createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-image`,onClick:()=>{v2("image")},role:"menuitem",tabindex:"0"},[t2.value.imgTitleItem?.link]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-image`,onClick:()=>{u2.value.click()},role:"menuitem",tabindex:"0"},[t2.value.imgTitleItem?.upload]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-image`,onClick:()=>{c2.value=!0},role:"menuitem",tabindex:"0"},[t2.value.imgTitleItem?.clip2upload])])},{default:()=>[createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.image,disabled:o2?.value,type:"button"},[createVNode(j$1,{name:"image"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.image])])]}),createVNode(No,{clipVisible:c2.value,onCancel:()=>{c2.value=!1},onOk:b2=>{b2&&v2("image",{desc:b2.desc,url:b2.url,transform:!0}),c2.value=!1}},null)])}}),Do=defineComponent({name:"ToolbarItalic",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.italic,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"italic")},type:"button"},[createVNode(j$1,{name:"italic"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.italic])])}}),Mo=defineComponent({name:"ToolbarKatex",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName"),i=`${e2}-toolbar-wrapper`,s2=ref(!1),c2=u2=>{o2?.value||F$1.emit(e2,G,u2)};return()=>createVNode(I$1,{relative:`#${i}`,visible:s2.value,onChange:u2=>{s2.value=u2},disabled:o2?.value,overlay:createVNode("ul",{class:`${p$2}-menu`,onClick:()=>{s2.value=!1},role:"menu"},[createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-katex`,onClick:()=>{c2("katexInline")},role:"menuitem",tabindex:"0"},[t2.value.katex?.inline]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-katex`,onClick:()=>{c2("katexBlock")},role:"menuitem",tabindex:"0"},[t2.value.katex?.block])]),key:"bar-katex"},{default:()=>[createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.katex,disabled:o2?.value,type:"button"},[createVNode(j$1,{name:"formula"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.katex])])]})}}),Ro=defineComponent({name:"ToolbarLink",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.link,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"link")},type:"button"},[createVNode(j$1,{name:"link"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.link])])}}),Fo=defineComponent({name:"ToolbarMermaid",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName"),i=`${e2}-toolbar-wrapper`,s2=ref(!1),c2=u2=>{o2?.value||F$1.emit(e2,G,u2)};return()=>createVNode(I$1,{relative:`#${i}`,visible:s2.value,onChange:u2=>{s2.value=u2},disabled:o2?.value,overlay:createVNode("ul",{class:`${p$2}-menu`,onClick:()=>{s2.value=!1},role:"menu"},[createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("flow")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.flow]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("sequence")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.sequence]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("gantt")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.gantt]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("class")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.class]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("state")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.state]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("pie")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.pie]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("relationship")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.relationship]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-mermaid`,onClick:()=>{c2("journey")},role:"menuitem",tabindex:"0"},[t2.value.mermaid?.journey])]),key:"bar-mermaid"},{default:()=>[createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.mermaid,disabled:o2?.value,type:"button"},[createVNode(j$1,{name:"mermaid"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.mermaid])])]})}}),Bo=defineComponent({name:"ToolbarNext",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.next,disabled:o2?.value,onClick:()=>{F$1.emit(e2,d)},type:"button"},[createVNode(j$1,{name:"next"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.next])])}}),Po=defineComponent({name:"ToolbarOrderedList",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.orderedList,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"orderedList")},type:"button"},[createVNode(j$1,{name:"ordered-list"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.orderedList])])}}),Ho=defineComponent({name:"ToolbarPageFullscreen",setup(){const e2=inject("usedLanguageText"),t2=inject("disabled"),o2=inject("showToolbarName"),n2=inject("setting"),i=inject("updateSetting");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,n2.value.pageFullscreen&&`${p$2}-toolbar-active`,t2?.value&&`${p$2}-disabled`],title:e2.value.toolbarTips?.pageFullscreen,disabled:t2?.value,onClick:()=>{i("pageFullscreen")},type:"button"},[createVNode(j$1,{name:n2.value.pageFullscreen?"minimize":"maximize"},null),o2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[e2.value.toolbarTips?.pageFullscreen])])}}),Oo=defineComponent({name:"ToolbarPrettier",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.prettier,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"prettier")},type:"button"},[createVNode(j$1,{name:"prettier"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.prettier])])}}),Vo=defineComponent({name:"ToolbarPreview",setup(){const e2=inject("usedLanguageText"),t2=inject("disabled"),o2=inject("showToolbarName"),n2=inject("setting"),i=inject("updateSetting");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,n2.value.preview&&`${p$2}-toolbar-active`,t2?.value&&`${p$2}-disabled`],title:e2.value.toolbarTips?.preview,disabled:t2?.value,onClick:()=>{i("preview")},type:"button"},[createVNode(j$1,{name:"preview"},null),o2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[e2.value.toolbarTips?.preview])])}}),Wo=defineComponent({name:"ToolbarPreviewOnly",setup(){const e2=inject("usedLanguageText"),t2=inject("disabled"),o2=inject("showToolbarName"),n2=inject("setting"),i=inject("updateSetting");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,n2.value.previewOnly&&`${p$2}-toolbar-active`,t2?.value&&`${p$2}-disabled`],title:e2.value.toolbarTips?.previewOnly,disabled:t2?.value,onClick:()=>{i("previewOnly")},type:"button"},[createVNode(j$1,{name:"preview-only"},null),o2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[e2.value.toolbarTips?.previewOnly])])}}),_o=defineComponent({name:"ToolbarQuote",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.quote,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"quote")},type:"button"},[createVNode(j$1,{name:"quote"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.quote])])}}),zo=defineComponent({name:"ToolbarRevoke",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.revoke,disabled:o2?.value,onClick:()=>{F$1.emit(e2,T)},type:"button"},[createVNode(j$1,{name:"revoke"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.revoke])])}}),qo=defineComponent({name:"ToolbarSave",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.save,disabled:o2?.value,onClick:()=>{F$1.emit(e2,i$3)},type:"button"},[createVNode(j$1,{name:"save"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.save])])}}),Uo=defineComponent({name:"ToolbarStrikeThrough",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.strikeThrough,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"strikeThrough")},type:"button"},[createVNode(j$1,{name:"strike-through"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.strikeThrough])])}}),Ko=defineComponent({name:"ToolbarSub",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.sub,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"sub")},type:"button"},[createVNode(j$1,{name:"sub"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.sub])])}}),Go=defineComponent({name:"ToolbarSup",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.sup,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"sup")},type:"button"},[createVNode(j$1,{name:"sup"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.sup])])}}),jo={tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},Yo=defineComponent({name:"TableShape",props:jo,setup(e2){const t2=reactive({x:-1,y:-1}),o2=computed(()=>JSON.stringify(e2.tableShape)),n2=()=>{const s2=[...JSON.parse(o2.value)];return(!s2[2]||s2[2]<s2[0])&&(s2[2]=s2[0]),(!s2[3]||s2[3]<s2[3])&&(s2[3]=s2[1]),s2},i=ref(n2());return watch([o2],()=>{i.value=n2()}),()=>createVNode("div",{class:`${p$2}-table-shape`,onMouseleave:()=>{i.value=n2(),t2.x=-1,t2.y=-1}},[new Array(i.value[1]).fill("").map((s2,c2)=>createVNode("div",{class:`${p$2}-table-shape-row`,key:`table-shape-row-${c2}`},[new Array(i.value[0]).fill("").map((u2,m2)=>createVNode("div",{class:`${p$2}-table-shape-col`,key:`table-shape-col-${m2}`,onMouseenter:()=>{t2.x=c2,t2.y=m2,m2+1===i.value[0]&&m2+1<i.value[2]?i.value[0]++:m2+2<i.value[0]&&i.value[0]>e2.tableShape[0]&&i.value[0]--,c2+1===i.value[1]&&c2+1<i.value[3]?i.value[1]++:c2+2<i.value[1]&&i.value[1]>e2.tableShape[1]&&i.value[1]--},onClick:()=>{e2.onSelected(t2)}},[createVNode("div",{class:[`${p$2}-table-shape-col-default`,c2<=t2.x&&m2<=t2.y&&`${p$2}-table-shape-col-include`]},null)]))]))])}}),Zo=defineComponent({name:"ToolbarTable",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName"),i=inject("tableShape"),s2=`${e2}-toolbar-wrapper`,c2=ref(!1);return()=>createVNode(I$1,{relative:`#${s2}`,visible:c2.value,onChange:u2=>{c2.value=u2},disabled:o2?.value,key:"bar-table",overlay:createVNode(Yo,{tableShape:i.value,onSelected:u2=>{o2?.value||F$1.emit(e2,G,"table",{selectedShape:u2})}},null)},{default:()=>[createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.table,disabled:o2?.value,type:"button"},[createVNode(j$1,{name:"table"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.table])])]})}}),Xo=defineComponent({name:"ToolbarTask",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.task,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"task")},type:"button"},[createVNode(j$1,{name:"task"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.task])])}}),Jo=defineComponent({name:"ToolbarTitle",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName"),i=`${e2}-toolbar-wrapper`,s2=ref(!1),c2=u2=>{o2?.value||F$1.emit(e2,G,u2)};return()=>createVNode(I$1,{relative:`#${i}`,visible:s2.value,onChange:u2=>{s2.value=u2},disabled:o2?.value,overlay:createVNode("ul",{class:`${p$2}-menu`,onClick:()=>{s2.value=!1},role:"menu"},[createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-title`,onClick:()=>{c2("h1")},role:"menuitem",tabindex:"0"},[t2.value.titleItem?.h1]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-title`,onClick:()=>{c2("h2")},role:"menuitem",tabindex:"0"},[t2.value.titleItem?.h2]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-title`,onClick:()=>{c2("h3")},role:"menuitem",tabindex:"0"},[t2.value.titleItem?.h3]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-title`,onClick:()=>{c2("h4")},role:"menuitem",tabindex:"0"},[t2.value.titleItem?.h4]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-title`,onClick:()=>{c2("h5")},role:"menuitem",tabindex:"0"},[t2.value.titleItem?.h5]),createVNode("li",{class:`${p$2}-menu-item ${p$2}-menu-item-title`,onClick:()=>{c2("h6")},role:"menuitem",tabindex:"0"},[t2.value.titleItem?.h6])])},{default:()=>[createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],disabled:o2?.value,title:t2.value.toolbarTips?.title,type:"button"},[createVNode(j$1,{name:"title"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.title])])]})}}),Qo=defineComponent({name:"ToolbarUnderline",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.underline,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"underline")},type:"button"},[createVNode(j$1,{name:"underline"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.underline])])}}),el=defineComponent({name:"ToolbarUnorderedList",setup(){const e2=inject("editorId"),t2=inject("usedLanguageText"),o2=inject("disabled"),n2=inject("showToolbarName");return()=>createVNode("button",{class:[`${p$2}-toolbar-item`,o2?.value&&`${p$2}-disabled`],title:t2.value.toolbarTips?.unorderedList,disabled:o2?.value,onClick:()=>{F$1.emit(e2,G,"unorderedList")},type:"button"},[createVNode(j$1,{name:"unordered-list"},null),n2?.value&&createVNode("div",{class:`${p$2}-toolbar-item-name`},[t2.value.toolbarTips?.unorderedList])])}}),tl=()=>{const e2=inject("editorId"),t2=inject("setting"),o2=inject("updateSetting"),{editorExtensions:n2,editorExtensionsAttrs:i}=h$2;let s2=n2.screenfull.instance;const c2=ref(!1),u2=b2=>{if(!s2){F$1.emit(e2,N$1,{name:"fullscreen",message:"fullscreen is undefined"});return}s2.isEnabled?(c2.value=!0,(b2===void 0?!s2.isFullscreen:b2)?s2.request():s2.exit()):console.error("browser does not support screenfull!")},m2=()=>{s2&&s2.isEnabled&&s2.on("change",()=>{(c2.value||t2.value.fullscreen)&&(c2.value=!1,o2("fullscreen"))})},v2=()=>{s2=window.screenfull,m2()};return onMounted(()=>{m2(),s2||A("script",{...i.screenfull?.js,src:n2.screenfull.js,id:P.screenfull,onload:v2},"screenfull")}),onMounted(()=>{F$1.on(e2,{name:h,callback:u2})}),{fullscreenHandler:u2}};let ol=0;const Ze=()=>{const e2=inject("editorId"),t2=inject("theme"),o2=inject("previewTheme"),n2=inject("language"),i=inject("disabled"),s2=inject("noUploadImg"),c2=inject("noPrettier"),u2=inject("codeTheme"),m2=inject("showToolbarName"),v2=inject("setting"),b2=inject("defToolbars");return{barRender:f2=>{if(k.includes(f2))switch(f2){case"-":return createVNode(po,{key:`bar-${ol++}`},null);case"bold":return createVNode(To,{key:"bar-bold"},null);case"underline":return createVNode(Qo,{key:"bar-unorderline"},null);case"italic":return createVNode(Do,{key:"bar-italic"},null);case"strikeThrough":return createVNode(Uo,{key:"bar-strikeThrough"},null);case"title":return createVNode(Jo,{key:"bar-title"},null);case"sub":return createVNode(Ko,{key:"bar-sub"},null);case"sup":return createVNode(Go,{key:"bar-sup"},null);case"quote":return createVNode(_o,{key:"bar-quote"},null);case"unorderedList":return createVNode(el,{key:"bar-unorderedList"},null);case"orderedList":return createVNode(Po,{key:"bar-orderedList"},null);case"task":return createVNode(Xo,{key:"bar-task"},null);case"codeRow":return createVNode(Co,{key:"bar-codeRow"},null);case"code":return createVNode(yo,{key:"bar-code"},null);case"link":return createVNode(Ro,{key:"bar-link"},null);case"image":return s2?createVNode(So,{key:"bar-image"},null):createVNode(Ao,{key:"bar-imageDropdown"},null);case"table":return createVNode(Zo,{key:"bar-table"},null);case"revoke":return createVNode(zo,{key:"bar-revoke"},null);case"next":return createVNode(Bo,{key:"bar-next"},null);case"save":return createVNode(qo,{key:"bar-save"},null);case"prettier":return!c2&&createVNode(Oo,{key:"bar-prettier"},null);case"pageFullscreen":return!v2.value.fullscreen&&createVNode(Ho,{key:"bar-pageFullscreen"},null);case"fullscreen":return createVNode(ko,{key:"bar-fullscreen"},null);case"catalog":return createVNode(wo,{key:"bar-catalog"},null);case"preview":return createVNode(Vo,{key:"bar-preview"},null);case"previewOnly":return createVNode(Wo,{key:"bar-previewOnly"},null);case"htmlPreview":return createVNode(xo,{key:"bar-htmlPreview"},null);case"github":return createVNode($o,{key:"bar-github"},null);case"mermaid":return createVNode(Fo,{key:"bar-mermaid"},null);case"katex":return createVNode(Mo,{key:"bar-katex"},null)}else if(b2.value instanceof Array){const p2=b2.value[f2];return p2?cloneVNode(p2,{theme:p2.props?.theme||t2.value,previewTheme:p2.props?.theme||o2.value,language:p2.props?.theme||n2.value,codeTheme:p2.props?.codeTheme||u2.value,disabled:p2.props?.disabled||i.value,showToolbarName:p2.props?.showToolbarName||m2.value,insert(I2){F$1.emit(e2,G,"universal",{generate:I2})}}):""}else if(b2.value?.children instanceof Array){const p2=b2.value.children[f2];return p2?cloneVNode(p2,{theme:p2.props?.theme||t2.value,previewTheme:p2.props?.theme||o2.value,language:p2.props?.theme||n2.value,codeTheme:p2.props?.codeTheme||u2.value,disabled:p2.props?.disabled||i.value,showToolbarName:p2.props?.showToolbarName||m2.value,insert(I2){F$1.emit(e2,G,"universal",{generate:I2})}}):""}else return""}}},ll=defineComponent({name:"FloatingToolbar",setup(){const e2=inject("floatingToolbars"),{barRender:t2}=Ze();return()=>createVNode("div",{class:`${p$2}-floating-toolbar`},[e2.value.map(o2=>t2(o2))])}}),ve$1=StateEffect.define(),al=StateField.define({create(){return null},update(e2,t2){for(const o2 of t2.effects)o2.is(ve$1)&&(e2=o2.value);return e2},provide:e2=>showTooltip.from(e2)}),nl=e2=>{const t2=(n2,i)=>{n2.dispatch({effects:ve$1.of({pos:i,above:!0,arrow:!0,create:()=>{const s2=document.createElement("div"),c2=document.createElement("div");s2.appendChild(c2);const u2=createApp(ll);return e2.privide(u2),u2.mount(s2),{dom:s2,destroy:()=>u2.unmount()}}})})},o2=EditorView.updateListener.of(n2=>{if(n2.selectionSet||n2.docChanged){const i=n2.state,s2=i.selection.main;if(!s2.empty)t2(n2.view,s2.from);else{const c2=s2.head,u2=i.doc.lineAt(c2);/^\s*$/.test(u2.text)?t2(n2.view,c2):n2.view.dispatch({effects:ve$1.of(null)})}}});return[al,o2]},rl="#e5c07b",Ee$1="var(--md-color)",sl="#56b6c2",il="#fff",Z$1="#3f4a54",Le$1="#2d8cf0",cl="#2d8cf0",ul="#3f4a54",Ne="#d19a66",dl="#c678dd",ml="#f6f6f6",bl="#ceedfa33",Ae="var(--md-bk-color)",ue$1="var(--md-bk-color)",vl="#bad5fa",De="#3f4a54",gl=EditorView.theme({"&":{color:Z$1,backgroundColor:Ae},".cm-content":{caretColor:De},".cm-cursor, .cm-dropCursor":{borderLeftColor:De},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:vl},".cm-panels":{backgroundColor:ml,color:Z$1},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ae,color:Z$1,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:bl},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:ue$1},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"var(--md-border-color)",borderBottomColor:"var(--md-border-color)"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ue$1,borderBottomColor:ue$1},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:Z$1}}}),fl=HighlightStyle.define([{tag:tags$1.keyword,color:dl},{tag:[tags$1.name,tags$1.deleted,tags$1.character,tags$1.propertyName,tags$1.macroName],color:Ee$1},{tag:[tags$1.function(tags$1.variableName),tags$1.labelName],color:cl},{tag:[tags$1.color,tags$1.constant(tags$1.name),tags$1.standard(tags$1.name)],color:Ne},{tag:[tags$1.definition(tags$1.name),tags$1.separator],color:Z$1},{tag:[tags$1.typeName,tags$1.className,tags$1.number,tags$1.changed,tags$1.annotation,tags$1.modifier,tags$1.self,tags$1.namespace],color:rl},{tag:[tags$1.operator,tags$1.operatorKeyword,tags$1.url,tags$1.escape,tags$1.regexp,tags$1.link,tags$1.special(tags$1.string)],color:sl},{tag:[tags$1.meta,tags$1.comment],color:Le$1},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.link,color:Le$1,textDecoration:"underline"},{tag:tags$1.heading,fontWeight:"bold",color:Ee$1},{tag:[tags$1.atom,tags$1.bool,tags$1.special(tags$1.variableName)],color:Ne},{tag:[tags$1.processingInstruction,tags$1.string,tags$1.inserted],color:ul},{tag:tags$1.invalid,color:il}]),Me=[gl,syntaxHighlighting(fl)],hl="#e5c07b",Re="var(--md-color)",pl="#56b6c2",Tl="#ffffff",X="var(--md-color)",Fe="#e5c07b",wl="#e5c07b",yl="var(--md-color)",Be="#d19a66",Cl="#c678dd",kl="#21252b",$l="#2c313a",Pe="var(--md-bk-color)",de$1="var(--md-bk-color)",xl="#ceedfa33",He="#528bff",Sl=EditorView.theme({"&":{color:X,backgroundColor:Pe},".cm-content":{caretColor:He},".cm-cursor, .cm-dropCursor":{borderLeftColor:He},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:xl},".cm-panels":{backgroundColor:kl,color:X},".cm-panels.cm-panels-top":{borderBottom:"1px solid var(--md-border-color)"},".cm-panels.cm-panels-bottom":{borderTop:"1px solid var(--md-border-color)"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Pe,color:X,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:$l},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"1px solid var(--md-border-color)",backgroundColor:de$1},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"var(--md-border-color)",borderBottomColor:"var(--md-border-color)"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:de$1,borderBottomColor:de$1},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{color:X}}},{dark:!0}),Il=HighlightStyle.define([{tag:tags$1.keyword,color:Cl},{tag:[tags$1.name,tags$1.deleted,tags$1.character,tags$1.propertyName,tags$1.macroName],color:Re},{tag:[tags$1.function(tags$1.variableName),tags$1.labelName],color:wl},{tag:[tags$1.color,tags$1.constant(tags$1.name),tags$1.standard(tags$1.name)],color:Be},{tag:[tags$1.definition(tags$1.name),tags$1.separator],color:X},{tag:[tags$1.typeName,tags$1.className,tags$1.number,tags$1.changed,tags$1.annotation,tags$1.modifier,tags$1.self,tags$1.namespace],color:hl},{tag:[tags$1.operator,tags$1.operatorKeyword,tags$1.url,tags$1.escape,tags$1.regexp,tags$1.link,tags$1.special(tags$1.string)],color:pl},{tag:[tags$1.meta,tags$1.comment],color:Fe},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.link,color:Fe,textDecoration:"underline"},{tag:tags$1.heading,fontWeight:"bold",color:Re},{tag:[tags$1.atom,tags$1.bool,tags$1.special(tags$1.variableName)],color:Be},{tag:[tags$1.processingInstruction,tags$1.string,tags$1.inserted],color:yl},{tag:tags$1.invalid,color:Tl}]),Oe=[Sl,syntaxHighlighting(Il)],El=(e2,t2)=>{const o2=inject("editorId"),n2=s2=>{s2 instanceof Promise?s2.then(c2=>{F$1.emit(o2,G,"universal",{generate(){return{targetValue:c2}}})}).catch(c2=>{console.error(c2)}):F$1.emit(o2,G,"universal",{generate(){return{targetValue:s2}}})};return s2=>{if(!s2.clipboardData)return;if(s2.clipboardData.files.length>0){const{files:f2}=s2.clipboardData;F$1.emit(o2,I,Array.from(f2).filter(p2=>/image\/.*/.test(p2.type))),s2.preventDefault();return}const c2=s2.clipboardData.getData("text/plain"),u2=t2.value?.view.state.selection.main.to||0,m2=t2.value?.view.state.doc.lineAt(u2).from||0,v2=t2.value?.view.state.doc.sliceString(m2,u2)||"",b2=/!\[.*\]\(\s*$/.test(v2),h2=/!\[.*\]\((.*)\s?.*\)/.test(c2);if(b2){const f2=e2.transformImgUrl(c2);n2(f2),s2.preventDefault();return}else if(h2){const f2=c2.match(new RegExp(`(?<=!\\[.*\\]\\()([^)\\s]+)(?=\\s?["']?.*["']?\\))`,"g"));f2?Promise.all(f2.map(p2=>e2.transformImgUrl(p2))).then(p2=>{n2(p2.reduce((T2,I2,A2)=>T2.replace(f2[A2],I2),c2))}).catch(p2=>{console.error(p2)}):n2(c2),s2.preventDefault();return}if(e2.autoDetectCode&&s2.clipboardData.types.includes("vscode-editor-data")){const f2=JSON.parse(s2.clipboardData.getData("vscode-editor-data"));F$1.emit(o2,G,"code",{mode:f2.mode,text:s2.clipboardData.getData("text/plain")}),s2.preventDefault();return}e2.maxlength&&c2.length+e2.modelValue.length>e2.maxlength&&F$1.emit(o2,N$1,{name:"overlength",message:"The input text is too long",data:c2})}},Ll=(e2,t2)=>[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(F$1.emit(e2,G,"bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:deleteLine,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:M2=>(F$1.emit(e2,i$3,M2.state.doc.toString()),!0),shift:()=>(F$1.emit(e2,G,"strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",preventDefault:!0,run:()=>(F$1.emit(e2,G,"underline"),!0),shift:()=>(F$1.emit(e2,G,"unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",preventDefault:!0,run:()=>(F$1.emit(e2,G,"italic"),!0),shift:()=>(F$1.emit(e2,G,"image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(F$1.emit(e2,G,"h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(F$1.emit(e2,G,"h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(F$1.emit(e2,G,"h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(F$1.emit(e2,G,"h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(F$1.emit(e2,G,"h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(F$1.emit(e2,G,"h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(F$1.emit(e2,G,"sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(F$1.emit(e2,G,"sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(F$1.emit(e2,G,"orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(F$1.emit(e2,G,"code"),!0),any(M2,k2){return(k2.ctrlKey||k2.metaKey)&&k2.altKey&&k2.code==="KeyC"?(F$1.emit(e2,G,"codeRow"),!0):!1}},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(F$1.emit(e2,G,"link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>t2.noPrettier?!1:(F$1.emit(e2,G,"prettier"),!0)},{any:(M2,k2)=>(k2.ctrlKey||k2.metaKey)&&k2.altKey&&k2.shiftKey&&k2.code==="KeyT"?(F$1.emit(e2,G,"table"),!0):!1},...searchKeymap],Nl=/[a-z][a-z0-9.+-]*:\/\/[^\s<>"'`()]+(?:\([^\s<>"'`]*\)[^\s<>"'`]*)*/i,Al=/\/\/[^\s<>"'`()]+/i,Dl=/data:[a-z]+\/[a-z0-9.+-]+(?:;base64)?,[a-z0-9+/=%]+/i,Ml=/\/(?!\/)[^\s<>"'`()]+/i,Ve=new RegExp(`(?<![a-z0-9.+-])(${Nl.source}|${Al.source}|${Dl.source}|${Ml.source})`,"gi"),Rl=(e2,t2,o2)=>e2.some(n2=>n2.from===t2&&n2.to===o2),Fl=e2=>{const t2=e2.shortenText||(()=>"..."),o2=StateEffect.define(),n2=StateEffect.define(),i=(m2,v2)=>{const b2=new RangeSetBuilder,h2=[];for(let f2=1;f2<=m2.doc.lines;f2++){const p2=m2.doc.line(f2),T2=p2.text;Ve.lastIndex=0;let I2;for(;I2=Ve.exec(T2);){if(!I2[0])continue;const A2=I2[0];if(A2.length<=e2.maxLength)continue;const L2=p2.from+I2.index,S2=L2+A2.length;if(Rl(v2,L2,S2)){h2.push({from:L2,to:S2});continue}const N2=t2(A2);b2.add(L2,S2,Decoration.replace({widget:new s2(N2,A2,L2,S2)}))}}return{deco:b2.finish(),expanded:h2}};class s2 extends WidgetType{constructor(v2,b2,h2,f2){super(),this.short=v2,this.raw=b2,this.from=h2,this.to=f2}toDOM(v2){const b2=document.createElement("span");return b2.textContent=this.short,b2.className="cm-short-text",b2.title=this.raw,b2.style.display="inline",b2.style.textDecoration="underline",b2.addEventListener("mousedown",h2=>{h2.preventDefault(),h2.stopPropagation(),v2.dispatch({selection:EditorSelection.cursor(this.from),effects:o2.of({from:this.from,to:this.to,expand:!0})}),v2.focus()}),b2.addEventListener("click",h2=>{h2.preventDefault()}),b2}ignoreEvent(){return!1}eq(v2){return this.short===v2.short&&this.raw===v2.raw&&this.from===v2.from&&this.to===v2.to}}const c2=StateField.define({create(m2){return i(m2,[])},update(m2,v2){let b2=m2.expanded;v2.docChanged&&b2.length&&(b2=b2.map(({from:f2,to:p2})=>({from:v2.changes.mapPos(f2,1),to:v2.changes.mapPos(p2,-1)})).filter(({from:f2,to:p2})=>f2<p2));let h2=b2!==m2.expanded;for(const f2 of v2.effects)f2.is(o2)?f2.value.expand?b2=[{from:f2.value.from,to:f2.value.to}]:b2=b2.filter(({from:p2,to:T2})=>p2!==f2.value.from||T2!==f2.value.to):f2.is(n2)&&b2.length>0&&(b2=[]);return!h2&&b2!==m2.expanded&&(h2=!0),v2.docChanged||h2?i(v2.state,b2):m2},provide:m2=>EditorView.decorations.compute([m2],v2=>v2.field(m2).deco)}),u2=EditorView.domEventHandlers({mousedown(m2,v2){const b2=v2.state.field(c2,!1);if(!b2||b2.expanded.length===0)return!1;const h2=m2.target;if(h2&&v2.dom.contains(h2)){const f2=v2.posAtDOM(h2,0);if(f2!=null&&f2!==-1&&b2.expanded.some(({from:T2,to:I2})=>f2>=T2&&f2<=I2))return!1}return v2.dispatch({effects:n2.of(void 0)}),!1}});return[c2,u2]};EditorView.EDIT_CONTEXT=!1;const Xe=e2=>e2.extension instanceof Function?e2.extension(e2.options):e2.extension,Bl=e2=>{const t2=Xe(e2);return e2.compartment?e2.compartment.of(t2):t2},Pl=e2=>{const t2=inject("tabWidth"),o2=inject("editorId"),n2=inject("theme"),i=inject("previewTheme"),s2=inject("language"),c2=inject("usedLanguageText"),u2=inject("disabled"),m2=inject("showToolbarName"),v2=inject("customIcon"),b2=inject("noUploadImg"),h2=inject("tableShape"),f2=inject("noPrettier"),p2=inject("codeTheme"),T$12=inject("setting"),I2=inject("updateSetting"),A2=inject("catalogVisible"),L2=inject("defToolbars"),S2=inject("floatingToolbars"),N2=inject("rootRef"),M2=ref(),k2=shallowRef(),V2=ref(!1),Q2=new Compartment,ee2=new Compartment,se2=new Compartment,pe=new Compartment,Je=new Compartment,Qe=Ll(o2,{noPrettier:f2}),Te=()=>[...Qe,...defaultKeymap,...historyKeymap,indentWithTab],te={paste:El(e2,k2),blur:e2.onBlur,focus:e2.onFocus,drop:e2.onDrop,compositionstart:()=>{V2.value=!0},compositionend:(w2,D2)=>{V2.value=!1,e2.updateModelValue(D2.state.doc.toString())},input:w2=>{e2.onInput&&e2.onInput(w2);const{data:D2}=w2;e2.maxlength&&e2.modelValue.length+D2.length>e2.maxlength&&F$1.emit(o2,N$1,{name:"overlength",message:"The input text is too long",data:D2})}},et2=nl({privide(w2){w2.provide("editorId",o2),w2.provide("theme",n2),w2.provide("previewTheme",i),w2.provide("language",s2),w2.provide("disabled",u2),w2.provide("noUploadImg",b2),w2.provide("tableShape",h2),w2.provide("noPrettier",f2),w2.provide("codeTheme",p2),w2.provide("showToolbarName",m2),w2.provide("setting",T$12),w2.provide("updateSetting",I2),w2.provide("usedLanguageText",c2),w2.provide("catalogVisible",A2),w2.provide("defToolbars",L2),w2.provide("tabWidth",t2),w2.provide("customIcon",v2),w2.provide("floatingToolbars",S2),w2.provide("rootRef",N2)}}),tt2=[{type:"theme",extension:({theme:w2})=>w2.value==="light"?Me:Oe,compartment:Q2,options:{theme:n2}},{type:"updateListener",extension:EditorView.updateListener.of(w2=>{w2.docChanged&&(e2.onChange(w2.state.doc.toString()),V2.value||e2.updateModelValue(w2.state.doc.toString()))})},{type:"domEventHandlers",extension:EditorView.domEventHandlers(te),compartment:pe},{type:"completions",extension:Ie(e2.completions),compartment:ee2},{type:"history",extension:history(),compartment:se2}],we2=h$2.codeMirrorExtensions([{type:"lineWrapping",extension:EditorView.lineWrapping},{type:"keymap",extension:keymap.of(Te())},{type:"drawSelection",extension:drawSelection()},{type:"markdown",extension:markdown({codeLanguages:languages})},{type:"linkShortener",extension:w2=>Fl(w2),options:{maxLength:30}},{type:"floatingToolbar",extension:S2.value.length>0?et2:[],compartment:Je}],{editorId:o2,theme:n2.value,keyBindings:Te()}),ot2=()=>[...tt2,...we2].map(Bl);return onMounted(()=>{const w2=new EditorView({doc:e2.modelValue,parent:M2.value,extensions:ot2()}),D2=new go(w2);k2.value=D2,setTimeout(()=>{D2.setTabSize(t2),D2.setDisabled(u2.value),D2.setReadOnly(e2.readonly),e2.placeholder&&D2.setPlaceholder(e2.placeholder),typeof e2.maxlength=="number"&&D2.setMaxLength(e2.maxlength),e2.autofocus&&w2.focus()},0),F$1.on(o2,{name:T,callback(){undo(w2)}}),F$1.on(o2,{name:d,callback(){redo(w2)}}),F$1.on(o2,{name:G,async callback(B2,F2={}){if(B2==="image"&&F2.transform){const P2=e2.transformImgUrl(F2.url);if(P2 instanceof Promise)P2.then(async O2=>{const{text:H2,options:Y2}=await ce$1(B2,k2.value,{...F2,url:O2});k2.value?.replaceSelectedText(H2,Y2,o2)}).catch(O2=>{console.error(O2)});else{const{text:O2,options:H2}=await ce$1(B2,k2.value,{...F2,url:P2});k2.value?.replaceSelectedText(O2,H2,o2)}}else{const{text:P2,options:O2}=await ce$1(B2,k2.value,F2);k2.value?.replaceSelectedText(P2,O2,o2)}}}),F$1.on(o2,{name:V$1,callback:$(B2=>{const F2={...te},P2=Object.keys(te);for(const O2 in B2){const H2=O2;P2.includes(H2)?F2[H2]=(Y2,ye)=>{B2[H2](Y2,ye),Y2.defaultPrevented||te[H2](Y2,ye)}:F2[H2]=B2[H2]}k2.value?.view.dispatch({effects:pe.reconfigure(EditorView.domEventHandlers(F2))})})}),F$1.on(o2,{name:O,callback:(B2,F2)=>{const P2=w2.state.doc.line(B2);w2.dispatch(w2.state.update({changes:{from:P2.from,to:P2.to,insert:F2}}))}}),F$1.on(o2,{name:u$1,callback(){F$1.emit(o2,f$1,w2)}}),F$1.emit(o2,f$1,w2)}),watch(n2,()=>{k2.value?.view.dispatch({effects:Q2.reconfigure(n2.value==="light"?Me:Oe)})},{deep:!0}),watch(()=>e2.completions,()=>{k2.value?.view.dispatch({effects:ee2.reconfigure(Ie(e2.completions))})},{deep:!0}),watch(()=>e2.modelValue,()=>{k2.value?.getValue()!==e2.modelValue&&k2.value?.setValue(e2.modelValue)}),watch(()=>e2.placeholder,()=>{k2.value?.setPlaceholder(e2.placeholder)}),watch([u2],()=>{k2.value?.setDisabled(u2.value)}),watch(()=>e2.readonly,()=>{k2.value?.setDisabled(e2.readonly)}),watch(()=>e2.maxlength,()=>{e2.maxlength&&k2.value?.setMaxLength(e2.maxlength)}),ho(()=>{const w2=we2.find(D2=>D2.type==="floatingToolbar");w2?.compartment&&(S2.value.length>0?k2.value?.view.dispatch({effects:w2.compartment.reconfigure(Xe(w2))}):k2.value?.view.dispatch({effects:w2.compartment.reconfigure([])}))},S2),{inputWrapperRef:M2,codeMirrorUt:k2,resetHistory(){k2.value?.view.dispatch({effects:se2.reconfigure([])}),k2.value?.view.dispatch({effects:se2.reconfigure(history())})}}},Hl=(e2,t2,o2)=>{const n2=inject("setting"),i=computed(()=>/px$/.test(`${e2.inputBoxWidth}`)?"50%":e2.inputBoxWidth),s2=reactive({resizedWidth:i.value}),c2=reactive({width:i.value}),u2=reactive({left:i.value,display:"initial"}),m2=h2=>{const f2=t2.value?.offsetWidth||0,p2=t2.value?.getBoundingClientRect().x||0;let T2=h2.x-p2;T2/f2<w$1?T2=f2*w$1:T2>f2-f2*w$1&&(T2=f2-f2*w$1);const I2=`${T2/f2*100}%`;c2.width=I2,u2.left=I2,s2.resizedWidth=I2,e2.oninputBoxWidthChange?.(I2)},v2=h2=>{h2.target===o2.value&&document.addEventListener("mousemove",m2)},b2=()=>{document.removeEventListener("mousemove",m2)};return watch([o2],()=>{document.removeEventListener("mousedown",v2),document.removeEventListener("mouseup",b2),document.addEventListener("mousedown",v2),document.addEventListener("mouseup",b2)}),onMounted(()=>{document.addEventListener("mousedown",v2),document.addEventListener("mouseup",b2)}),onBeforeUnmount(()=>{document.removeEventListener("mousedown",v2),document.removeEventListener("mouseup",b2)}),watch([i],([h2])=>{s2.resizedWidth=h2,c2.width=h2,u2.left=h2}),watch([()=>n2.value.htmlPreview,()=>n2.value.preview,()=>n2.value.previewOnly],()=>{n2.value.previewOnly?(c2.width="0%",u2.display="none"):!n2.value.htmlPreview&&!n2.value.preview?(c2.width="100%",u2.display="none"):(c2.width=s2.resizedWidth,u2.display="initial")},{immediate:!0}),{inputWrapperStyle:c2,resizeOperateStyle:u2}},Ol=()=>{const e2=inject("editorId"),t2=ref(!0),o2=x();return{onCatalogActive:(c2,u2)=>{const m2=document.querySelector(`#${e2} .${p$2}-catalog-editor`);if(!u2||!t2.value||!m2)return;const v2=u2.offsetTop-m2.scrollTop;(v2>100||v2<100)&&o2(m2,u2.offsetTop-100)},onMouseenter:()=>t2.value=!1,onMouseleave:()=>t2.value=!0}},me$1=defineComponent({name:`${u$2}CustomScrollbar`,props:{id:{type:String,default:void 0},class:{type:[String,Array],default:void 0},scrollTarget:{type:String,default:void 0},alwaysShowTrack:{type:Boolean,default:!1},onMouseenter:{type:Function,default:()=>{}},onMouseleave:{type:Function,default:()=>{}}},setup(e2,{slots:t2}){const o2=ref(null),n2=ref(null),i=ref(null),s2=ref(null);let c2=null,u2=null,m2=!1,v2=0,b2=0;const h2=()=>{if(!n2.value||!o2.value||!i.value||!s2.value)return;const S2=o2.value.clientHeight,N2=n2.value.scrollHeight,M2=n2.value.scrollTop;if(N2<=S2){i.value.style.display="none",e2.alwaysShowTrack||(s2.value.style.display="none");return}else i.value.style.display="block",s2.value.style.display="block";const k2=S2/N2,V2=Math.max(S2*k2,20),Q2=S2-V2,ee2=Math.min(M2*k2,Q2);i.value.style.height=`${V2}px`,i.value.style.top=`${ee2}px`},f2=()=>h2(),p2=S2=>{m2=!0,v2=S2.clientY,b2=n2.value.scrollTop,document.body.style.userSelect="none"},T2=S2=>{if(!m2||!n2.value||!o2.value)return;const N2=S2.clientY-v2,M2=n2.value.scrollHeight/o2.value.clientHeight;n2.value.scrollTop=b2+N2*M2},I2=()=>{m2=!1,document.body.style.userSelect=""},A2=S2=>{n2.value&&n2.value.removeEventListener("scroll",f2),n2.value=S2,n2.value?(n2.value.addEventListener("scroll",f2),h2()):s2.value&&!e2.alwaysShowTrack&&(s2.value.style.display="none")},L2=()=>{if(!o2.value)return;const S2=e2.scrollTarget?o2.value.querySelector(e2.scrollTarget):o2.value.firstElementChild;A2(S2)};return onMounted(async()=>{await nextTick(),L2(),c2=new MutationObserver(()=>{u2&&cancelAnimationFrame(u2),u2=requestAnimationFrame(()=>{L2()})}),c2.observe(o2.value,{childList:!0,subtree:!0}),window.addEventListener("resize",h2),i.value?.addEventListener("mousedown",p2),document.addEventListener("mousemove",T2),document.addEventListener("mouseup",I2)}),onBeforeUnmount(()=>{c2?.disconnect(),n2.value&&n2.value.removeEventListener("scroll",f2),window.removeEventListener("resize",h2),i.value?.removeEventListener("mousedown",p2),document.removeEventListener("mousemove",T2),document.removeEventListener("mouseup",I2)}),()=>createVNode("div",{id:e2.id,class:[`${p$2}-custom-scrollbar`,e2.class],ref:o2,onMouseenter:e2.onMouseenter,onMouseleave:e2.onMouseleave},[t2.default?.(),createVNode("div",{class:`${p$2}-custom-scrollbar__track`,ref:s2},[createVNode("div",{class:`${p$2}-custom-scrollbar__thumb`,ref:i},null)])])}}),Vl=x(),Wl=defineComponent({name:"MDEditorContent",props:nn,setup(e2,t2){const o2=inject("editorId"),n2=inject("catalogVisible"),i=inject("theme"),s2=inject("setting"),c2=ref(""),u2=ref(),m2=ref(),{inputWrapperRef:v2,codeMirrorUt:b2,resetHistory:h2}=Pl(e2),{inputWrapperStyle:f2,resizeOperateStyle:p2}=Hl(e2,u2,m2);oo(e2,c2,b2);const{onCatalogActive:T2,onMouseenter:I2,onMouseleave:A2}=Ol();return t2.expose({getSelectedText(){return b2.value?.getSelectedText()},focus(L2){b2.value?.focus(L2)},resetHistory:h2,getEditorView(){return b2.value?.view}}),()=>createVNode("div",{class:`${p$2}-content`},[createVNode("div",{class:`${p$2}-content-wrapper`,ref:u2},[createVNode(me$1,{alwaysShowTrack:!0,scrollTarget:`#${o2} .cm-scroller`,style:f2},{default:()=>[createVNode("div",{class:`${p$2}-input-wrapper`,ref:v2},null)]}),(s2.value.htmlPreview||s2.value.preview)&&createVNode("div",{class:`${p$2}-resize-operate`,style:p2,ref:m2},null),createVNode(me$1,{style:{flex:1}},{default:()=>[createVNode(Mt,{modelValue:e2.modelValue,onChange:e2.onChange,onHtmlChanged:L2=>{c2.value=L2,e2.onHtmlChanged(L2)},onGetCatalog:e2.onGetCatalog,mdHeadingId:e2.mdHeadingId,noMermaid:e2.noMermaid,sanitize:e2.sanitize,noKatex:e2.noKatex,formatCopiedText:e2.formatCopiedText,noHighlight:e2.noHighlight,noImgZoomIn:e2.noImgZoomIn,sanitizeMermaid:e2.sanitizeMermaid,codeFoldable:e2.codeFoldable,autoFoldThreshold:e2.autoFoldThreshold,onRemount:e2.onRemount},null)]})]),n2.value&&createVNode(me$1,{class:`${p$2}-catalog-${e2.catalogLayout}`,onMouseenter:I2,onMouseleave:A2},{default:()=>[createVNode(W,{theme:i.value,class:`${p$2}-catalog-editor`,editorId:o2,mdHeadingId:e2.mdHeadingId,key:"internal-catalog",scrollElementOffsetTop:2,syncWith:s2.value.preview?"preview":"editor",onClick:(L2,S2)=>{if(!s2.value.preview&&S2.line!==void 0){L2.preventDefault();const N2=b2.value?.view;if(N2){const M2=N2.state.doc.line(S2.line+1),k2=N2.lineBlockAt(M2.from)?.top,V2=N2.scrollDOM;Vl(V2,k2)}}},catalogMaxDepth:e2.catalogMaxDepth,onActive:T2},null)]})])}}),_l=defineComponent({props:{modelValue:{type:String,default:""}},setup(e2){const t2=inject("usedLanguageText");return()=>createVNode("div",{class:`${p$2}-footer-item`},[createVNode("label",{class:`${p$2}-footer-label`},[`${t2.value.footer?.markdownTotal}:`]),createVNode("span",null,[e2.modelValue?.length||0])])}}),zl={checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},disabled:{type:Boolean,default:void 0}},ql=defineComponent({name:`${p$2}-checkbox`,props:zl,setup(e2){return()=>createVNode("div",{class:[`${p$2}-checkbox`,e2.checked&&`${p$2}-checkbox-checked`,e2.disabled&&`${p$2}-disabled`],onClick:()=>{e2.disabled||e2.onChange(!e2.checked)}},null)}}),Ul={scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},Kl=defineComponent({props:Ul,setup(e2){const t2=inject("usedLanguageText"),o2=inject("disabled");return()=>createVNode("div",{class:[`${p$2}-footer-item`,o2?.value&&`${p$2}-disabled`]},[createVNode("label",{class:`${p$2}-footer-label`,onClick:()=>{o2?.value||e2.onScrollAutoChange(!e2.scrollAuto)}},[t2?.value.footer?.scrollAuto]),createVNode(ql,{checked:e2.scrollAuto,onChange:e2.onScrollAutoChange,disabled:o2?.value},null)])}}),Gl={modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},noScrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},jl=defineComponent({name:"MDEditorFooter",props:Gl,setup(e2){const t2=inject("theme"),o2=inject("language"),n2=inject("disabled"),i=computed(()=>{const c2=e2.footers.indexOf("="),u2=c2===-1?e2.footers:e2.footers.slice(0,c2),m2=c2===-1?[]:e2.footers.slice(c2,Number.MAX_SAFE_INTEGER);return[u2,m2]}),s2=c2=>{if(b$1.includes(c2))switch(c2){case"markdownTotal":return createVNode(_l,{modelValue:e2.modelValue},null);case"scrollSwitch":return!e2.noScrollAuto&&createVNode(Kl,{scrollAuto:e2.scrollAuto,onScrollAutoChange:e2.onScrollAutoChange},null)}else if(e2.defFooters instanceof Array){const u2=e2.defFooters[c2];return u2?cloneVNode(u2,{theme:u2.props?.theme||t2.value,language:u2.props?.language||o2.value,disabled:u2.props?.disabled||n2?.value}):""}else if(e2.defFooters&&e2.defFooters.children instanceof Array){const u2=e2.defFooters.children[c2];return u2?cloneVNode(u2,{theme:u2.props?.theme||t2.value,language:u2.props?.language||o2.value,disabled:u2.props?.disabled||n2?.value}):""}else return""};return()=>{const c2=i.value[0].map(m2=>s2(m2)),u2=i.value[1].map(m2=>s2(m2));return createVNode("div",{class:`${p$2}-footer`},[createVNode("div",{class:`${p$2}-footer-left`},[c2]),createVNode("div",{class:`${p$2}-footer-right`},[u2])])}}}),Yl={toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]}},Zl=defineComponent({name:"MDEditorToolbar",props:Yl,setup(e2){const t2=inject("editorId"),o2=inject("showToolbarName"),n2=`${t2}-toolbar-wrapper`,i=ref(),s2=ref(),{barRender:c2}=Ze(),u2=computed(()=>{const m2=e2.toolbars.filter(f2=>!e2.toolbarsExclude.includes(f2)),v2=m2.indexOf("="),b2=v2===-1?m2:m2.slice(0,v2+1),h2=v2===-1?[]:m2.slice(v2,Number.MAX_SAFE_INTEGER);return[b2,h2]});return watch(()=>e2.toolbars,()=>{nextTick(()=>{i.value&&I$2(i.value)})},{immediate:!0}),()=>{const m2=u2.value[0].map(b2=>c2(b2)),v2=u2.value[1].map(b2=>c2(b2));return createVNode(Fragment,null,[e2.toolbars.length>0&&createVNode("div",{class:`${p$2}-toolbar-wrapper`,ref:i,id:n2},[createVNode("div",{class:[`${p$2}-toolbar`,o2.value&&`${p$2}-stn`]},[createVNode("div",{class:`${p$2}-toolbar-left`,ref:s2},[m2]),createVNode("div",{class:`${p$2}-toolbar-right`},[v2])])])])}}}),be$1=defineComponent({name:"MdEditorV3",props:on,emits:an,setup(e2,t2){const{noKatex:o2,noMermaid:n2,noHighlight:i}=e2,s2=reactive({scrollAuto:e2.scrollAuto}),c2=ref(),u2=ref(),m2=computed(()=>g$4({props:e2,ctx:t2},"defToolbars")),v2=computed(()=>g$4({props:e2,ctx:t2},"defFooters")),b2=tt(e2),[h2,f2]=Qt(e2,t2,{editorId:b2}),p2=en(e2,{editorId:b2});return Zt(e2,t2,{editorId:b2}),Xt(e2),Yt(e2,t2,{editorId:b2}),tn(e2,t2,{editorId:b2,catalogVisible:p2,setting:h2,updateSetting:f2,codeRef:u2}),Jt(e2,{rootRef:c2,editorId:b2,setting:h2,updateSetting:f2,catalogVisible:p2,defToolbars:m2}),onBeforeUnmount(()=>{F$1.clear(b2)}),()=>createVNode("div",{id:b2,class:[p$2,e2.class,e2.theme==="dark"&&`${p$2}-dark`,h2.fullscreen||h2.pageFullscreen?`${p$2}-fullscreen`:""],style:e2.style,ref:c2},[e2.toolbars.length>0&&createVNode(Zl,{toolbars:e2.toolbars,toolbarsExclude:e2.toolbarsExclude},null),createVNode(Wl,{ref:u2,modelValue:e2.modelValue,mdHeadingId:e2.mdHeadingId,noMermaid:n2,sanitize:e2.sanitize,placeholder:e2.placeholder,noKatex:o2,scrollAuto:s2.scrollAuto,formatCopiedText:e2.formatCopiedText,autofocus:e2.autoFocus,readonly:e2.readOnly,maxlength:e2.maxLength,autoDetectCode:e2.autoDetectCode,noHighlight:i,updateModelValue:T2=>{t2.emit("update:modelValue",T2)},onChange:T2=>{e2.onChange?.(T2),t2.emit("onChange",T2)},onHtmlChanged:T2=>{e2.onHtmlChanged?.(T2),t2.emit("onHtmlChanged",T2)},onGetCatalog:T2=>{e2.onGetCatalog?.(T2),t2.emit("onGetCatalog",T2)},onBlur:T2=>{e2.onBlur?.(T2),t2.emit("onBlur",T2)},onFocus:T2=>{e2.onFocus?.(T2),t2.emit("onFocus",T2)},onInput:T2=>{e2.onInput?.(T2),t2.emit("onInput",T2)},completions:e2.completions,noImgZoomIn:e2.noImgZoomIn,onDrop:T2=>{e2.onDrop?.(T2),t2.emit("onDrop",T2)},inputBoxWidth:e2.inputBoxWidth,oninputBoxWidthChange:T2=>{e2.oninputBoxWidthChange?.(T2),t2.emit("oninputBoxWidthChange",T2)},sanitizeMermaid:e2.sanitizeMermaid,transformImgUrl:e2.transformImgUrl,codeFoldable:e2.codeFoldable,autoFoldThreshold:e2.autoFoldThreshold,onRemount:()=>{e2.onRemount?.(),t2.emit("onRemount")},catalogLayout:e2.catalogLayout,catalogMaxDepth:e2.catalogMaxDepth,noEcharts:e2.noEcharts},null),e2.footers.length>0&&createVNode(jl,{modelValue:e2.modelValue,footers:e2.footers,defFooters:v2.value,noScrollAuto:!h2.preview&&!h2.htmlPreview||h2.previewOnly,scrollAuto:s2.scrollAuto,onScrollAutoChange:T2=>s2.scrollAuto=T2},null)])}});be$1.install=e2=>(e2.component(be$1.name,be$1),e2.use(n).use(h$1).use(i$1).use(W).use(re$1),e2);const ke={onClick:{type:Function,default:void 0},language:{type:String,default:void 0},theme:{type:String,default:void 0},disabled:{type:Boolean,default:void 0}},Q=defineComponent({name:"NormalFooterToolbar",props:ke,emits:["onClick"],setup(t2,n2){return()=>{const i=g$4({props:t2,ctx:n2});return createVNode("div",{class:[`${p$2}-footer-item`,t2.disabled&&`${p$2}-disabled`],onClick:s2=>{t2.disabled||(t2.onClick?.(s2),n2.emit("onClick",s2))}},[i])}}});Q.install=t2=>(t2.component(Q.name,Q),t2);var z={exports:{}},w={},M={exports:{}},N={},ie;function ve(){if(ie)return N;ie=1;function t2(){var e2={};return e2["align-content"]=!1,e2["align-items"]=!1,e2["align-self"]=!1,e2["alignment-adjust"]=!1,e2["alignment-baseline"]=!1,e2.all=!1,e2["anchor-point"]=!1,e2.animation=!1,e2["animation-delay"]=!1,e2["animation-direction"]=!1,e2["animation-duration"]=!1,e2["animation-fill-mode"]=!1,e2["animation-iteration-count"]=!1,e2["animation-name"]=!1,e2["animation-play-state"]=!1,e2["animation-timing-function"]=!1,e2.azimuth=!1,e2["backface-visibility"]=!1,e2.background=!0,e2["background-attachment"]=!0,e2["background-clip"]=!0,e2["background-color"]=!0,e2["background-image"]=!0,e2["background-origin"]=!0,e2["background-position"]=!0,e2["background-repeat"]=!0,e2["background-size"]=!0,e2["baseline-shift"]=!1,e2.binding=!1,e2.bleed=!1,e2["bookmark-label"]=!1,e2["bookmark-level"]=!1,e2["bookmark-state"]=!1,e2.border=!0,e2["border-bottom"]=!0,e2["border-bottom-color"]=!0,e2["border-bottom-left-radius"]=!0,e2["border-bottom-right-radius"]=!0,e2["border-bottom-style"]=!0,e2["border-bottom-width"]=!0,e2["border-collapse"]=!0,e2["border-color"]=!0,e2["border-image"]=!0,e2["border-image-outset"]=!0,e2["border-image-repeat"]=!0,e2["border-image-slice"]=!0,e2["border-image-source"]=!0,e2["border-image-width"]=!0,e2["border-left"]=!0,e2["border-left-color"]=!0,e2["border-left-style"]=!0,e2["border-left-width"]=!0,e2["border-radius"]=!0,e2["border-right"]=!0,e2["border-right-color"]=!0,e2["border-right-style"]=!0,e2["border-right-width"]=!0,e2["border-spacing"]=!0,e2["border-style"]=!0,e2["border-top"]=!0,e2["border-top-color"]=!0,e2["border-top-left-radius"]=!0,e2["border-top-right-radius"]=!0,e2["border-top-style"]=!0,e2["border-top-width"]=!0,e2["border-width"]=!0,e2.bottom=!1,e2["box-decoration-break"]=!0,e2["box-shadow"]=!0,e2["box-sizing"]=!0,e2["box-snap"]=!0,e2["box-suppress"]=!0,e2["break-after"]=!0,e2["break-before"]=!0,e2["break-inside"]=!0,e2["caption-side"]=!1,e2.chains=!1,e2.clear=!0,e2.clip=!1,e2["clip-path"]=!1,e2["clip-rule"]=!1,e2.color=!0,e2["color-interpolation-filters"]=!0,e2["column-count"]=!1,e2["column-fill"]=!1,e2["column-gap"]=!1,e2["column-rule"]=!1,e2["column-rule-color"]=!1,e2["column-rule-style"]=!1,e2["column-rule-width"]=!1,e2["column-span"]=!1,e2["column-width"]=!1,e2.columns=!1,e2.contain=!1,e2.content=!1,e2["counter-increment"]=!1,e2["counter-reset"]=!1,e2["counter-set"]=!1,e2.crop=!1,e2.cue=!1,e2["cue-after"]=!1,e2["cue-before"]=!1,e2.cursor=!1,e2.direction=!1,e2.display=!0,e2["display-inside"]=!0,e2["display-list"]=!0,e2["display-outside"]=!0,e2["dominant-baseline"]=!1,e2.elevation=!1,e2["empty-cells"]=!1,e2.filter=!1,e2.flex=!1,e2["flex-basis"]=!1,e2["flex-direction"]=!1,e2["flex-flow"]=!1,e2["flex-grow"]=!1,e2["flex-shrink"]=!1,e2["flex-wrap"]=!1,e2.float=!1,e2["float-offset"]=!1,e2["flood-color"]=!1,e2["flood-opacity"]=!1,e2["flow-from"]=!1,e2["flow-into"]=!1,e2.font=!0,e2["font-family"]=!0,e2["font-feature-settings"]=!0,e2["font-kerning"]=!0,e2["font-language-override"]=!0,e2["font-size"]=!0,e2["font-size-adjust"]=!0,e2["font-stretch"]=!0,e2["font-style"]=!0,e2["font-synthesis"]=!0,e2["font-variant"]=!0,e2["font-variant-alternates"]=!0,e2["font-variant-caps"]=!0,e2["font-variant-east-asian"]=!0,e2["font-variant-ligatures"]=!0,e2["font-variant-numeric"]=!0,e2["font-variant-position"]=!0,e2["font-weight"]=!0,e2.grid=!1,e2["grid-area"]=!1,e2["grid-auto-columns"]=!1,e2["grid-auto-flow"]=!1,e2["grid-auto-rows"]=!1,e2["grid-column"]=!1,e2["grid-column-end"]=!1,e2["grid-column-start"]=!1,e2["grid-row"]=!1,e2["grid-row-end"]=!1,e2["grid-row-start"]=!1,e2["grid-template"]=!1,e2["grid-template-areas"]=!1,e2["grid-template-columns"]=!1,e2["grid-template-rows"]=!1,e2["hanging-punctuation"]=!1,e2.height=!0,e2.hyphens=!1,e2.icon=!1,e2["image-orientation"]=!1,e2["image-resolution"]=!1,e2["ime-mode"]=!1,e2["initial-letters"]=!1,e2["inline-box-align"]=!1,e2["justify-content"]=!1,e2["justify-items"]=!1,e2["justify-self"]=!1,e2.left=!1,e2["letter-spacing"]=!0,e2["lighting-color"]=!0,e2["line-box-contain"]=!1,e2["line-break"]=!1,e2["line-grid"]=!1,e2["line-height"]=!1,e2["line-snap"]=!1,e2["line-stacking"]=!1,e2["line-stacking-ruby"]=!1,e2["line-stacking-shift"]=!1,e2["line-stacking-strategy"]=!1,e2["list-style"]=!0,e2["list-style-image"]=!0,e2["list-style-position"]=!0,e2["list-style-type"]=!0,e2.margin=!0,e2["margin-bottom"]=!0,e2["margin-left"]=!0,e2["margin-right"]=!0,e2["margin-top"]=!0,e2["marker-offset"]=!1,e2["marker-side"]=!1,e2.marks=!1,e2.mask=!1,e2["mask-box"]=!1,e2["mask-box-outset"]=!1,e2["mask-box-repeat"]=!1,e2["mask-box-slice"]=!1,e2["mask-box-source"]=!1,e2["mask-box-width"]=!1,e2["mask-clip"]=!1,e2["mask-image"]=!1,e2["mask-origin"]=!1,e2["mask-position"]=!1,e2["mask-repeat"]=!1,e2["mask-size"]=!1,e2["mask-source-type"]=!1,e2["mask-type"]=!1,e2["max-height"]=!0,e2["max-lines"]=!1,e2["max-width"]=!0,e2["min-height"]=!0,e2["min-width"]=!0,e2["move-to"]=!1,e2["nav-down"]=!1,e2["nav-index"]=!1,e2["nav-left"]=!1,e2["nav-right"]=!1,e2["nav-up"]=!1,e2["object-fit"]=!1,e2["object-position"]=!1,e2.opacity=!1,e2.order=!1,e2.orphans=!1,e2.outline=!1,e2["outline-color"]=!1,e2["outline-offset"]=!1,e2["outline-style"]=!1,e2["outline-width"]=!1,e2.overflow=!1,e2["overflow-wrap"]=!1,e2["overflow-x"]=!1,e2["overflow-y"]=!1,e2.padding=!0,e2["padding-bottom"]=!0,e2["padding-left"]=!0,e2["padding-right"]=!0,e2["padding-top"]=!0,e2.page=!1,e2["page-break-after"]=!1,e2["page-break-before"]=!1,e2["page-break-inside"]=!1,e2["page-policy"]=!1,e2.pause=!1,e2["pause-after"]=!1,e2["pause-before"]=!1,e2.perspective=!1,e2["perspective-origin"]=!1,e2.pitch=!1,e2["pitch-range"]=!1,e2["play-during"]=!1,e2.position=!1,e2["presentation-level"]=!1,e2.quotes=!1,e2["region-fragment"]=!1,e2.resize=!1,e2.rest=!1,e2["rest-after"]=!1,e2["rest-before"]=!1,e2.richness=!1,e2.right=!1,e2.rotation=!1,e2["rotation-point"]=!1,e2["ruby-align"]=!1,e2["ruby-merge"]=!1,e2["ruby-position"]=!1,e2["shape-image-threshold"]=!1,e2["shape-outside"]=!1,e2["shape-margin"]=!1,e2.size=!1,e2.speak=!1,e2["speak-as"]=!1,e2["speak-header"]=!1,e2["speak-numeral"]=!1,e2["speak-punctuation"]=!1,e2["speech-rate"]=!1,e2.stress=!1,e2["string-set"]=!1,e2["tab-size"]=!1,e2["table-layout"]=!1,e2["text-align"]=!0,e2["text-align-last"]=!0,e2["text-combine-upright"]=!0,e2["text-decoration"]=!0,e2["text-decoration-color"]=!0,e2["text-decoration-line"]=!0,e2["text-decoration-skip"]=!0,e2["text-decoration-style"]=!0,e2["text-emphasis"]=!0,e2["text-emphasis-color"]=!0,e2["text-emphasis-position"]=!0,e2["text-emphasis-style"]=!0,e2["text-height"]=!0,e2["text-indent"]=!0,e2["text-justify"]=!0,e2["text-orientation"]=!0,e2["text-overflow"]=!0,e2["text-shadow"]=!0,e2["text-space-collapse"]=!0,e2["text-transform"]=!0,e2["text-underline-position"]=!0,e2["text-wrap"]=!0,e2.top=!1,e2.transform=!1,e2["transform-origin"]=!1,e2["transform-style"]=!1,e2.transition=!1,e2["transition-delay"]=!1,e2["transition-duration"]=!1,e2["transition-property"]=!1,e2["transition-timing-function"]=!1,e2["unicode-bidi"]=!1,e2["vertical-align"]=!1,e2.visibility=!1,e2["voice-balance"]=!1,e2["voice-duration"]=!1,e2["voice-family"]=!1,e2["voice-pitch"]=!1,e2["voice-range"]=!1,e2["voice-rate"]=!1,e2["voice-stress"]=!1,e2["voice-volume"]=!1,e2.volume=!1,e2["white-space"]=!1,e2.widows=!1,e2.width=!0,e2["will-change"]=!1,e2["word-break"]=!0,e2["word-spacing"]=!0,e2["word-wrap"]=!0,e2["wrap-flow"]=!1,e2["wrap-through"]=!1,e2["writing-mode"]=!1,e2["z-index"]=!1,e2}function n2(e2,v2,u2){}function i(e2,v2,u2){}var s2=/javascript\s*\:/img;function g2(e2,v2){return s2.test(v2)?"":v2}return N.whiteList=t2(),N.getDefaultWhiteList=t2,N.onAttr=n2,N.onIgnoreAttr=i,N.safeAttrValue=g2,N}var j,ne;function he(){return ne||(ne=1,j={indexOf:function(t2,n2){var i,s2;if(Array.prototype.indexOf)return t2.indexOf(n2);for(i=0,s2=t2.length;i<s2;i++)if(t2[i]===n2)return i;return-1},forEach:function(t2,n2,i){var s2,g2;if(Array.prototype.forEach)return t2.forEach(n2,i);for(s2=0,g2=t2.length;s2<g2;s2++)n2.call(i,t2[s2],s2,t2)},trim:function(t2){return String.prototype.trim?t2.trim():t2.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t2){return String.prototype.trimRight?t2.trimRight():t2.replace(/(\s*$)/g,"")}}),j}var Z,se;function Ee(){if(se)return Z;se=1;var t2=he();function n2(i,s2){i=t2.trimRight(i),i[i.length-1]!==";"&&(i+=";");var g2=i.length,e2=!1,v2=0,u2=0,T2="";function k2(){if(!e2){var f2=t2.trim(i.slice(v2,u2)),a2=f2.indexOf(":");if(a2!==-1){var y2=t2.trim(f2.slice(0,a2)),x2=t2.trim(f2.slice(a2+1));if(y2){var c2=s2(v2,T2.length,y2,x2,f2);c2&&(T2+=c2+"; ")}}}v2=u2+1}for(;u2<g2;u2++){var S2=i[u2];if(S2==="/"&&i[u2+1]==="*"){var r2=i.indexOf("*/",u2+2);if(r2===-1)break;u2=r2+1,v2=u2+1,e2=!1}else S2==="("?e2=!0:S2===")"?e2=!1:S2===";"?e2||k2():S2===`
`&&k2()}return t2.trim(T2)}return Z=n2,Z}var J,oe;function Ce(){if(oe)return J;oe=1;var t2=ve(),n2=Ee();he();function i(e2){return e2==null}function s2(e2){var v2={};for(var u2 in e2)v2[u2]=e2[u2];return v2}function g2(e2){e2=s2(e2||{}),e2.whiteList=e2.whiteList||t2.whiteList,e2.onAttr=e2.onAttr||t2.onAttr,e2.onIgnoreAttr=e2.onIgnoreAttr||t2.onIgnoreAttr,e2.safeAttrValue=e2.safeAttrValue||t2.safeAttrValue,this.options=e2}return g2.prototype.process=function(e2){if(e2=e2||"",e2=e2.toString(),!e2)return"";var v2=this,u2=v2.options,T2=u2.whiteList,k2=u2.onAttr,S2=u2.onIgnoreAttr,r2=u2.safeAttrValue,f2=n2(e2,function(a2,y2,x2,c2,I2){var p2=T2[x2],d2=!1;if(p2===!0?d2=p2:typeof p2=="function"?d2=p2(c2):p2 instanceof RegExp&&(d2=p2.test(c2)),d2!==!0&&(d2=!1),c2=r2(x2,c2),!!c2){var C2={position:y2,sourcePosition:a2,source:I2,isWhite:d2};if(d2){var b2=k2(x2,c2,C2);return i(b2)?x2+":"+c2:b2}else{var b2=S2(x2,c2,C2);if(!i(b2))return b2}}});return f2},J=g2,J}var le;function ee(){return le||(le=1,function(t2,n2){var i=ve(),s2=Ce();function g2(v2,u2){var T2=new s2(u2);return T2.process(v2)}n2=t2.exports=g2,n2.FilterCSS=s2;for(var e2 in i)n2[e2]=i[e2];typeof window<"u"&&(window.filterCSS=t2.exports)}(M,M.exports)),M.exports}var K,fe;function re(){return fe||(fe=1,K={indexOf:function(t2,n2){var i,s2;if(Array.prototype.indexOf)return t2.indexOf(n2);for(i=0,s2=t2.length;i<s2;i++)if(t2[i]===n2)return i;return-1},forEach:function(t2,n2,i){var s2,g2;if(Array.prototype.forEach)return t2.forEach(n2,i);for(s2=0,g2=t2.length;s2<g2;s2++)n2.call(i,t2[s2],s2,t2)},trim:function(t2){return String.prototype.trim?t2.trim():t2.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t2){var n2=/\s|\n|\t/,i=n2.exec(t2);return i?i.index:-1}}),K}var ue;function me(){if(ue)return w;ue=1;var t2=ee().FilterCSS,n2=ee().getDefaultWhiteList,i=re();function s2(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var g2=new t2;function e2(o2,m2,l2){}function v2(o2,m2,l2){}function u2(o2,m2,l2){}function T2(o2,m2,l2){}function k2(o2){return o2.replace(r2,"&lt;").replace(f2,"&gt;")}function S2(o2,m2,l2,h2){if(l2=$2(l2),m2==="href"||m2==="src"){if(l2=i.trim(l2),l2==="#")return"#";if(!(l2.substr(0,7)==="http://"||l2.substr(0,8)==="https://"||l2.substr(0,7)==="mailto:"||l2.substr(0,4)==="tel:"||l2.substr(0,11)==="data:image/"||l2.substr(0,6)==="ftp://"||l2.substr(0,2)==="./"||l2.substr(0,3)==="../"||l2[0]==="#"||l2[0]==="/"))return""}else if(m2==="background"){if(p2.lastIndex=0,p2.test(l2))return""}else if(m2==="style"){if(d2.lastIndex=0,d2.test(l2)||(C2.lastIndex=0,C2.test(l2)&&(p2.lastIndex=0,p2.test(l2))))return"";h2!==!1&&(h2=h2||g2,l2=h2.process(l2))}return l2=R2(l2),l2}var r2=/</g,f2=/>/g,a2=/"/g,y2=/&quot;/g,x2=/&#([a-zA-Z0-9]*);?/gim,c2=/&colon;?/gim,I2=/&newline;?/gim,p2=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,d2=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,C2=/u\s*r\s*l\s*\(.*/gi;function b2(o2){return o2.replace(a2,"&quot;")}function A2(o2){return o2.replace(y2,'"')}function E2(o2){return o2.replace(x2,function(l2,h2){return h2[0]==="x"||h2[0]==="X"?String.fromCharCode(parseInt(h2.substr(1),16)):String.fromCharCode(parseInt(h2,10))})}function L2(o2){return o2.replace(c2,":").replace(I2," ")}function F2(o2){for(var m2="",l2=0,h2=o2.length;l2<h2;l2++)m2+=o2.charCodeAt(l2)<32?" ":o2.charAt(l2);return i.trim(m2)}function $2(o2){return o2=A2(o2),o2=E2(o2),o2=L2(o2),o2=F2(o2),o2}function R2(o2){return o2=b2(o2),o2=k2(o2),o2}function P2(){return""}function H2(o2,m2){typeof m2!="function"&&(m2=function(){});var l2=!Array.isArray(o2);function h2(_2){return l2?!0:i.indexOf(o2,_2)!==-1}var O2=[],W2=!1;return{onIgnoreTag:function(_2,V2,q){if(h2(_2))if(q.isClosing){var G2="[/removed]",we2=q.position+G2.length;return O2.push([W2!==!1?W2:q.position,we2]),W2=!1,G2}else return W2||(W2=q.position),"[removed]";else return m2(_2,V2,q)},remove:function(_2){var V2="",q=0;return i.forEach(O2,function(G2){V2+=_2.slice(q,G2[0]),q=G2[1]}),V2+=_2.slice(q),V2}}}function X2(o2){for(var m2="",l2=0;l2<o2.length;){var h2=o2.indexOf("<!--",l2);if(h2===-1){m2+=o2.slice(l2);break}m2+=o2.slice(l2,h2);var O2=o2.indexOf("-->",h2);if(O2===-1)break;l2=O2+3}return m2}function D2(o2){var m2=o2.split("");return m2=m2.filter(function(l2){var h2=l2.charCodeAt(0);return h2===127?!1:h2<=31?h2===10||h2===13:!0}),m2.join("")}return w.whiteList=s2(),w.getDefaultWhiteList=s2,w.onTag=e2,w.onIgnoreTag=v2,w.onTagAttr=u2,w.onIgnoreTagAttr=T2,w.safeAttrValue=S2,w.escapeHtml=k2,w.escapeQuote=b2,w.unescapeQuote=A2,w.escapeHtmlEntities=E2,w.escapeDangerHtml5Entities=L2,w.clearNonPrintableCharacter=F2,w.friendlyAttrValue=$2,w.escapeAttrValue=R2,w.onIgnoreTagStripAll=P2,w.StripTagBody=H2,w.stripCommentTag=X2,w.stripBlankChar=D2,w.attributeWrapSign='"',w.cssFilter=g2,w.getDefaultCSSWhiteList=n2,w}var B={},ce;function be(){if(ce)return B;ce=1;var t2=re();function n2(r2){var f2=t2.spaceIndex(r2),a2;return f2===-1?a2=r2.slice(1,-1):a2=r2.slice(1,f2+1),a2=t2.trim(a2).toLowerCase(),a2.slice(0,1)==="/"&&(a2=a2.slice(1)),a2.slice(-1)==="/"&&(a2=a2.slice(0,-1)),a2}function i(r2){return r2.slice(0,2)==="</"}function s2(r2,f2,a2){var y2="",x2=0,c2=!1,I2=!1,p2=0,d2=r2.length,C2="",b2="";e:for(p2=0;p2<d2;p2++){var A2=r2.charAt(p2);if(c2===!1){if(A2==="<"){c2=p2;continue}}else if(I2===!1){if(A2==="<"){y2+=a2(r2.slice(x2,p2)),c2=p2,x2=p2;continue}if(A2===">"||p2===d2-1){y2+=a2(r2.slice(x2,c2)),b2=r2.slice(c2,p2+1),C2=n2(b2),y2+=f2(c2,y2.length,C2,b2,i(b2)),x2=p2+1,c2=!1;continue}if(A2==='"'||A2==="'")for(var E2=1,L2=r2.charAt(p2-E2);L2.trim()===""||L2==="=";){if(L2==="="){I2=A2;continue e}L2=r2.charAt(p2-++E2)}}else if(A2===I2){I2=!1;continue}}return x2<d2&&(y2+=a2(r2.substr(x2))),y2}var g2=/[^a-zA-Z0-9\\_:.-]/gim;function e2(r2,f2){var a2=0,y2=0,x2=[],c2=!1,I2=r2.length;function p2(E2,L2){if(E2=t2.trim(E2),E2=E2.replace(g2,"").toLowerCase(),!(E2.length<1)){var F2=f2(E2,L2||"");F2&&x2.push(F2)}}for(var d2=0;d2<I2;d2++){var C2=r2.charAt(d2),b2,A2;if(c2===!1&&C2==="="){c2=r2.slice(a2,d2),a2=d2+1,y2=r2.charAt(a2)==='"'||r2.charAt(a2)==="'"?a2:u2(r2,d2+1);continue}if(c2!==!1&&d2===y2){if(A2=r2.indexOf(C2,d2+1),A2===-1)break;b2=t2.trim(r2.slice(y2+1,A2)),p2(c2,b2),c2=!1,d2=A2,a2=d2+1;continue}if(/\s|\n|\t/.test(C2))if(r2=r2.replace(/\s|\n|\t/g," "),c2===!1)if(A2=v2(r2,d2),A2===-1){b2=t2.trim(r2.slice(a2,d2)),p2(b2),c2=!1,a2=d2+1;continue}else{d2=A2-1;continue}else if(A2=T2(r2,d2-1),A2===-1){b2=t2.trim(r2.slice(a2,d2)),b2=S2(b2),p2(c2,b2),c2=!1,a2=d2+1;continue}else continue}return a2<r2.length&&(c2===!1?p2(r2.slice(a2)):p2(c2,S2(t2.trim(r2.slice(a2))))),t2.trim(x2.join(" "))}function v2(r2,f2){for(;f2<r2.length;f2++){var a2=r2[f2];if(a2!==" ")return a2==="="?f2:-1}}function u2(r2,f2){for(;f2<r2.length;f2++){var a2=r2[f2];if(a2!==" ")return a2==="'"||a2==='"'?f2:-1}}function T2(r2,f2){for(;f2>0;f2--){var a2=r2[f2];if(a2!==" ")return a2==="="?f2:-1}}function k2(r2){return r2[0]==='"'&&r2[r2.length-1]==='"'||r2[0]==="'"&&r2[r2.length-1]==="'"}function S2(r2){return k2(r2)?r2.substr(1,r2.length-2):r2}return B.parseTag=s2,B.parseAttr=e2,B}var Y,ge;function Le(){if(ge)return Y;ge=1;var t2=ee().FilterCSS,n2=me(),i=be(),s2=i.parseTag,g2=i.parseAttr,e2=re();function v2(r2){return r2==null}function u2(r2){var f2=e2.spaceIndex(r2);if(f2===-1)return{html:"",closing:r2[r2.length-2]==="/"};r2=e2.trim(r2.slice(f2+1,-1));var a2=r2[r2.length-1]==="/";return a2&&(r2=e2.trim(r2.slice(0,-1))),{html:r2,closing:a2}}function T2(r2){var f2={};for(var a2 in r2)f2[a2]=r2[a2];return f2}function k2(r2){var f2={};for(var a2 in r2)Array.isArray(r2[a2])?f2[a2.toLowerCase()]=r2[a2].map(function(y2){return y2.toLowerCase()}):f2[a2.toLowerCase()]=r2[a2];return f2}function S2(r2){r2=T2(r2||{}),r2.stripIgnoreTag&&(r2.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),r2.onIgnoreTag=n2.onIgnoreTagStripAll),r2.whiteList||r2.allowList?r2.whiteList=k2(r2.whiteList||r2.allowList):r2.whiteList=n2.whiteList,this.attributeWrapSign=r2.singleQuotedAttributeValue===!0?"'":n2.attributeWrapSign,r2.onTag=r2.onTag||n2.onTag,r2.onTagAttr=r2.onTagAttr||n2.onTagAttr,r2.onIgnoreTag=r2.onIgnoreTag||n2.onIgnoreTag,r2.onIgnoreTagAttr=r2.onIgnoreTagAttr||n2.onIgnoreTagAttr,r2.safeAttrValue=r2.safeAttrValue||n2.safeAttrValue,r2.escapeHtml=r2.escapeHtml||n2.escapeHtml,this.options=r2,r2.css===!1?this.cssFilter=!1:(r2.css=r2.css||{},this.cssFilter=new t2(r2.css))}return S2.prototype.process=function(r2){if(r2=r2||"",r2=r2.toString(),!r2)return"";var f2=this,a2=f2.options,y2=a2.whiteList,x2=a2.onTag,c2=a2.onIgnoreTag,I2=a2.onTagAttr,p2=a2.onIgnoreTagAttr,d2=a2.safeAttrValue,C2=a2.escapeHtml,b2=f2.attributeWrapSign,A2=f2.cssFilter;a2.stripBlankChar&&(r2=n2.stripBlankChar(r2)),a2.allowCommentTag||(r2=n2.stripCommentTag(r2));var E2=!1;a2.stripIgnoreTagBody&&(E2=n2.StripTagBody(a2.stripIgnoreTagBody,c2),c2=E2.onIgnoreTag);var L2=s2(r2,function(F2,$2,R2,P2,H2){var X2={sourcePosition:F2,position:$2,isClosing:H2,isWhite:Object.prototype.hasOwnProperty.call(y2,R2)},D2=x2(R2,P2,X2);if(!v2(D2))return D2;if(X2.isWhite){if(X2.isClosing)return"</"+R2+">";var o2=u2(P2),m2=y2[R2],l2=g2(o2.html,function(h2,O2){var W2=e2.indexOf(m2,h2)!==-1,_2=I2(R2,h2,O2,W2);return v2(_2)?W2?(O2=d2(R2,h2,O2,A2),O2?h2+"="+b2+O2+b2:h2):(_2=p2(R2,h2,O2,W2),v2(_2)?void 0:_2):_2});return P2="<"+R2,l2&&(P2+=" "+l2),o2.closing&&(P2+=" /"),P2+=">",P2}else return D2=c2(R2,P2,X2),v2(D2)?C2(P2):D2},C2);return E2&&(L2=E2.remove(L2)),L2},Y=S2,Y}var de;function _e(){return de||(de=1,function(t2,n2){var i=me(),s2=be(),g2=Le();function e2(u2,T2){var k2=new g2(T2);return k2.process(u2)}n2=t2.exports=e2,n2.filterXSS=e2,n2.FilterXSS=g2,function(){for(var u2 in i)n2[u2]=i[u2];for(var T2 in s2)n2[T2]=s2[T2]}(),typeof window<"u"&&(window.filterXSS=t2.exports);function v2(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}v2()&&(self.filterXSS=t2.exports)}(z,z.exports)),z.exports}_e();export{ContextTracker as C,ExternalTokenizer as E,IterMode as I,LRLanguage as L,NodeWeakMap as N,__vitePreload as _,LanguageSupport as a,be$1 as b,continuedIndent as c,LRParser as d,ifNotIn as e,foldNodeProp as f,completeFromList as g,syntaxTree as h,indentNodeProp as i,flatIndent as j,delimitedIndent as k,foldInside as l,LocalTokenGroup as m,snippetCompletion as n,EditorView as o,EditorSelection as p,html as q,parseMixed as r,styleTags as s,tags$1 as t,defineCSSCompletionSource as u,bracketMatchingHandle as v,javascriptLanguage as w};
