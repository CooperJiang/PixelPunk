import{j as useTexts,_ as _export_sfc,K as getCurrentLocale,q as useToast,aR as __unplugin_components_0}from"./index-ac67a30c.js";import{d as defineComponent,a as reactive,r as ref,c as computed,b as onMounted,E as resolveComponent,z as openBlock,I as createElementBlock,a0 as createBaseVNode,ab as createTextVNode,a1 as toDisplayString,u as unref,f as createVNode,L as withCtx,h,R as normalizeClass,H as withDirectives,$ as vShow,A as createBlock,K as createCommentVNode,a3 as useRouter,aa as withKeys,F as Fragment,M as renderList,Q as normalizeStyle}from"./vue-vendor-31320f47.js";import{h as adminGetShareAccessToken,i as adminGetShareList,j as adminUpdateShareStatus,k as adminDeleteShare,l as adminGetVisitorList,m as adminDeleteVisitor,n as getShareStats}from"./index-a15a3764.js";import"./editor-markdown-0b2e1ce5.js";import"./axios-c2a59b9f.js";import"./spark-md5-d0a97131.js";import"./highlight-common-d6c232ae.js";import"./comlink-c7be92b7.js";/* empty css                 */import"./vueuse-2480d07f.js";import"./marked-e9418aa8.js";import"./dompurify-76a35038.js";import"./vue-table-79795ca5.js";const _hoisted_1$4={class:"share-filter-panel mb-4 rounded-xl border border-subtle bg-background-600 p-3"},_hoisted_2$3={class:"mb-3 flex items-center justify-between"},_hoisted_3$3={class:"text-base font-bold text-content-heading"},_hoisted_4$3={class:"flex space-x-1.5"},_hoisted_5$3={class:"grid grid-cols-1 gap-x-3 gap-y-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},_hoisted_6$3={class:"filter-item"},_hoisted_7$3={class:"mb-0.5 block text-xs text-content"},_hoisted_8$3={class:"filter-item"},_hoisted_9$3={class:"mb-0.5 block text-xs text-content"},_hoisted_10$3={class:"filter-item"},_hoisted_11$3={class:"mb-0.5 block text-xs text-content"},_hoisted_12$3={class:"filter-item"},_hoisted_13$3={class:"mb-0.5 block text-xs text-content"},_hoisted_14$3={class:"filter-item"},_hoisted_15$3={class:"mb-0.5 block text-xs text-content"},_sfc_main$4=defineComponent({__name:"ShareFilterPanel",props:{initialFilters:{}},emits:["filter"],setup(__props,{emit:__emit}){const{$t}=useTexts(),props=__props,emit=__emit,filters=reactive({keyword:"",status:void 0,start_date:"",end_date:"",page:1,size:10,order_by:"created_at DESC"}),startDate=ref(null),endDate=ref(null),statusOptions=computed(()=>[{label:$t("admin.shares.filter.statusOptions.all"),value:void 0},{label:$t("admin.shares.filter.statusOptions.normal"),value:1},{label:$t("admin.shares.filter.statusOptions.expired"),value:2},{label:$t("admin.shares.filter.statusOptions.deleted"),value:3},{label:$t("admin.shares.filter.statusOptions.disabled"),value:4}]),pageSizeOptions=[{label:"10",value:"10"},{label:"20",value:"20"},{label:"50",value:"50"},{label:"100",value:"100"}],pageSizeStr=computed({get:()=>filters.size?.toString()||"10",set:val=>{filters.size=parseInt(val)}}),handleDateChange=()=>{startDate.value?filters.start_date=startDate.value.toISOString():filters.start_date="",endDate.value?filters.end_date=endDate.value.toISOString():filters.end_date=""},applyFilters=()=>{filters.page=1,emit("filter",{...filters})},resetFilters=()=>{Object.assign(filters,{keyword:"",status:void 0,start_date:"",end_date:"",page:1,size:10,order_by:"created_at DESC"}),startDate.value=null,endDate.value=null,applyFilters()};return onMounted(()=>{props.initialFilters&&(Object.assign(filters,props.initialFilters),props.initialFilters.start_date&&(startDate.value=new Date(props.initialFilters.start_date)),props.initialFilters.end_date&&(endDate.value=new Date(props.initialFilters.end_date)))}),(_ctx,_cache)=>{const _component_CyberButton=resolveComponent("CyberButton"),_component_CyberInput=resolveComponent("CyberInput"),_component_CyberDropdown=resolveComponent("CyberDropdown"),_component_CyberDatePicker=resolveComponent("CyberDatePicker");return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("h3",_hoisted_3$3,[_cache[5]||(_cache[5]=createBaseVNode("i",{class:"fas fa-filter mr-1.5 text-content"},null,-1)),createTextVNode(toDisplayString(unref($t)("admin.shares.filter.title")),1)]),createBaseVNode("div",_hoisted_4$3,[createVNode(_component_CyberButton,{type:"secondary",class:"px-2 py-1 text-xs",onClick:resetFilters},{default:withCtx(()=>[_cache[6]||(_cache[6]=createBaseVNode("i",{class:"fas fa-undo-alt mr-1"},null,-1)),createTextVNode(toDisplayString(unref($t)("admin.shares.filter.buttons.reset")),1)]),_:1}),createVNode(_component_CyberButton,{type:"primary",class:"px-2 py-1 text-xs",onClick:applyFilters},{default:withCtx(()=>[_cache[7]||(_cache[7]=createBaseVNode("i",{class:"fas fa-search mr-1"},null,-1)),createTextVNode(toDisplayString(unref($t)("admin.shares.filter.buttons.apply")),1)]),_:1})])]),createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,[createBaseVNode("label",_hoisted_7$3,toDisplayString(unref($t)("admin.shares.filter.fields.keyword")),1),createVNode(_component_CyberInput,{modelValue:filters.keyword,"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>filters.keyword=$event),placeholder:unref($t)("admin.shares.filter.fields.keywordPlaceholder"),class:"compact"},null,8,["modelValue","placeholder"])]),createBaseVNode("div",_hoisted_8$3,[createBaseVNode("label",_hoisted_9$3,toDisplayString(unref($t)("admin.shares.filter.fields.status")),1),createVNode(_component_CyberDropdown,{modelValue:filters.status,"onUpdate:modelValue":_cache[1]||(_cache[1]=$event=>filters.status=$event),options:statusOptions.value,placeholder:unref($t)("admin.shares.filter.fields.statusPlaceholder"),class:"compact",clearable:""},null,8,["modelValue","options","placeholder"])]),createBaseVNode("div",_hoisted_10$3,[createBaseVNode("label",_hoisted_11$3,toDisplayString(unref($t)("admin.shares.filter.fields.startDate")),1),createVNode(_component_CyberDatePicker,{modelValue:startDate.value,"onUpdate:modelValue":_cache[2]||(_cache[2]=$event=>startDate.value=$event),type:"date",placeholder:unref($t)("admin.shares.filter.fields.startDatePlaceholder"),class:"compact",onChange:handleDateChange},null,8,["modelValue","placeholder"])]),createBaseVNode("div",_hoisted_12$3,[createBaseVNode("label",_hoisted_13$3,toDisplayString(unref($t)("admin.shares.filter.fields.endDate")),1),createVNode(_component_CyberDatePicker,{modelValue:endDate.value,"onUpdate:modelValue":_cache[3]||(_cache[3]=$event=>endDate.value=$event),type:"date",placeholder:unref($t)("admin.shares.filter.fields.endDatePlaceholder"),class:"compact",onChange:handleDateChange},null,8,["modelValue","placeholder"])]),createBaseVNode("div",_hoisted_14$3,[createBaseVNode("label",_hoisted_15$3,toDisplayString(unref($t)("admin.shares.filter.fields.pageSize")),1),createVNode(_component_CyberDropdown,{modelValue:pageSizeStr.value,"onUpdate:modelValue":_cache[4]||(_cache[4]=$event=>pageSizeStr.value=$event),options:pageSizeOptions,placeholder:unref($t)("admin.shares.filter.fields.pageSizePlaceholder"),class:"compact",clearable:""},null,8,["modelValue","placeholder"])])])])}}});const ShareFilterPanel=_export_sfc(_sfc_main$4,[["__scopeId","data-v-d55df1f4"]]),_hoisted_1$3={class:"share-list-component"},_hoisted_2$2={class:"action-bar"},_hoisted_3$2={class:"action-buttons"},_hoisted_4$2={key:0,class:"admin-loading"},_hoisted_5$2={key:1,class:"empty-state"},_hoisted_6$2={class:"empty-content animate-slide-up"},_hoisted_7$2={class:"empty-title"},_hoisted_8$2={class:"empty-desc"},_hoisted_9$2={key:2,class:"table-container"},_hoisted_10$2={class:"table-wrapper"},_hoisted_11$2={key:3,class:"pagination-container"},_hoisted_12$2={class:"status-dialog-content"},_hoisted_13$2={class:"highlight"},_hoisted_14$2={key:0,class:"form-item"},_hoisted_15$2={class:"dialog-footer"},_hoisted_16$2={class:"delete-dialog-content"},_hoisted_17$2={class:"highlight"},_hoisted_18$2={class:"form-item force-delete"},_hoisted_19$2={class:"dialog-footer p-4"},_sfc_main$3=defineComponent({__name:"ShareList",setup(__props){const toast=useToast(),{$t}=useTexts(),showFilter=ref(!1),currentFilters=reactive({page:1,size:10,status:void 0,keyword:"",start_date:"",end_date:"",order_by:"created_at DESC"}),hasActiveFilters=computed(()=>!!(currentFilters.status!==void 0||currentFilters.keyword||currentFilters.start_date||currentFilters.end_date)),handleFilter=()=>{showFilter.value=!showFilter.value},applyFilter=filters=>{Object.assign(currentFilters,filters),Object.assign(searchParams,filters),loadShareList(),showFilter.value=!1},resetFilters=()=>{Object.assign(currentFilters,{page:1,size:10,status:void 0,keyword:"",start_date:"",end_date:"",order_by:"created_at DESC"}),Object.assign(searchParams,currentFilters),loadShareList()},tableColumns=computed(()=>[{key:"name",dataIndex:"name",title:$t("admin.shares.shareList.columns.name"),width:150,ellipsis:!0,align:"center",render:(value,record)=>h("div",{class:"share-name",title:record.name},record.name)},{key:"share_key",dataIndex:"share_key",title:$t("admin.shares.shareList.columns.shareKey"),width:200,ellipsis:!0,align:"center",render:(value,record)=>h("div",{class:"share-key",title:record.share_key},[h("span",{class:"key-text"},record.share_key),h("button",{class:"inline-flex items-center justify-center w-6 h-6 ml-2 text-xs bg-cyan-500/20 hover:bg-cyan-500/30 border border-cyan-500/30 text-cyan-400 rounded transition-all duration-200",title:$t("admin.shares.shareList.actions.copyLink"),onClick:e=>{e.stopPropagation(),copyShareUrl(record)}},[h("i",{class:"fas fa-copy"})])])},{key:"expired_at",dataIndex:"expired_at",title:$t("admin.shares.shareList.columns.expiredAt"),width:140,align:"center",render:value=>formatDate(value)},{key:"views",dataIndex:"current_views",title:$t("admin.shares.shareList.columns.views"),width:110,align:"center",render:(value,record)=>`${record.current_views} / ${record.max_views||$t("admin.shares.shareList.format.infiniteViews")}`},{key:"created_at",dataIndex:"created_at",title:$t("admin.shares.shareList.columns.createdAt"),width:140,align:"center",render:value=>formatDate(value)},{key:"status",dataIndex:"status",title:$t("admin.shares.shareList.columns.status"),width:80,align:"center",render:(value,record)=>h("div",{class:["status-tag",getStatusClass(record.status)]},getStatusText(record.status))},{key:"actions",title:$t("admin.shares.shareList.columns.actions"),width:180,align:"center",render:(_value,record)=>h("div",{class:"action-buttons flex gap-1 justify-center items-center"},[h("button",{class:"inline-flex items-center justify-center w-7 h-7 text-xs bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-400 rounded transition-all duration-200",title:$t("admin.shares.shareList.actions.viewContent"),onClick:e=>{e.stopPropagation(),viewShareContent(record)}},[h("i",{class:"fas fa-eye"})]),...record.status===1?[h("button",{class:"inline-flex items-center justify-center w-7 h-7 text-xs bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/30 text-yellow-400 rounded transition-all duration-200",title:$t("admin.shares.shareList.actions.disable"),onClick:e=>{e.stopPropagation(),updateStatus(record.id,4)}},[h("i",{class:"fas fa-ban"})])]:[],...record.status===4?[h("button",{class:"inline-flex items-center justify-center w-7 h-7 text-xs bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 text-green-400 rounded transition-all duration-200",title:$t("admin.shares.shareList.actions.enable"),onClick:e=>{e.stopPropagation(),updateStatus(record.id,1)}},[h("i",{class:"fas fa-check"})])]:[],h("button",{class:"inline-flex items-center justify-center w-7 h-7 text-xs bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 rounded transition-all duration-200",title:$t("admin.shares.shareList.actions.delete"),onClick:e=>{e.stopPropagation(),confirmDelete(record)}},[h("i",{class:"fas fa-trash"})])])}]),searchParams=reactive({page:1,size:10,status:void 0,keyword:"",start_date:"",end_date:"",order_by:"created_at DESC"}),totalItems=ref(0),shareList=ref([]),loading=ref(!1),statusDialog=reactive({visible:!1,shareId:"",status:1,reason:"",title:$t("admin.shares.statusDialog.titleUpdate"),loading:!1}),deleteDialog=reactive({visible:!1,shareId:"",shareName:"",force:!1,loading:!1}),loadShareList=async()=>{try{loading.value=!0;const queryParams={page:searchParams.page,size:searchParams.size,order_by:searchParams.order_by};searchParams.status!==void 0&&(queryParams.status=searchParams.status),searchParams.keyword&&(queryParams.keyword=searchParams.keyword),searchParams.start_date&&(queryParams.start_date=searchParams.start_date),searchParams.end_date&&(queryParams.end_date=searchParams.end_date);const result=await adminGetShareList(queryParams);result.success&&result.data&&(shareList.value=result.data.list||[],totalItems.value=result.data.total||0)}catch(error){toast.error(error?.message||$t("admin.shares.shareList.messages.fetchFailed"))}finally{loading.value=!1}},refreshData=()=>{loadShareList()},handlePageChange=page=>{searchParams.page=page,loadShareList()},handlePageSizeChange=size=>{searchParams.size=size,searchParams.page=1,loadShareList()},viewShareContent=async share=>{try{loading.value=!0;const result=await adminGetShareAccessToken(share.id);let shareUrl=`${window.location.origin}/share/${share.share_key}`;if(result.success&&result.data&&result.data.access_token){const accessToken=result.data.access_token;shareUrl+=`?access_token=${accessToken}`}window.open(shareUrl,"_blank")}catch{const shareUrl=`${window.location.origin}/share/${share.share_key}`;window.open(shareUrl,"_blank"),toast.warning($t("admin.shares.shareList.messages.getAccessFailed"))}finally{loading.value=!1}},updateStatus=(id,status)=>{statusDialog.shareId=id,statusDialog.status=status,statusDialog.reason="",statusDialog.title=$t(status===1?"admin.shares.shareList.statusDialog.titleEnable":"admin.shares.shareList.statusDialog.titleUpdate"),statusDialog.visible=!0},confirmUpdateStatus=async()=>{try{statusDialog.loading=!0;const params={status:statusDialog.status,...statusDialog.reason?{reason:statusDialog.reason}:{}};await adminUpdateShareStatus(statusDialog.shareId,params),toast.success($t("admin.shares.shareList.messages.updateStatusSuccess")),statusDialog.visible=!1,loadShareList()}catch(error){toast.error(error?.message||$t("admin.shares.shareList.messages.updateStatusFailed"))}finally{statusDialog.loading=!1}},confirmDelete=share=>{deleteDialog.shareId=share.id,deleteDialog.shareName=share.name,deleteDialog.force=!1,deleteDialog.visible=!0},confirmDeleteShare=async()=>{try{deleteDialog.loading=!0,await adminDeleteShare(deleteDialog.shareId,deleteDialog.force),toast.success($t("admin.shares.shareList.messages.deleteSuccess")),deleteDialog.visible=!1,loadShareList()}catch(error){toast.error(error?.message||$t("admin.shares.shareList.messages.deleteFailed"))}finally{deleteDialog.loading=!1}},copyShareUrl=async share=>{try{const result=await adminGetShareAccessToken(share.id);let shareUrl=`${window.location.origin}/share/${share.share_key}`;result.success&&result.data&&result.data.access_token&&(shareUrl+=`?access_token=${result.data.access_token}`),navigator.clipboard.writeText(shareUrl).then(()=>{toast.success($t("admin.shares.shareList.messages.copySuccess"))}).catch(()=>{toast.error($t("admin.shares.shareList.messages.copyFailed"))})}catch{const shareUrl=`${window.location.origin}/share/${share.share_key}`;navigator.clipboard.writeText(shareUrl).then(()=>{toast.success($t("admin.shares.shareList.messages.copySuccessNormal"))}).catch(()=>{toast.error($t("admin.shares.shareList.messages.copyFailed"))})}},formatDate=dateString=>dateString?new Date(dateString).toLocaleString(getCurrentLocale(),{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):$t("admin.shares.shareList.format.unlimited"),getStatusText=status=>{switch(status){case 1:return $t("admin.shares.shareList.status.normal");case 2:return $t("admin.shares.shareList.status.expired");case 3:return $t("admin.shares.shareList.status.deleted");case 4:return $t("admin.shares.shareList.status.disabled");default:return $t("admin.shares.shareList.status.unknown")}},getStatusClass=status=>{switch(status){case 1:return"status-normal";case 2:return"status-expired";case 3:return"status-deleted";case 4:return"status-disabled";default:return""}},handleRowClick=(_row,_index)=>{};return onMounted(()=>{loadShareList()}),(_ctx,_cache)=>{const _component_CyberIconButton=resolveComponent("CyberIconButton"),_component_CyberLoading=resolveComponent("CyberLoading"),_component_CyberButton=resolveComponent("CyberButton"),_component_CyberDataTable=resolveComponent("CyberDataTable"),_component_CyberPagination=resolveComponent("CyberPagination"),_component_CyberInput=resolveComponent("CyberInput"),_component_CyberDialog=resolveComponent("CyberDialog"),_component_CyberCheckbox=resolveComponent("CyberCheckbox");return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createVNode(_component_CyberIconButton,{type:"primary",size:"small",title:unref($t)("admin.shares.shareList.buttons.refresh"),onClick:refreshData},{default:withCtx(()=>[..._cache[7]||(_cache[7]=[createBaseVNode("i",{class:"fas fa-sync-alt"},null,-1)])]),_:1},8,["title"]),createVNode(_component_CyberIconButton,{type:"secondary",size:"small",title:unref($t)("admin.shares.shareList.buttons.filter"),class:normalizeClass({"filter-active":showFilter.value||hasActiveFilters.value}),onClick:handleFilter},{default:withCtx(()=>[..._cache[8]||(_cache[8]=[createBaseVNode("i",{class:"fas fa-filter"},null,-1)])]),_:1},8,["title","class"])])]),withDirectives(createVNode(ShareFilterPanel,{"initial-filters":currentFilters,onFilter:applyFilter},null,8,["initial-filters"]),[[vShow,showFilter.value]]),loading.value?(openBlock(),createElementBlock("div",_hoisted_4$2,[createVNode(_component_CyberLoading,{visible:!0,text:unref($t)("admin.shares.shareList.loading.text")},null,8,["text"])])):!loading.value&&shareList.value.length===0?(openBlock(),createElementBlock("div",_hoisted_5$2,[createBaseVNode("div",_hoisted_6$2,[_cache[10]||(_cache[10]=createBaseVNode("div",{class:"empty-icon-wrapper"},[createBaseVNode("i",{class:"fas fa-share-alt empty-icon"})],-1)),createBaseVNode("h3",_hoisted_7$2,toDisplayString(unref($t)("admin.shares.shareList.empty.title")),1),createBaseVNode("p",_hoisted_8$2,toDisplayString(unref($t)("admin.shares.shareList.empty.description")),1),hasActiveFilters.value?(openBlock(),createBlock(_component_CyberButton,{key:0,type:"secondary",onClick:resetFilters},{default:withCtx(()=>[_cache[9]||(_cache[9]=createBaseVNode("i",{class:"fas fa-redo mr-2"},null,-1)),createTextVNode(" "+toDisplayString(unref($t)("admin.shares.shareList.empty.resetButton")),1)]),_:1})):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,[createVNode(_component_CyberDataTable,{columns:tableColumns.value,data:shareList.value,loading:!1,hoverable:!0,striped:!0,bordered:!0,"row-key":"id",onRowClick:handleRowClick},null,8,["columns","data"])])])),!loading.value&&totalItems.value>0?(openBlock(),createElementBlock("div",_hoisted_11$2,[createVNode(_component_CyberPagination,{"current-page":searchParams.page,"onUpdate:currentPage":[_cache[0]||(_cache[0]=$event=>searchParams.page=$event),handlePageChange],total:totalItems.value,"page-size":searchParams.size,"show-page-size-selector":!0,"show-quick-jumper":!0,"onUpdate:pageSize":handlePageSizeChange},null,8,["current-page","total","page-size"])])):createCommentVNode("",!0),createVNode(_component_CyberDialog,{modelValue:statusDialog.visible,"onUpdate:modelValue":_cache[3]||(_cache[3]=$event=>statusDialog.visible=$event),title:statusDialog.title,width:"400px"},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_15$2,[createVNode(_component_CyberButton,{onClick:_cache[2]||(_cache[2]=$event=>statusDialog.visible=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.statusDialog.cancel")),1)]),_:1}),createVNode(_component_CyberButton,{type:"primary",loading:statusDialog.loading,onClick:confirmUpdateStatus},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.statusDialog.confirm")),1)]),_:1},8,["loading"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_12$2,[createBaseVNode("p",null,[createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.statusDialog.messagePrefix"))+" ",1),createBaseVNode("span",_hoisted_13$2,toDisplayString(getStatusText(statusDialog.status)),1),createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.statusDialog.messageSuffix")),1)]),statusDialog.status!==1?(openBlock(),createElementBlock("div",_hoisted_14$2,[createBaseVNode("label",null,toDisplayString(unref($t)("admin.shares.shareList.statusDialog.reasonLabel")),1),createVNode(_component_CyberInput,{modelValue:statusDialog.reason,"onUpdate:modelValue":_cache[1]||(_cache[1]=$event=>statusDialog.reason=$event),type:"textarea",placeholder:unref($t)("admin.shares.shareList.statusDialog.reasonPlaceholder"),rows:3},null,8,["modelValue","placeholder"])])):createCommentVNode("",!0)])]),_:1},8,["modelValue","title"]),createVNode(_component_CyberDialog,{modelValue:deleteDialog.visible,"onUpdate:modelValue":_cache[6]||(_cache[6]=$event=>deleteDialog.visible=$event),title:unref($t)("admin.shares.shareList.deleteDialog.title"),width:"400px"},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_19$2,[createVNode(_component_CyberButton,{type:"warning",onClick:_cache[5]||(_cache[5]=$event=>deleteDialog.visible=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.deleteDialog.cancel")),1)]),_:1}),createVNode(_component_CyberButton,{type:"danger",loading:deleteDialog.loading,onClick:confirmDeleteShare},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.deleteDialog.confirm")),1)]),_:1},8,["loading"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_16$2,[createBaseVNode("p",null,[createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.deleteDialog.messagePrefix"))+" ",1),createBaseVNode("span",_hoisted_17$2,toDisplayString(deleteDialog.shareName),1),createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.deleteDialog.messageSuffix")),1)]),createBaseVNode("div",_hoisted_18$2,[createVNode(_component_CyberCheckbox,{modelValue:deleteDialog.force,"onUpdate:modelValue":_cache[4]||(_cache[4]=$event=>deleteDialog.force=$event)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($t)("admin.shares.shareList.deleteDialog.forceDelete")),1)]),_:1},8,["modelValue"])])])]),_:1},8,["modelValue","title"])])}}});const ShareList=_export_sfc(_sfc_main$3,[["__scopeId","data-v-37a98a6f"]]),_hoisted_1$2={class:"visitor-list-component"},_hoisted_2$1={class:"filter-bar"},_hoisted_3$1={class:"filters"},_hoisted_4$1={class:"filter-item"},_hoisted_5$1={class:"filter-item search-box"},_hoisted_6$1={class:"right-actions"},_hoisted_7$1={key:0,class:"admin-loading"},_hoisted_8$1={key:1,class:"empty-state"},_hoisted_9$1={class:"empty-content animate-slide-up"},_hoisted_10$1={class:"empty-title"},_hoisted_11$1={class:"empty-desc"},_hoisted_12$1={key:2,class:"table-container"},_hoisted_13$1={class:"table-wrapper"},_hoisted_14$1={key:3,class:"pagination-container"},_hoisted_15$1={class:"delete-dialog-content"},_hoisted_16$1={class:"visitor-info"},_hoisted_17$1={class:"info-item"},_hoisted_18$1={class:"label"},_hoisted_19$1={class:"value"},_hoisted_20$1={key:0,class:"info-item"},_hoisted_21$1={class:"label"},_hoisted_22$1={class:"value"},_hoisted_23$1={class:"info-item"},_hoisted_24$1={class:"label"},_hoisted_25$1={class:"value"},_hoisted_26$1={class:"dialog-footer"},_sfc_main$2=defineComponent({__name:"VisitorList",setup(__props){const router=useRouter(),toast=useToast(),{$t}=useTexts(),tableColumns=computed(()=>[{key:"id",dataIndex:"id",title:$t("admin.shares.visitorList.columns.id"),width:120,align:"center",render:value=>shortId(value)},{key:"visitor_name",dataIndex:"visitor_name",title:$t("admin.shares.visitorList.columns.visitorName"),width:150,align:"center",render:value=>value||$t("admin.shares.visitorList.format.unknown")},{key:"visitor_email",dataIndex:"visitor_email",title:$t("admin.shares.visitorList.columns.visitorEmail"),width:200,ellipsis:!0,align:"center",render:value=>value||$t("admin.shares.visitorList.format.empty")},{key:"created_at",dataIndex:"created_at",title:$t("admin.shares.visitorList.columns.createdAt"),width:160,align:"center",render:value=>formatDate(value)},{key:"ip_address",dataIndex:"ip_address",title:$t("admin.shares.visitorList.columns.ipAddress"),width:160,align:"center",render:(value,record)=>record.ip_address?h("div",{class:"ip-info"},[h("span",{class:"ip-text"},record.ip_address),h("i",{class:"fas fa-info-circle ml-1",title:$t("admin.shares.visitorList.ipInfoTitle"),style:"cursor: pointer; opacity: 0.6; transition: all 0.2s; color: var(--color-brand-500);"})]):$t("admin.shares.visitorList.format.empty")},{key:"share_key",dataIndex:"share_key",title:$t("admin.shares.visitorList.columns.shareKey"),width:200,ellipsis:!0,align:"center",render:(value,record)=>h("div",{class:"share-link",onClick:()=>viewShareContent(record.share_id,record.share_key),style:"color: var(--color-brand-500); cursor: pointer; font-family: monospace; transition: all 0.2s;"},record.share_key)},{key:"visit_count",dataIndex:"visit_count",title:$t("admin.shares.visitorList.columns.visitCount"),width:100,align:"center"},{key:"actions",title:$t("admin.shares.visitorList.columns.actions"),width:100,align:"center",render:(_value,record)=>h("div",{class:"action-buttons flex gap-2 justify-center"},[h("button",{class:"inline-flex items-center justify-center px-3 py-1 text-xs bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 rounded transition-all duration-200",onClick:e=>{e.stopPropagation(),confirmDelete(record)}},$t("admin.shares.visitorList.actions.delete"))])}]),searchParams=reactive({page:1,size:10,keyword:"",share_id:"",order_by:"created_at DESC"}),totalItems=ref(0),visitorList=ref([]),loading=ref(!1),deleteDialog=reactive({visible:!1,visitorId:"",visitorName:"",visitorEmail:"",createdAt:"",loading:!1}),loadVisitorList=async()=>{try{loading.value=!0;const result=await adminGetVisitorList(searchParams);result.success&&result.data&&(visitorList.value=result.data.list||[],totalItems.value=result.data.total||0)}catch(error){toast.error(error?.message||$t("admin.shares.visitorList.messages.fetchFailed"))}finally{loading.value=!1}},searchVisitors=()=>{searchParams.page=1,loadVisitorList()},handlePageChange=page=>{searchParams.page=page,loadVisitorList()},handlePageSizeChange=size=>{searchParams.size=size,loadVisitorList()},viewShareContent=async(shareId,shareKey)=>{try{loading.value=!0;try{const data=await adminGetShareAccessToken(shareId);if(data&&data.access_token){const accessToken=data.access_token;router.push(`/share/${shareKey}?access_token=${accessToken}`)}else router.push(`/share/${shareKey}`),toast.warning($t("admin.shares.shareList.messages.getAccessFailed"))}catch{router.push(`/share/${shareKey}`),toast.warning($t("admin.shares.shareList.messages.getAccessFailed"))}}catch{router.push(`/share/${shareKey}`),toast.warning($t("admin.shares.shareList.messages.getAccessFailed"))}finally{loading.value=!1}},confirmDelete=visitor=>{deleteDialog.visitorId=visitor.id,deleteDialog.visitorName=visitor.visitor_name||"",deleteDialog.visitorEmail=visitor.visitor_email||"",deleteDialog.createdAt=visitor.created_at,deleteDialog.visible=!0},confirmDeleteVisitor=async()=>{try{deleteDialog.loading=!0,await adminDeleteVisitor(deleteDialog.visitorId),toast.success($t("admin.shares.visitorList.messages.deleteSuccess")),deleteDialog.visible=!1,loadVisitorList()}catch(error){toast.error(error?.message||$t("admin.shares.visitorList.messages.deleteFailed"))}finally{deleteDialog.loading=!1}},formatDate=dateString=>dateString?new Date(dateString).toLocaleString(getCurrentLocale(),{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):$t("admin.shares.visitorList.format.empty"),shortId=id=>id?id.replace(/^visitor_/,"").substring(0,8):$t("admin.shares.visitorList.format.empty");return onMounted(()=>{loadVisitorList()}),(_ctx,_cache)=>{const _component_CyberInput=resolveComponent("CyberInput"),_component_CyberButton=resolveComponent("CyberButton"),_component_CyberLoading=resolveComponent("CyberLoading"),_component_CyberDataTable=resolveComponent("CyberDataTable"),_component_CyberPagination=resolveComponent("CyberPagination"),_component_CyberDialog=resolveComponent("CyberDialog");return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[createVNode(_component_CyberInput,{modelValue:searchParams.share_id,"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>searchParams.share_id=$event),placeholder:unref($t)("admin.shares.visitorList.filter.shareIdPlaceholder"),onKeyup:withKeys(searchVisitors,["enter"])},null,8,["modelValue","placeholder"])]),createBaseVNode("div",_hoisted_5$1,[createVNode(_component_CyberInput,{modelValue:searchParams.keyword,"onUpdate:modelValue":_cache[1]||(_cache[1]=$event=>searchParams.keyword=$event),placeholder:unref($t)("admin.shares.visitorList.filter.keywordPlaceholder"),onKeyup:withKeys(searchVisitors,["enter"])},{suffix:withCtx(()=>[createBaseVNode("i",{class:"fas fa-search cursor-pointer",onClick:searchVisitors})]),_:1},8,["modelValue","placeholder"])])]),createBaseVNode("div",_hoisted_6$1,[createVNode(_component_CyberButton,{type:"primary",onClick:searchVisitors},{default:withCtx(()=>[_cache[5]||(_cache[5]=createBaseVNode("i",{class:"fas fa-search mr-1"},null,-1)),createTextVNode(" "+toDisplayString(unref($t)("admin.shares.visitorList.filter.searchButton")),1)]),_:1})])]),loading.value?(openBlock(),createElementBlock("div",_hoisted_7$1,[createVNode(_component_CyberLoading,{visible:!0,text:unref($t)("admin.shares.visitorList.loading.text")},null,8,["text"])])):!loading.value&&visitorList.value.length===0?(openBlock(),createElementBlock("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[_cache[6]||(_cache[6]=createBaseVNode("div",{class:"empty-icon-wrapper"},[createBaseVNode("i",{class:"fas fa-users empty-icon"})],-1)),createBaseVNode("h3",_hoisted_10$1,toDisplayString(unref($t)("admin.shares.visitorList.empty.title")),1),createBaseVNode("p",_hoisted_11$1,toDisplayString(unref($t)("admin.shares.visitorList.empty.description")),1)])])):(openBlock(),createElementBlock("div",_hoisted_12$1,[createBaseVNode("div",_hoisted_13$1,[createVNode(_component_CyberDataTable,{columns:tableColumns.value,data:visitorList.value,loading:!1,hoverable:!0,striped:!0,bordered:!0,class:"visitor-data-table"},null,8,["columns","data"])])])),!loading.value&&totalItems.value>0?(openBlock(),createElementBlock("div",_hoisted_14$1,[createVNode(_component_CyberPagination,{"current-page":searchParams.page,"onUpdate:currentPage":[_cache[2]||(_cache[2]=$event=>searchParams.page=$event),handlePageChange],total:totalItems.value,"page-size":searchParams.size,"show-page-size-selector":!0,"show-quick-jumper":!0,"onUpdate:pageSize":handlePageSizeChange},null,8,["current-page","total","page-size"])])):createCommentVNode("",!0),createVNode(_component_CyberDialog,{modelValue:deleteDialog.visible,"onUpdate:modelValue":_cache[4]||(_cache[4]=$event=>deleteDialog.visible=$event),title:unref($t)("admin.shares.visitorList.deleteDialog.title"),width:"400px"},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_26$1,[createVNode(_component_CyberButton,{onClick:_cache[3]||(_cache[3]=$event=>deleteDialog.visible=!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($t)("admin.shares.visitorList.deleteDialog.cancel")),1)]),_:1}),createVNode(_component_CyberButton,{type:"danger",loading:deleteDialog.loading,onClick:confirmDeleteVisitor},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($t)("admin.shares.visitorList.deleteDialog.confirm")),1)]),_:1},8,["loading"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_15$1,[createBaseVNode("p",null,toDisplayString(unref($t)("admin.shares.visitorList.deleteDialog.message")),1),createBaseVNode("div",_hoisted_16$1,[createBaseVNode("div",_hoisted_17$1,[createBaseVNode("span",_hoisted_18$1,toDisplayString(unref($t)("admin.shares.visitorList.deleteDialog.visitorName")),1),createBaseVNode("span",_hoisted_19$1,toDisplayString(deleteDialog.visitorName||unref($t)("admin.shares.visitorList.format.unknown")),1)]),deleteDialog.visitorEmail?(openBlock(),createElementBlock("div",_hoisted_20$1,[createBaseVNode("span",_hoisted_21$1,toDisplayString(unref($t)("admin.shares.visitorList.deleteDialog.email")),1),createBaseVNode("span",_hoisted_22$1,toDisplayString(deleteDialog.visitorEmail),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("span",_hoisted_24$1,toDisplayString(unref($t)("admin.shares.visitorList.deleteDialog.visitTime")),1),createBaseVNode("span",_hoisted_25$1,toDisplayString(formatDate(deleteDialog.createdAt)),1)])])])]),_:1},8,["modelValue","title"])])}}});const VisitorList=_export_sfc(_sfc_main$2,[["__scopeId","data-v-455b2abb"]]),_hoisted_1$1={class:"statistics-component"},_hoisted_2={class:"stat-cards"},_hoisted_3={class:"stat-card"},_hoisted_4={class:"card-content"},_hoisted_5={class:"card-title"},_hoisted_6={class:"card-value"},_hoisted_7={class:"stat-card"},_hoisted_8={class:"card-content"},_hoisted_9={class:"card-title"},_hoisted_10={class:"card-value"},_hoisted_11={class:"stat-card"},_hoisted_12={class:"card-content"},_hoisted_13={class:"card-title"},_hoisted_14={class:"card-value"},_hoisted_15={class:"charts-grid"},_hoisted_16={class:"chart-container"},_hoisted_17={class:"chart-header"},_hoisted_18={class:"chart-title"},_hoisted_19={class:"chart-actions"},_hoisted_20={class:"chart-body"},_hoisted_21={key:0,class:"chart-placeholder"},_hoisted_22={class:"loading-spinner"},_hoisted_23={key:1,class:"chart-placeholder"},_hoisted_24={class:"no-data"},_hoisted_25={key:2,class:"trend-chart"},_hoisted_26={class:"chart-bars"},_hoisted_27={class:"date-label"},_hoisted_28={class:"bar-container"},_hoisted_29=["title"],_hoisted_30=["title"],_hoisted_31={class:"bar-labels"},_hoisted_32={class:"views-label"},_hoisted_33={class:"shares-label"},_hoisted_34={class:"chart-legend"},_hoisted_35={class:"legend-item"},_hoisted_36={class:"legend-text"},_hoisted_37={class:"legend-item"},_hoisted_38={class:"legend-text"},_hoisted_39={class:"chart-container"},_hoisted_40={class:"chart-header"},_hoisted_41={class:"chart-title"},_hoisted_42={class:"chart-actions"},_hoisted_43={class:"chart-body"},_hoisted_44={class:"popular-shares"},_hoisted_45={key:0,class:"shares-list"},_hoisted_46=["onClick"],_hoisted_47={class:"share-rank"},_hoisted_48={class:"share-info"},_hoisted_49=["title"],_hoisted_50={class:"share-creator"},_hoisted_51={class:"share-views"},_hoisted_52={class:"total-views"},_hoisted_53={key:0,class:"recent-badge"},_hoisted_54={key:1,class:"chart-placeholder"},_hoisted_55={class:"no-data"},_sfc_main$1=defineComponent({__name:"Statistics",setup(__props){const router=useRouter(),toast=useToast(),{$t}=useTexts(),stats=reactive({total_shares:0,active_shares:0,views_today:0,popular_shares:[],stats_by_date:[]}),trendPeriod=ref("7"),periodOptions=computed(()=>[{label:$t("admin.shares.statistics.periodOptions.last7Days"),value:"7"},{label:$t("admin.shares.statistics.periodOptions.last30Days"),value:"30"},{label:$t("admin.shares.statistics.periodOptions.last90Days"),value:"90"}]),loading=ref(!0),hasData=computed(()=>stats.stats_by_date&&stats.stats_by_date.length>0),loadStatistics=async()=>{try{loading.value=!0;const result=await getShareStats();result.success&&result.data&&(stats.total_shares=result.data.total_shares||0,stats.active_shares=result.data.active_shares||0,stats.views_today=result.data.views_today||0,stats.popular_shares=result.data.popular_shares||[],stats.stats_by_date=result.data.stats_by_date||[])}catch(error){toast.error(error?.message||$t("admin.shares.statistics.messages.fetchFailed"))}finally{loading.value=!1}},refreshStats=()=>{loadStatistics()},viewShareDetail=async share=>{try{loading.value=!0;try{const result=await adminGetShareAccessToken(share.id);if(result.success&&result.data&&result.data.access_token){const accessToken=result.data.access_token;router.push(`/share/${share.share_key}?access_token=${accessToken}`)}else router.push(`/share/${share.share_key}`),toast.warning($t("admin.shares.shareList.messages.getAccessFailed"))}catch{router.push(`/share/${share.share_key}`),toast.warning($t("admin.shares.shareList.messages.getAccessFailed"))}}catch{router.push(`/share/${share.share_key}`),toast.warning($t("admin.shares.shareList.messages.getAccessFailed"))}finally{loading.value=!1}},calculateBarHeight=value=>{if(!value)return 0;const maxValue=Math.max(...stats.stats_by_date.map(item=>Math.max(item.total_views,item.new_shares*10)));return maxValue===0?0:Math.min(Math.round(value/maxValue*100),100)},formatDateLabel=dateString=>{if(!dateString)return"";const date=new Date(dateString);return`${date.getMonth()+1}/${date.getDate()}`};return onMounted(()=>{loadStatistics()}),(_ctx,_cache)=>{const _component_CyberDropdown=resolveComponent("CyberDropdown"),_component_CyberButton=resolveComponent("CyberButton");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[_cache[1]||(_cache[1]=createBaseVNode("div",{class:"card-icon"},[createBaseVNode("i",{class:"fas fa-share-alt"})],-1)),createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,toDisplayString(unref($t)("admin.shares.statistics.cards.totalShares")),1),createBaseVNode("div",_hoisted_6,toDisplayString(stats.total_shares||0),1)])]),createBaseVNode("div",_hoisted_7,[_cache[2]||(_cache[2]=createBaseVNode("div",{class:"card-icon active-icon"},[createBaseVNode("i",{class:"fas fa-check-circle"})],-1)),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,toDisplayString(unref($t)("admin.shares.statistics.cards.activeShares")),1),createBaseVNode("div",_hoisted_10,toDisplayString(stats.active_shares||0),1)])]),createBaseVNode("div",_hoisted_11,[_cache[3]||(_cache[3]=createBaseVNode("div",{class:"card-icon views-icon"},[createBaseVNode("i",{class:"fas fa-eye"})],-1)),createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,toDisplayString(unref($t)("admin.shares.statistics.cards.viewsToday")),1),createBaseVNode("div",_hoisted_14,toDisplayString(stats.views_today||0),1)])])]),createBaseVNode("div",_hoisted_15,[createBaseVNode("div",_hoisted_16,[createBaseVNode("div",_hoisted_17,[createBaseVNode("h3",_hoisted_18,toDisplayString(unref($t)("admin.shares.statistics.charts.trend.title")),1),createBaseVNode("div",_hoisted_19,[createVNode(_component_CyberDropdown,{modelValue:trendPeriod.value,"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>trendPeriod.value=$event),options:periodOptions.value},null,8,["modelValue","options"])])]),createBaseVNode("div",_hoisted_20,[loading.value?(openBlock(),createElementBlock("div",_hoisted_21,[createBaseVNode("div",_hoisted_22,[_cache[4]||(_cache[4]=createBaseVNode("i",{class:"fas fa-circle-notch fa-spin"},null,-1)),createBaseVNode("span",null,toDisplayString(unref($t)("admin.shares.statistics.loading.text")),1)])])):hasData.value?(openBlock(),createElementBlock("div",_hoisted_25,[createBaseVNode("div",_hoisted_26,[(openBlock(!0),createElementBlock(Fragment,null,renderList(stats.stats_by_date,(item,index2)=>(openBlock(),createElementBlock("div",{key:index2,class:"chart-bar-group"},[createBaseVNode("div",_hoisted_27,toDisplayString(formatDateLabel(item.date)),1),createBaseVNode("div",_hoisted_28,[createBaseVNode("div",{class:"views-bar",style:normalizeStyle({height:calculateBarHeight(item.total_views)+"%"}),title:unref($t)("admin.shares.statistics.charts.trend.viewsTooltip").replace("{count}",item.total_views)},null,12,_hoisted_29),createBaseVNode("div",{class:"shares-bar",style:normalizeStyle({height:calculateBarHeight(item.new_shares*10)+"%"}),title:unref($t)("admin.shares.statistics.charts.trend.sharesTooltip").replace("{count}",item.new_shares)},null,12,_hoisted_30)]),createBaseVNode("div",_hoisted_31,[createBaseVNode("div",_hoisted_32,toDisplayString(item.total_views),1),createBaseVNode("div",_hoisted_33,toDisplayString(item.new_shares),1)])]))),128))]),createBaseVNode("div",_hoisted_34,[createBaseVNode("div",_hoisted_35,[_cache[6]||(_cache[6]=createBaseVNode("div",{class:"legend-color views-color"},null,-1)),createBaseVNode("div",_hoisted_36,toDisplayString(unref($t)("admin.shares.statistics.legend.views")),1)]),createBaseVNode("div",_hoisted_37,[_cache[7]||(_cache[7]=createBaseVNode("div",{class:"legend-color shares-color"},null,-1)),createBaseVNode("div",_hoisted_38,toDisplayString(unref($t)("admin.shares.statistics.legend.shares")),1)])])])):(openBlock(),createElementBlock("div",_hoisted_23,[createBaseVNode("div",_hoisted_24,[_cache[5]||(_cache[5]=createBaseVNode("i",{class:"fas fa-chart-line"},null,-1)),createBaseVNode("span",null,toDisplayString(unref($t)("admin.shares.statistics.empty.noData")),1)])]))])]),createBaseVNode("div",_hoisted_39,[createBaseVNode("div",_hoisted_40,[createBaseVNode("h3",_hoisted_41,toDisplayString(unref($t)("admin.shares.statistics.charts.popular.title")),1),createBaseVNode("div",_hoisted_42,[createVNode(_component_CyberButton,{size:"mini",type:"primary",onClick:refreshStats},{default:withCtx(()=>[..._cache[8]||(_cache[8]=[createBaseVNode("i",{class:"fas fa-sync-alt"},null,-1)])]),_:1})])]),createBaseVNode("div",_hoisted_43,[createBaseVNode("div",_hoisted_44,[stats.popular_shares&&stats.popular_shares.length>0?(openBlock(),createElementBlock("div",_hoisted_45,[(openBlock(!0),createElementBlock(Fragment,null,renderList(stats.popular_shares,(share,index2)=>(openBlock(),createElementBlock("div",{key:share.id,class:"popular-share-item",onClick:$event=>viewShareDetail(share)},[createBaseVNode("div",_hoisted_47,toDisplayString(index2+1),1),createBaseVNode("div",_hoisted_48,[createBaseVNode("div",{class:"share-name",title:share.name},toDisplayString(share.name),9,_hoisted_49),createBaseVNode("div",_hoisted_50,toDisplayString(share.username),1)]),createBaseVNode("div",_hoisted_51,[createBaseVNode("span",_hoisted_52,toDisplayString(share.total_views),1),share.recent_views>0?(openBlock(),createElementBlock("span",_hoisted_53,"+"+toDisplayString(share.recent_views),1)):createCommentVNode("",!0)])],8,_hoisted_46))),128))])):(openBlock(),createElementBlock("div",_hoisted_54,[createBaseVNode("div",_hoisted_55,[_cache[9]||(_cache[9]=createBaseVNode("i",{class:"fas fa-chart-pie"},null,-1)),createBaseVNode("span",null,toDisplayString(unref($t)("admin.shares.statistics.empty.noPopular")),1)])]))])])])])])}}});const Statistics=_export_sfc(_sfc_main$1,[["__scopeId","data-v-0c3098b1"]]),_hoisted_1={class:"admin-shares-page admin-page-container"},_sfc_main=defineComponent({name:"AdminShares",__name:"index",setup(__props){const{$t}=useTexts(),tabs=computed(()=>[{key:"list",name:$t("admin.shares.tabs.list"),icon:"fas fa-list-ul"},{key:"visitors",name:$t("admin.shares.tabs.visitors"),icon:"fas fa-users"},{key:"stats",name:$t("admin.shares.tabs.stats"),icon:"fas fa-chart-line"}]),activeTab=ref("list"),setActiveTab=tab=>{activeTab.value=tab};return(_ctx,_cache)=>{const _component_CyberSidebarNav=__unplugin_components_0,_component_CyberAdminWrapper=resolveComponent("CyberAdminWrapper");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(_component_CyberAdminWrapper,{title:unref($t)("admin.shares.title"),subtitle:unref($t)("admin.shares.subtitle"),icon:"fas fa-share-alt","sidebar-layout":!0},{sidebar:withCtx(()=>[createVNode(_component_CyberSidebarNav,{tabs:tabs.value,"active-tab":activeTab.value,onTabChange:setActiveTab},null,8,["tabs","active-tab"])]),content:withCtx(()=>[activeTab.value==="list"?(openBlock(),createBlock(ShareList,{key:0})):createCommentVNode("",!0),activeTab.value==="visitors"?(openBlock(),createBlock(VisitorList,{key:1})):createCommentVNode("",!0),activeTab.value==="stats"?(openBlock(),createBlock(Statistics,{key:2})):createCommentVNode("",!0)]),_:1},8,["title","subtitle"])])}}});const index=_export_sfc(_sfc_main,[["__scopeId","data-v-8579f86b"]]);export{index as default};
