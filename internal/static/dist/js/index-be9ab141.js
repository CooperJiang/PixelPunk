import{_ as __vitePreload}from"./editor-markdown-0b2e1ce5.js";import{m as useSettingsStore,j as useTexts,_ as _export_sfc,n as useAuthStore}from"./index-38202212.js";import{d as defineComponent,c as computed,r as ref,b as onMounted,n as nextTick,z as openBlock,I as createElementBlock,a0 as createBaseVNode,a1 as toDisplayString,F as Fragment,M as renderList,R as normalizeClass,K as createCommentVNode,w as watch,o as onUnmounted,E as resolveComponent,f as createVNode,L as withCtx,u as unref}from"./vue-vendor-31320f47.js";import{g as getPbData}from"./index-1b22a359.js";import"./axios-c2a59b9f.js";import"./spark-md5-d0a97131.js";import"./highlight-common-d6c232ae.js";import"./comlink-c7be92b7.js";/* empty css                 */import"./vueuse-2480d07f.js";import"./marked-e9418aa8.js";import"./dompurify-76a35038.js";import"./vue-table-79795ca5.js";const _hoisted_1$3={class:"hero-title-wrapper"},_hoisted_2$3={class:"cyber-glitch-wrapper mb-6"},_hoisted_3$2=["data-text"],_hoisted_4$2=["data-text"],_hoisted_5$1={key:0,class:"subtitle mx-auto mb-6 max-w-5xl text-2xl font-light tracking-wider md:text-3xl"},_hoisted_6=["innerHTML"],DEFAULT_HERO_TITLE="让图片管理从繁琐到简单，让文件分享从等待到极速",DEFAULT_FEATURES_TEXT="AI自动识别 · 智能分类整理 · 秒传极速分享 · 开源社区驱动",_sfc_main$3=defineComponent({name:"HeroTitle",__name:"HeroTitle",setup(__props){const settingsStore=useSettingsStore(),{$t}=useTexts(),dynamicSiteName=computed(()=>{const siteName=settingsStore.siteName;if(siteName){const words=siteName.split(" ").filter(word=>word.trim());return words.length>=2?{firstWord:words[0],otherWords:words.slice(1)}:{firstWord:siteName,otherWords:[]}}return{firstWord:"PIXEL",otherWords:["PUNK"]}}),dynamicHeroTitle=computed(()=>{const configValue=settingsStore.siteHeroTitle?.trim();return configValue?configValue===DEFAULT_HERO_TITLE?$t("home.hero.defaultTitle"):configValue:""}),dynamicFeaturesText=computed(()=>{const configValue=settingsStore.siteFeaturesText?.trim();return configValue?configValue===DEFAULT_FEATURES_TEXT?$t("home.hero.defaultFeatures"):configValue:""}),glitchTitle=ref(),initTitleAnimations=async()=>{if(!(typeof window>"u"))try{const{default:gsap}=await __vitePreload(()=>import("./gsap-30f8202f.js"),[]);if(!glitchTitle.value)return;gsap.timeline().to(glitchTitle.value,{opacity:1,y:0,scale:1,duration:.6,ease:"back.out(1.2)",delay:.1}).to(glitchTitle.value,{x:1,duration:.02,repeat:3,yoyo:!0,ease:"none"},"-=0.1").set(glitchTitle.value,{x:0}).to(glitchTitle.value,{textShadow:"0 0 20px rgba(var(--color-brand-500-rgb), 0.6), 0 0 40px rgba(var(--color-brand-500-rgb), 0.3)",duration:3,repeat:-1,yoyo:!0,ease:"sine.inOut"},"-=0.2")}catch{glitchTitle.value&&glitchTitle.value.classList.add("css-fallback")}};return onMounted(()=>{nextTick(()=>{initTitleAnimations()})}),(_ctx,_cache)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("h1",{ref_key:"glitchTitle",ref:glitchTitle,class:"cyber-glitch-title"},[createBaseVNode("span",{class:"cyber-glitch-word cyber-glitch-color-1","data-text":dynamicSiteName.value.firstWord},toDisplayString(dynamicSiteName.value.firstWord),9,_hoisted_3$2),(openBlock(!0),createElementBlock(Fragment,null,renderList(dynamicSiteName.value.otherWords,(word,index2)=>(openBlock(),createElementBlock(Fragment,{key:index2},[_cache[0]||(_cache[0]=createBaseVNode("span",{class:"cyber-glitch-separator"},null,-1)),createBaseVNode("span",{class:normalizeClass(`cyber-glitch-word cyber-glitch-color-${(index2+1)%5+1}`),"data-text":word},toDisplayString(word),11,_hoisted_4$2)],64))),128))],512)]),dynamicHeroTitle.value?(openBlock(),createElementBlock("p",_hoisted_5$1,toDisplayString(dynamicHeroTitle.value),1)):createCommentVNode("",!0),dynamicFeaturesText.value?(openBlock(),createElementBlock("p",{key:1,class:"description mx-auto mb-8 max-w-3xl text-base leading-loose text-content-muted md:text-lg",innerHTML:dynamicFeaturesText.value},null,8,_hoisted_6)):createCommentVNode("",!0)]))}});const HeroTitle=_export_sfc(_sfc_main$3,[["__scopeId","data-v-41b531a1"]]);function useCountAnimation(endValue,options={}){const{duration=2e3,startValue=0,decimalPlaces=0,separator=",",prefix="",suffix="",easing=easeOutCubic,autoStart=!0,startOnVisible=!1}=options,displayValue=ref(`${prefix}${startValue}${suffix}`),currentValue=ref(startValue),isAnimating=ref(!1);let animationId=null,startTime=null,observer=null;const hasStarted=ref(!1);function easeOutCubic(t){return 1-Math.pow(1-t,3)}function formatNumber(num){const fixed=num.toFixed(decimalPlaces);if(separator){const parts=fixed.split(".");return parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,separator),parts.join(".")}return fixed}function animate(timestamp){startTime||(startTime=timestamp);const progress=Math.min((timestamp-startTime)/duration,1),end=typeof endValue=="object"?endValue.value:endValue,easedProgress=easing(progress);currentValue.value=startValue+(end-startValue)*easedProgress,displayValue.value=`${prefix}${formatNumber(currentValue.value)}${suffix}`,progress<1?animationId=requestAnimationFrame(animate):(isAnimating.value=!1,startTime=null)}function start(){isAnimating.value||hasStarted.value||(hasStarted.value=!0,isAnimating.value=!0,startTime=null,currentValue.value=startValue,animationId=requestAnimationFrame(animate))}function stop(){animationId&&(cancelAnimationFrame(animationId),animationId=null),isAnimating.value=!1,startTime=null}function reset(){stop(),hasStarted.value=!1,currentValue.value=startValue,displayValue.value=`${prefix}${formatNumber(startValue)}${suffix}`}function finish(){stop();const end=typeof endValue=="object"?endValue.value:endValue;currentValue.value=end,displayValue.value=`${prefix}${formatNumber(end)}${suffix}`}typeof endValue=="object"&&watch(endValue,()=>{hasStarted.value&&(reset(),start())});function createObserver(element){startOnVisible&&(observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{entry.isIntersecting&&!hasStarted.value&&start()})},{threshold:.1}),observer.observe(element))}function observeElement(element){observer&&observer.disconnect(),createObserver(element)}return onMounted(()=>{autoStart&&!startOnVisible&&start()}),onUnmounted(()=>{stop(),observer&&(observer.disconnect(),observer=null)}),{displayValue,currentValue,isAnimating,start,stop,reset,finish,observeElement}}const _hoisted_1$2={key:0,class:"stats-simple mb-8",style:{"margin-top":"15px"}},_hoisted_2$2={class:"stats-badge"},_sfc_main$2=defineComponent({name:"StatsDisplay",__name:"StatsDisplay",setup(__props){const settingsStore=useSettingsStore(),{$t}=useTexts(),imageStats=ref({total:0}),storageStats=ref({formattedStorage:"",totalStorage:0}),statsNumber=ref();ref();const shouldShowImageCount=computed(()=>settingsStore.showImageCount),shouldShowStorageUsage=computed(()=>settingsStore.showStorageUsage),shouldShowStats=computed(()=>shouldShowImageCount.value||shouldShowStorageUsage.value),{displayValue,observeElement}=useCountAnimation(computed(()=>imageStats.value.total),{duration:2500,startValue:0,separator:",",startOnVisible:!0,autoStart:!1}),fetchStats=async()=>{try{const response=await getPbData();imageStats.value.total=response.data?.total||0,response.data?.storage?(storageStats.value.formattedStorage=response.data.storage.formatted_storage||"",storageStats.value.totalStorage=response.data.storage.total_storage||0):shouldShowStorageUsage.value&&(storageStats.value.formattedStorage=$t("home.stats.calculating"))}catch{imageStats.value.total=0,storageStats.value.formattedStorage="0 B"}},dynamicStatsText=computed(()=>{const showImageCount=shouldShowImageCount.value,showStorageUsage=shouldShowStorageUsage.value,hasStorageData=storageStats.value.formattedStorage&&storageStats.value.formattedStorage!==$t("home.stats.calculating");return showImageCount&&showStorageUsage&&hasStorageData?$t("home.stats.countAndStorage",{count:displayValue.value,storage:storageStats.value.formattedStorage}):showImageCount?$t("home.stats.countOnly",{count:displayValue.value}):showStorageUsage&&hasStorageData?$t("home.stats.storageOnly",{storage:storageStats.value.formattedStorage}):showImageCount?$t("home.stats.countOnly",{count:displayValue.value}):""});return onMounted(async()=>{shouldShowStats.value&&(await fetchStats(),nextTick(()=>{statsNumber.value&&observeElement(statsNumber.value)}))}),(_ctx,_cache)=>shouldShowStats.value?(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("span",{ref_key:"statsNumber",ref:statsNumber},toDisplayString(dynamicStatsText.value),513)])])):createCommentVNode("",!0)}});const StatsDisplay=_export_sfc(_sfc_main$2,[["__scopeId","data-v-9d7abb18"]]),_hoisted_1$1={class:"action-buttons"},_hoisted_2$1={class:"desktop-buttons hidden flex-row items-center justify-center gap-4 md:flex"},_hoisted_3$1={class:"mobile-buttons flex w-full flex-col items-center gap-3 md:hidden"},_hoisted_4$1={class:"mobile-row flex w-full max-w-sm flex-row gap-3"},_hoisted_5={class:"mobile-row w-full max-w-sm"},_sfc_main$1=defineComponent({name:"ActionButtons",__name:"ActionButtons",setup(__props){const authStore=useAuthStore(),{$t}=useTexts(),isLoggedIn=computed(()=>authStore.isLoggedIn);return(_ctx,_cache)=>{const _component_router_link=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createVNode(_component_router_link,{to:"/explore",class:"cyber-btn btn-blue"},{default:withCtx(()=>[_cache[0]||(_cache[0]=createBaseVNode("i",{class:"bi bi-search mr-2"},null,-1)),createBaseVNode("span",null,toDisplayString(unref($t)("home.actions.explore")),1)]),_:1}),createVNode(_component_router_link,{to:"/upload",class:"cyber-btn btn-pink"},{default:withCtx(()=>[_cache[1]||(_cache[1]=createBaseVNode("i",{class:"bi bi-cloud-upload mr-2"},null,-1)),createBaseVNode("span",null,toDisplayString(unref($t)("home.actions.upload")),1)]),_:1}),createVNode(_component_router_link,{to:isLoggedIn.value?"/dashboard":"/auth",class:"cyber-btn btn-purple"},{default:withCtx(()=>[_cache[2]||(_cache[2]=createBaseVNode("i",{class:"bi bi-person mr-2"},null,-1)),createBaseVNode("span",null,toDisplayString(isLoggedIn.value?unref($t)("home.actions.dashboard"):unref($t)("home.actions.login")),1)]),_:1},8,["to"])]),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[createVNode(_component_router_link,{to:"/explore",class:"cyber-btn btn-blue flex-1"},{default:withCtx(()=>[_cache[3]||(_cache[3]=createBaseVNode("i",{class:"bi bi-search mr-1"},null,-1)),createBaseVNode("span",null,toDisplayString(unref($t)("home.actions.exploreShort")),1)]),_:1}),createVNode(_component_router_link,{to:"/upload",class:"cyber-btn btn-pink flex-1"},{default:withCtx(()=>[_cache[4]||(_cache[4]=createBaseVNode("i",{class:"bi bi-cloud-upload mr-1"},null,-1)),createBaseVNode("span",null,toDisplayString(unref($t)("home.actions.uploadShort")),1)]),_:1})]),createBaseVNode("div",_hoisted_5,[createVNode(_component_router_link,{to:isLoggedIn.value?"/dashboard":"/auth",class:"cyber-btn btn-purple w-full"},{default:withCtx(()=>[_cache[5]||(_cache[5]=createBaseVNode("i",{class:"bi bi-person mr-2"},null,-1)),createBaseVNode("span",null,toDisplayString(isLoggedIn.value?unref($t)("home.actions.dashboard"):unref($t)("home.actions.login")),1)]),_:1},8,["to"])])])])}}});const ActionButtons=_export_sfc(_sfc_main$1,[["__scopeId","data-v-269472f8"]]),_hoisted_1={class:"tool-home relative h-screen overflow-hidden"},_hoisted_2={class:"main-container relative z-10 flex min-h-screen items-center justify-center"},_hoisted_3={class:"hero-content mx-auto max-w-4xl px-4 text-center"},_hoisted_4={class:"footer-container fixed bottom-0 left-0 right-0 z-10"},_sfc_main=defineComponent({name:"ToolHome",__name:"index",setup(__props){const showNavAndFooter=ref(!1),hasScrolled=ref(!1),handleScroll=event=>{const scrolled=event.target.scrollTop>10;scrolled!==hasScrolled.value&&(hasScrolled.value=scrolled,showNavAndFooter.value=scrolled)},toggleNavAndFooter=show=>{nextTick(()=>{const navbar=document.querySelector(".cyber-navbar"),footer=document.querySelector(".footer-container");navbar&&(show?(navbar.style.setProperty("opacity","1","important"),navbar.style.setProperty("transform","translateY(0)","important"),navbar.style.setProperty("pointer-events","auto","important"),navbar.style.setProperty("transition","all 0.5s ease-in-out","important")):(navbar.style.setProperty("opacity","0","important"),navbar.style.setProperty("transform","translateY(-100%)","important"),navbar.style.setProperty("pointer-events","none","important"),navbar.style.setProperty("transition","all 0.5s ease-in-out","important"))),footer&&(show?(footer.style.setProperty("opacity","1","important"),footer.style.setProperty("transform","translateY(0)","important"),footer.style.setProperty("pointer-events","auto","important"),footer.style.setProperty("transition","all 0.5s ease-in-out","important")):(footer.style.setProperty("opacity","0","important"),footer.style.setProperty("transform","translateY(100%)","important"),footer.style.setProperty("pointer-events","none","important"),footer.style.setProperty("transition","all 0.5s ease-in-out","important")))})};return watch(showNavAndFooter,newVal=>{toggleNavAndFooter(newVal)}),onMounted(()=>{const immediateHide=()=>{const navbar=document.querySelector(".cyber-navbar"),footer=document.querySelector(".footer-container");navbar&&(navbar.style.setProperty("opacity","0","important"),navbar.style.setProperty("transform","translateY(-100%)","important"),navbar.style.setProperty("pointer-events","none","important"),navbar.style.setProperty("transition","none","important")),footer&&(footer.style.setProperty("opacity","0","important"),footer.style.setProperty("transform","translateY(100%)","important"),footer.style.setProperty("pointer-events","none","important"),footer.style.setProperty("transition","none","important"))};immediateHide(),nextTick(()=>{immediateHide()}),setTimeout(()=>{const navbar=document.querySelector(".cyber-navbar"),footer=document.querySelector(".footer-container"),mainContent=document.querySelector(".main-content");navbar&&navbar.style.setProperty("transition","all 0.5s ease-in-out","important"),footer&&footer.style.setProperty("transition","all 0.5s ease-in-out","important"),mainContent&&mainContent.addEventListener("scroll",handleScroll,{passive:!0})},100)}),onUnmounted(()=>{const mainContent=document.querySelector(".main-content");mainContent&&mainContent.removeEventListener("scroll",handleScroll);const navbar=document.querySelector(".cyber-navbar"),footer=document.querySelector(".footer-container");navbar&&(navbar.style.removeProperty("opacity"),navbar.style.removeProperty("transform"),navbar.style.removeProperty("pointer-events"),navbar.style.removeProperty("transition")),footer&&(footer.style.removeProperty("opacity"),footer.style.removeProperty("transform"),footer.style.removeProperty("pointer-events"),footer.style.removeProperty("transition"))}),(_ctx,_cache)=>{const _component_CyberCopyright=resolveComponent("CyberCopyright");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(HeroTitle),createVNode(StatsDisplay),createVNode(ActionButtons)])]),createBaseVNode("div",_hoisted_4,[createVNode(_component_CyberCopyright)])])}}});const index=_export_sfc(_sfc_main,[["__scopeId","data-v-1963798f"]]);export{index as default};
