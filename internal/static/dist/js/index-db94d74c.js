import{g as getSettings,b as batchUpsertSettings,a as getSetting,c as createSetting,u as updateSetting,d as deleteSetting,e as getGlobalSettings,f as getGlobalSettingsByGroup,h as getLegalDocuments}from"./index-38202212.js";import{g as getDefaultSettings,d as defaultSettings,t as testMailServer,a as testVectorConfig}from"./defaults-22ab3e46.js";import{c,r,b}from"./defaults-22ab3e46.js";import{g as getOAuthConfig,a as githubOAuthLogin,b as googleOAuthLogin,l as linuxdoOAuthLogin}from"./oauth-756b4698.js";import"./vue-vendor-31320f47.js";import"./editor-markdown-0b2e1ce5.js";import"./axios-c2a59b9f.js";import"./spark-md5-d0a97131.js";import"./highlight-common-d6c232ae.js";import"./comlink-c7be92b7.js";/* empty css                 */import"./vueuse-2480d07f.js";import"./marked-e9418aa8.js";import"./dompurify-76a35038.js";import"./vue-table-79795ca5.js";async function initializeSettings(group,$t){try{const{data}=await getSettings({group}),defaultsMap=$t?getDefaultSettings($t):defaultSettings;if(!data.settings||data.settings.length<(defaultsMap[group]?.length||0)){const defaults=defaultsMap[group]||[],existingKeys=data.settings?data.settings.map(s=>s.key):[],settingsToUpsert=defaults.filter(setting=>!existingKeys.includes(setting.key));settingsToUpsert.length>0&&await batchUpsertSettings(settingsToUpsert);const{data:refreshedData}=await getSettings({group});return refreshedData.settings}return data.settings}catch{return[]}}const index={getSettings,getSetting,createSetting,updateSetting,batchUpsertSettings,deleteSetting,initializeSettings,testMailServer,testVectorConfig,getGlobalSettings,getGlobalSettingsByGroup,getLegalDocuments,getOAuthConfig,githubOAuthLogin,googleOAuthLogin,linuxdoOAuthLogin,defaultSettings};export{batchUpsertSettings,c as checkAIConfiguration,createSetting,index as default,defaultSettings,deleteSetting,getGlobalSettings,getGlobalSettingsByGroup,getLegalDocuments,getOAuthConfig,getSetting,getSettings,githubOAuthLogin,googleOAuthLogin,initializeSettings,linuxdoOAuthLogin,r as regenerateVectors,b as testAIConfig,testMailServer,testVectorConfig,updateSetting};
