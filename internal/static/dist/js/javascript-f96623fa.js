function mkJavaScript(parserConfig){var statementIndent=parserConfig.statementIndent,jsonldMode=parserConfig.jsonld,jsonMode=parserConfig.json||jsonldMode,isTS=parserConfig.typescript,wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/,keywords=function(){function kw(type2){return{type:type2,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),D=kw("keyword d"),operator=kw("operator"),atom={type:"atom",style:"atom"};return{if:kw("if"),while:A,with:A,else:B,do:B,try:B,finally:B,return:D,break:D,continue:D,new:kw("new"),delete:C,void:C,throw:C,debugger:kw("debugger"),var:kw("var"),const:kw("var"),let:kw("var"),function:kw("function"),catch:kw("catch"),for:kw("for"),switch:kw("switch"),case:kw("case"),default:kw("default"),in:operator,typeof:operator,instanceof:operator,true:atom,false:atom,null:atom,undefined:atom,NaN:atom,Infinity:atom,this:kw("this"),class:kw("class"),super:kw("atom"),yield:C,export:kw("export"),import:kw("import"),extends:C,await:C}}(),isOperatorChar=/[+\-*&%=<>!?|~^@]/,isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function readRegexp(stream){for(var escaped=!1,next,inSet=!1;(next=stream.next())!=null;){if(!escaped){if(next=="/"&&!inSet)return;next=="["?inSet=!0:inSet&&next=="]"&&(inSet=!1)}escaped=!escaped&&next=="\\"}}var type,content;function ret(tp,style,cont2){return type=tp,content=cont2,style}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'")return state.tokenize=tokenString(ch),state.tokenize(stream,state);if(ch=="."&&stream.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return ret("number","number");if(ch=="."&&stream.match(".."))return ret("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ch))return ret(ch);if(ch=="="&&stream.eat(">"))return ret("=>","operator");if(ch=="0"&&stream.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return ret("number","number");if(/\d/.test(ch))return stream.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),ret("number","number");if(ch=="/")return stream.eat("*")?(state.tokenize=tokenComment,tokenComment(stream,state)):stream.eat("/")?(stream.skipToEnd(),ret("comment","comment")):expressionAllowed(stream,state,1)?(readRegexp(stream),stream.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),ret("regexp","string.special")):(stream.eat("="),ret("operator","operator",stream.current()));if(ch=="`")return state.tokenize=tokenQuasi,tokenQuasi(stream,state);if(ch=="#"&&stream.peek()=="!")return stream.skipToEnd(),ret("meta","meta");if(ch=="#"&&stream.eatWhile(wordRE))return ret("variable","property");if(ch=="<"&&stream.match("!--")||ch=="-"&&stream.match("->")&&!/\S/.test(stream.string.slice(0,stream.start)))return stream.skipToEnd(),ret("comment","comment");if(isOperatorChar.test(ch))return(ch!=">"||!state.lexical||state.lexical.type!=">")&&(stream.eat("=")?(ch=="!"||ch=="=")&&stream.eat("="):/[<>*+\-|&?]/.test(ch)&&(stream.eat(ch),ch==">"&&stream.eat(ch))),ch=="?"&&stream.eat(".")?ret("."):ret("operator","operator",stream.current());if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();if(state.lastType!="."){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word)}if(word=="async"&&stream.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return ret("async","keyword",word)}return ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=!1,next;if(jsonldMode&&stream.peek()=="@"&&stream.match(isJsonldKeyword))return state.tokenize=tokenBase,ret("jsonld-keyword","meta");for(;(next=stream.next())!=null&&!(next==quote&&!escaped);)escaped=!escaped&&next=="\\";return escaped||(state.tokenize=tokenBase),ret("string","string")}}function tokenComment(stream,state){for(var maybeEnd=!1,ch;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return ret("comment","comment")}function tokenQuasi(stream,state){for(var escaped=!1,next;(next=stream.next())!=null;){if(!escaped&&(next=="`"||next=="$"&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&next=="\\"}return ret("quasi","string.special",stream.current())}var brackets="([{}])";function findFatArrow(stream,state){state.fatArrowAt&&(state.fatArrowAt=null);var arrow=stream.string.indexOf("=>",stream.start);if(!(arrow<0)){if(isTS){var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));m&&(arrow=m.index)}for(var depth=0,sawSomething=!1,pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos),bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(--depth==0){ch=="("&&(sawSomething=!0);break}}else if(bracket>=3&&bracket<6)++depth;else if(wordRE.test(ch))sawSomething=!0;else if(/["'\/`]/.test(ch))for(;;--pos){if(pos==0)return;var next=stream.string.charAt(pos-1);if(next==ch&&stream.string.charAt(pos-2)!="\\"){pos--;break}}else if(sawSomething&&!depth){++pos;break}}sawSomething&&!depth&&(state.fatArrowAt=pos)}}var atomicTypes={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function JSLexical(indented,column,type2,align,prev,info){this.indented=indented,this.column=column,this.type=type2,this.prev=prev,this.info=info,align!=null&&(this.align=align)}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return!0;for(var cx2=state.context;cx2;cx2=cx2.prev)for(var v=cx2.vars;v;v=v.next)if(v.name==varname)return!0}function parseJS(state,style,type2,content2,stream){var cc=state.cc;for(cx.state=state,cx.stream=stream,cx.marked=null,cx.cc=cc,cx.style=style,state.lexical.hasOwnProperty("align")||(state.lexical.align=!0);;){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type2,content2)){for(;cc.length&&cc[cc.length-1].lex;)cc.pop()();return cx.marked?cx.marked:type2=="variable"&&inScope(state,content2)?"variableName.local":style}}}var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}function cont(){return pass.apply(null,arguments),!0}function inList(name,list){for(var v=list;v;v=v.next)if(v.name==name)return!0;return!1}function register(varname){var state=cx.state;if(cx.marked="def",state.context){if(state.lexical.info=="var"&&state.context&&state.context.block){var newContext=registerVarScoped(varname,state.context);if(newContext!=null){state.context=newContext;return}}else if(!inList(varname,state.localVars)){state.localVars=new Var(varname,state.localVars);return}}parserConfig.globalVars&&!inList(varname,state.globalVars)&&(state.globalVars=new Var(varname,state.globalVars))}function registerVarScoped(varname,context){if(context)if(context.block){var inner=registerVarScoped(varname,context.prev);return inner?inner==context.prev?context:new Context(inner,context.vars,!0):null}else return inList(varname,context.vars)?context:new Context(context.prev,new Var(varname,context.vars),!1);else return null}function isModifier(name){return name=="public"||name=="private"||name=="protected"||name=="abstract"||name=="readonly"}function Context(prev,vars,block2){this.prev=prev,this.vars=vars,this.block=block2}function Var(name,next){this.name=name,this.next=next}var defaultVars=new Var("this",new Var("arguments",null));function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!1),cx.state.localVars=defaultVars}function pushblockcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,!0),cx.state.localVars=null}pushcontext.lex=pushblockcontext.lex=!0;function popcontext(){cx.state.localVars=cx.state.context.vars,cx.state.context=cx.state.context.prev}popcontext.lex=!0;function pushlex(type2,info){var result=function(){var state=cx.state,indent=state.indented;if(state.lexical.type=="stat")indent=state.lexical.indented;else for(var outer=state.lexical;outer&&outer.type==")"&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type2,null,state.lexical,info)};return result.lex=!0,result}function poplex(){var state=cx.state;state.lexical.prev&&(state.lexical.type==")"&&(state.indented=state.lexical.indented),state.lexical=state.lexical.prev)}poplex.lex=!0;function expect(wanted){function exp(type2){return type2==wanted?cont():wanted==";"||type2=="}"||type2==")"||type2=="]"?pass():cont(exp)}return exp}function statement(type2,value){return type2=="var"?cont(pushlex("vardef",value),vardef,expect(";"),poplex):type2=="keyword a"?cont(pushlex("form"),parenExpr,statement,poplex):type2=="keyword b"?cont(pushlex("form"),statement,poplex):type2=="keyword d"?cx.stream.match(/^\s*$/,!1)?cont():cont(pushlex("stat"),maybeexpression,expect(";"),poplex):type2=="debugger"?cont(expect(";")):type2=="{"?cont(pushlex("}"),pushblockcontext,block,poplex,popcontext):type2==";"?cont():type2=="if"?(cx.state.lexical.info=="else"&&cx.state.cc[cx.state.cc.length-1]==poplex&&cx.state.cc.pop()(),cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)):type2=="function"?cont(functiondef):type2=="for"?cont(pushlex("form"),pushblockcontext,forspec,statement,popcontext,poplex):type2=="class"||isTS&&value=="interface"?(cx.marked="keyword",cont(pushlex("form",type2=="class"?type2:value),className,poplex)):type2=="variable"?isTS&&value=="declare"?(cx.marked="keyword",cont(statement)):isTS&&(value=="module"||value=="enum"||value=="type")&&cx.stream.match(/^\s*\w/,!1)?(cx.marked="keyword",value=="enum"?cont(enumdef):value=="type"?cont(typename,expect("operator"),typeexpr,expect(";")):cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex)):isTS&&value=="namespace"?(cx.marked="keyword",cont(pushlex("form"),expression,statement,poplex)):isTS&&value=="abstract"?(cx.marked="keyword",cont(statement)):cont(pushlex("stat"),maybelabel):type2=="switch"?cont(pushlex("form"),parenExpr,expect("{"),pushlex("}","switch"),pushblockcontext,block,poplex,poplex,popcontext):type2=="case"?cont(expression,expect(":")):type2=="default"?cont(expect(":")):type2=="catch"?cont(pushlex("form"),pushcontext,maybeCatchBinding,statement,poplex,popcontext):type2=="export"?cont(pushlex("stat"),afterExport,poplex):type2=="import"?cont(pushlex("stat"),afterImport,poplex):type2=="async"?cont(statement):value=="@"?cont(expression,statement):pass(pushlex("stat"),expression,expect(";"),poplex)}function maybeCatchBinding(type2){if(type2=="(")return cont(funarg,expect(")"))}function expression(type2,value){return expressionInner(type2,value,!1)}function expressionNoComma(type2,value){return expressionInner(type2,value,!0)}function parenExpr(type2){return type2!="("?pass():cont(pushlex(")"),maybeexpression,expect(")"),poplex)}function expressionInner(type2,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if(type2=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,expect("=>"),body,popcontext);if(type2=="variable")return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;return atomicTypes.hasOwnProperty(type2)?cont(maybeop):type2=="function"?cont(functiondef,maybeop):type2=="class"||isTS&&value=="interface"?(cx.marked="keyword",cont(pushlex("form"),classExpression,poplex)):type2=="keyword c"||type2=="async"?cont(noComma?expressionNoComma:expression):type2=="("?cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop):type2=="operator"||type2=="spread"?cont(noComma?expressionNoComma:expression):type2=="["?cont(pushlex("]"),arrayLiteral,poplex,maybeop):type2=="{"?contCommasep(objprop,"}",null,maybeop):type2=="quasi"?pass(quasi,maybeop):type2=="new"?cont(maybeTarget(noComma)):cont()}function maybeexpression(type2){return type2.match(/[;\}\)\],]/)?pass():pass(expression)}function maybeoperatorComma(type2,value){return type2==","?cont(maybeexpression):maybeoperatorNoComma(type2,value,!1)}function maybeoperatorNoComma(type2,value,noComma){var me=noComma==!1?maybeoperatorComma:maybeoperatorNoComma,expr=noComma==!1?expression:expressionNoComma;if(type2=="=>")return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if(type2=="operator")return/\+\+|--/.test(value)||isTS&&value=="!"?cont(me):isTS&&value=="<"&&cx.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?cont(pushlex(">"),commasep(typeexpr,">"),poplex,me):value=="?"?cont(expression,expect(":"),expr):cont(expr);if(type2=="quasi")return pass(quasi,me);if(type2!=";"){if(type2=="(")return contCommasep(expressionNoComma,")","call",me);if(type2==".")return cont(property,me);if(type2=="[")return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);if(isTS&&value=="as")return cx.marked="keyword",cont(typeexpr,me);if(type2=="regexp")return cx.state.lastType=cx.marked="operator",cx.stream.backUp(cx.stream.pos-cx.stream.start-1),cont(expr)}}function quasi(type2,value){return type2!="quasi"?pass():value.slice(value.length-2)!="${"?cont(quasi):cont(maybeexpression,continueQuasi)}function continueQuasi(type2){if(type2=="}")return cx.marked="string.special",cx.state.tokenize=tokenQuasi,cont(quasi)}function arrowBody(type2){return findFatArrow(cx.stream,cx.state),pass(type2=="{"?statement:expression)}function arrowBodyNoComma(type2){return findFatArrow(cx.stream,cx.state),pass(type2=="{"?statement:expressionNoComma)}function maybeTarget(noComma){return function(type2){return type2=="."?cont(noComma?targetNoComma:target):type2=="variable"&&isTS?cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma):pass(noComma?expressionNoComma:expression)}}function target(_,value){if(value=="target")return cx.marked="keyword",cont(maybeoperatorComma)}function targetNoComma(_,value){if(value=="target")return cx.marked="keyword",cont(maybeoperatorNoComma)}function maybelabel(type2){return type2==":"?cont(poplex,statement):pass(maybeoperatorComma,expect(";"),poplex)}function property(type2){if(type2=="variable")return cx.marked="property",cont()}function objprop(type2,value){if(type2=="async")return cx.marked="property",cont(objprop);if(type2=="variable"||cx.style=="keyword"){if(cx.marked="property",value=="get"||value=="set")return cont(getterSetter);var m;return isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\s*:\s*/,!1))&&(cx.state.fatArrowAt=cx.stream.pos+m[0].length),cont(afterprop)}else{if(type2=="number"||type2=="string")return cx.marked=jsonldMode?"property":cx.style+" property",cont(afterprop);if(type2=="jsonld-keyword")return cont(afterprop);if(isTS&&isModifier(value))return cx.marked="keyword",cont(objprop);if(type2=="[")return cont(expression,maybetype,expect("]"),afterprop);if(type2=="spread")return cont(expressionNoComma,afterprop);if(value=="*")return cx.marked="keyword",cont(objprop);if(type2==":")return pass(afterprop)}}function getterSetter(type2){return type2!="variable"?pass(afterprop):(cx.marked="property",cont(functiondef))}function afterprop(type2){if(type2==":")return cont(expressionNoComma);if(type2=="(")return pass(functiondef)}function commasep(what,end,sep){function proceed(type2,value){if(sep?sep.indexOf(type2)>-1:type2==","){var lex=cx.state.lexical;return lex.info=="call"&&(lex.pos=(lex.pos||0)+1),cont(function(type3,value2){return type3==end||value2==end?pass():pass(what)},proceed)}return type2==end||value==end?cont():sep&&sep.indexOf(";")>-1?pass(what):cont(expect(end))}return function(type2,value){return type2==end||value==end?cont():pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type2){return type2=="}"?cont():pass(statement,block)}function maybetype(type2,value){if(isTS){if(type2==":")return cont(typeexpr);if(value=="?")return cont(maybetype)}}function maybetypeOrIn(type2,value){if(isTS&&(type2==":"||value=="in"))return cont(typeexpr)}function mayberettype(type2){if(isTS&&type2==":")return cx.stream.match(/^\s*\w+\s+is\b/,!1)?cont(expression,isKW,typeexpr):cont(typeexpr)}function isKW(_,value){if(value=="is")return cx.marked="keyword",cont()}function typeexpr(type2,value){if(value=="keyof"||value=="typeof"||value=="infer"||value=="readonly")return cx.marked="keyword",cont(value=="typeof"?expressionNoComma:typeexpr);if(type2=="variable"||value=="void")return cx.marked="type",cont(afterType);if(value=="|"||value=="&")return cont(typeexpr);if(type2=="string"||type2=="number"||type2=="atom")return cont(afterType);if(type2=="[")return cont(pushlex("]"),commasep(typeexpr,"]",","),poplex,afterType);if(type2=="{")return cont(pushlex("}"),typeprops,poplex,afterType);if(type2=="(")return cont(commasep(typearg,")"),maybeReturnType,afterType);if(type2=="<")return cont(commasep(typeexpr,">"),typeexpr);if(type2=="quasi")return pass(quasiType,afterType)}function maybeReturnType(type2){if(type2=="=>")return cont(typeexpr)}function typeprops(type2){return type2.match(/[\}\)\]]/)?cont():type2==","||type2==";"?cont(typeprops):pass(typeprop,typeprops)}function typeprop(type2,value){if(type2=="variable"||cx.style=="keyword")return cx.marked="property",cont(typeprop);if(value=="?"||type2=="number"||type2=="string")return cont(typeprop);if(type2==":")return cont(typeexpr);if(type2=="[")return cont(expect("variable"),maybetypeOrIn,expect("]"),typeprop);if(type2=="(")return pass(functiondecl,typeprop);if(!type2.match(/[;\}\)\],]/))return cont()}function quasiType(type2,value){return type2!="quasi"?pass():value.slice(value.length-2)!="${"?cont(quasiType):cont(typeexpr,continueQuasiType)}function continueQuasiType(type2){if(type2=="}")return cx.marked="string.special",cx.state.tokenize=tokenQuasi,cont(quasiType)}function typearg(type2,value){return type2=="variable"&&cx.stream.match(/^\s*[?:]/,!1)||value=="?"?cont(typearg):type2==":"?cont(typeexpr):type2=="spread"?cont(typearg):pass(typeexpr)}function afterType(type2,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);if(value=="|"||type2=="."||value=="&")return cont(typeexpr);if(type2=="[")return cont(typeexpr,expect("]"),afterType);if(value=="extends"||value=="implements")return cx.marked="keyword",cont(typeexpr);if(value=="?")return cont(typeexpr,expect(":"),typeexpr)}function maybeTypeArgs(_,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType)}function typeparam(){return pass(typeexpr,maybeTypeDefault)}function maybeTypeDefault(_,value){if(value=="=")return cont(typeexpr)}function vardef(_,value){return value=="enum"?(cx.marked="keyword",cont(enumdef)):pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type2,value){if(isTS&&isModifier(value))return cx.marked="keyword",cont(pattern);if(type2=="variable")return register(value),cont();if(type2=="spread")return cont(pattern);if(type2=="[")return contCommasep(eltpattern,"]");if(type2=="{")return contCommasep(proppattern,"}")}function proppattern(type2,value){return type2=="variable"&&!cx.stream.match(/^\s*:/,!1)?(register(value),cont(maybeAssign)):(type2=="variable"&&(cx.marked="property"),type2=="spread"?cont(pattern):type2=="}"?pass():type2=="["?cont(expression,expect("]"),expect(":"),proppattern):cont(expect(":"),pattern,maybeAssign))}function eltpattern(){return pass(pattern,maybeAssign)}function maybeAssign(_type,value){if(value=="=")return cont(expressionNoComma)}function vardefCont(type2){if(type2==",")return cont(vardef)}function maybeelse(type2,value){if(type2=="keyword b"&&value=="else")return cont(pushlex("form","else"),statement,poplex)}function forspec(type2,value){if(value=="await")return cont(forspec);if(type2=="(")return cont(pushlex(")"),forspec1,poplex)}function forspec1(type2){return type2=="var"?cont(vardef,forspec2):type2=="variable"?cont(forspec2):pass(forspec2)}function forspec2(type2,value){return type2==")"?cont():type2==";"?cont(forspec2):value=="in"||value=="of"?(cx.marked="keyword",cont(expression,forspec2)):pass(expression,forspec2)}function functiondef(type2,value){if(value=="*")return cx.marked="keyword",cont(functiondef);if(type2=="variable")return register(value),cont(functiondef);if(type2=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,statement,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondef)}function functiondecl(type2,value){if(value=="*")return cx.marked="keyword",cont(functiondecl);if(type2=="variable")return register(value),cont(functiondecl);if(type2=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondecl)}function typename(type2,value){if(type2=="keyword"||type2=="variable")return cx.marked="type",cont(typename);if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex)}function funarg(type2,value){return value=="@"&&cont(expression,funarg),type2=="spread"?cont(funarg):isTS&&isModifier(value)?(cx.marked="keyword",cont(funarg)):isTS&&type2=="this"?cont(maybetype,maybeAssign):pass(pattern,maybetype,maybeAssign)}function classExpression(type2,value){return type2=="variable"?className(type2,value):classNameAfter(type2,value)}function className(type2,value){if(type2=="variable")return register(value),cont(classNameAfter)}function classNameAfter(type2,value){if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,classNameAfter);if(value=="extends"||value=="implements"||isTS&&type2==",")return value=="implements"&&(cx.marked="keyword"),cont(isTS?typeexpr:expression,classNameAfter);if(type2=="{")return cont(pushlex("}"),classBody,poplex)}function classBody(type2,value){if(type2=="async"||type2=="variable"&&(value=="static"||value=="get"||value=="set"||isTS&&isModifier(value))&&cx.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return cx.marked="keyword",cont(classBody);if(type2=="variable"||cx.style=="keyword")return cx.marked="property",cont(classfield,classBody);if(type2=="number"||type2=="string")return cont(classfield,classBody);if(type2=="[")return cont(expression,maybetype,expect("]"),classfield,classBody);if(value=="*")return cx.marked="keyword",cont(classBody);if(isTS&&type2=="(")return pass(functiondecl,classBody);if(type2==";"||type2==",")return cont(classBody);if(type2=="}")return cont();if(value=="@")return cont(expression,classBody)}function classfield(type2,value){if(value=="!"||value=="?")return cont(classfield);if(type2==":")return cont(typeexpr,maybeAssign);if(value=="=")return cont(expressionNoComma);var context=cx.state.lexical.prev,isInterface=context&&context.info=="interface";return pass(isInterface?functiondecl:functiondef)}function afterExport(type2,value){return value=="*"?(cx.marked="keyword",cont(maybeFrom,expect(";"))):value=="default"?(cx.marked="keyword",cont(expression,expect(";"))):type2=="{"?cont(commasep(exportField,"}"),maybeFrom,expect(";")):pass(statement)}function exportField(type2,value){if(value=="as")return cx.marked="keyword",cont(expect("variable"));if(type2=="variable")return pass(expressionNoComma,exportField)}function afterImport(type2){return type2=="string"?cont():type2=="("?pass(expression):type2=="."?pass(maybeoperatorComma):pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(type2,value){return type2=="{"?contCommasep(importSpec,"}"):(type2=="variable"&&register(value),value=="*"&&(cx.marked="keyword"),cont(maybeAs))}function maybeMoreImports(type2){if(type2==",")return cont(importSpec,maybeMoreImports)}function maybeAs(_type,value){if(value=="as")return cx.marked="keyword",cont(importSpec)}function maybeFrom(_type,value){if(value=="from")return cx.marked="keyword",cont(expression)}function arrayLiteral(type2){return type2=="]"?cont():pass(commasep(expressionNoComma,"]"))}function enumdef(){return pass(pushlex("form"),pattern,expect("{"),pushlex("}"),commasep(enummember,"}"),poplex,poplex)}function enummember(){return pass(pattern,maybeAssign)}function isContinuedStatement(state,textAfter){return state.lastType=="operator"||state.lastType==","||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}function expressionAllowed(stream,state,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(state.lastType)||state.lastType=="quasi"&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}return{name:parserConfig.name,startState:function(indentUnit){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical(-indentUnit,0,"block",!1),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,!1),indented:0};return parserConfig.globalVars&&typeof parserConfig.globalVars=="object"&&(state.globalVars=parserConfig.globalVars),state},token:function(stream,state){if(stream.sol()&&(state.lexical.hasOwnProperty("align")||(state.lexical.align=!1),state.indented=stream.indentation(),findFatArrow(stream,state)),state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);return type=="comment"?style:(state.lastType=type=="operator"&&(content=="++"||content=="--")?"incdec":type,parseJS(state,style,type,content,stream))},indent:function(state,textAfter,cx2){if(state.tokenize==tokenComment||state.tokenize==tokenQuasi)return null;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical,top;if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse&&c!=popcontext)break}for(;(lexical.type=="stat"||lexical.type=="form")&&(firstChar=="}"||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter));)lexical=lexical.prev;statementIndent&&lexical.type==")"&&lexical.prev.type=="stat"&&(lexical=lexical.prev);var type2=lexical.type,closing=firstChar==type2;return type2=="vardef"?lexical.indented+(state.lastType=="operator"||state.lastType==","?lexical.info.length+1:0):type2=="form"&&firstChar=="{"?lexical.indented:type2=="form"?lexical.indented+cx2.unit:type2=="stat"?lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||cx2.unit:0):lexical.info=="switch"&&!closing&&parserConfig.doubleIndentSwitch!=!1?lexical.indented+(/^(?:case|default)\b/.test(textAfter)?cx2.unit:2*cx2.unit):lexical.align?lexical.column+(closing?0:1):lexical.indented+(closing?0:cx2.unit)},languageData:{indentOnInput:/^\s*(?:case .*?:|default:|\{|\})$/,commentTokens:jsonMode?void 0:{line:"//",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]},wordChars:"$"}}}const javascript=mkJavaScript({name:"javascript"}),json=mkJavaScript({name:"json",json:!0}),jsonld=mkJavaScript({name:"json",jsonld:!0}),typescript=mkJavaScript({name:"typescript",typescript:!0});export{javascript,json,jsonld,typescript};
