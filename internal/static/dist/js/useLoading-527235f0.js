import{j as useTexts,q as useToast}from"./index-4d0dab4c.js";import{r as ref}from"./vue-vendor-31320f47.js";function useLoading(initialValue=!1){const loading=ref(initialValue),toast=useToast(),{$t}=useTexts();return{loading,withLoading:async(asyncFn,options)=>{loading.value=!0;try{return await asyncFn()}catch(error){if(console.error("useLoading execution failed:",error),options?.onError)options.onError(error);else if(options?.showErrorToast){const message=options.errorMessage||error?.message||error?.response?.data?.message||$t("common.errors.operationFailed");toast.error(message)}throw error}finally{loading.value=!1}},setLoading:value=>{loading.value=value}}}function useMultipleLoading(initialStates){const loadingStates=ref({...initialStates}),toast=useToast(),{$t}=useTexts();return{loading:loadingStates,withLoading:async(key,asyncFn,options)=>{loadingStates.value[key]=!0;try{return await asyncFn()}catch(error){if(options?.onError)options.onError(error);else if(options?.showErrorToast){const message=options.errorMessage||$t("common.errors.operationFailed");toast.error(message)}throw error}finally{loadingStates.value[key]=!1}},setLoading:(key,value)=>{loadingStates.value[key]=value}}}export{useLoading as a,useMultipleLoading as u};
